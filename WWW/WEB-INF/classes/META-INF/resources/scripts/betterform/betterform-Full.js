/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

dojo.provide("betterform.full");if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function $DLT_(){this._hash={};this.length=0;},add:function $DLU_(_1){if(this._hash[_1.id]){throw new Error("Tried to register widget with id=="+_1.id+" but that id is already registered");}this._hash[_1.id]=_1;this.length++;},remove:function $DLV_(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function $DLW_(_2,_3){_3=_3||dojo.global;var i=0,id;for(id in this._hash){_2.call(_3,this._hash[id],i++,this._hash);}return this;},filter:function $DLX_(_4,_5){_5=_5||dojo.global;var _6=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_4.call(_5,w,i++,this._hash)){_6.add(w);}}return _6;},byId:function $DLY_(id){return this._hash[id];},byClass:function $DLZ_(_7){var _8=new dijit.WidgetSet(),id,_9;for(id in this._hash){_9=this._hash[id];if(_9.declaredClass==_7){_8.add(_9);}}return _8;},toArray:function $DLa_(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function $DLb_(_a,_b){return dojo.map(this.toArray(),_a,_b);},every:function $DLc_(_c,_d){_d=_d||dojo.global;var x=0,i;for(i in this._hash){if(!_c.call(_d,this._hash[i],x++,this._hash)){return false;}}return true;},some:function $DLd_(_e,_f){_f=_f||dojo.global;var x=0,i;for(i in this._hash){if(_e.call(_f,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _10=dijit.registry._hash,_11=dojo.attr,_12=dojo.hasAttr,_13=dojo.style;dijit.byId=function $DLe_(id){return typeof id=="string"?_10[id]:id;};var _14={};dijit.getUniqueId=function $DLf_(_15){var id;do{id=_15+"_"+(_15 in _14?++_14[_15]:_14[_15]=0);}while(_10[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function $DLg_(_16){var _17=[];function _18(_19){for(var _1a=_19.firstChild;_1a;_1a=_1a.nextSibling){if(_1a.nodeType==1){var _1b=_1a.getAttribute("widgetId");if(_1b){var _1c=_10[_1b];if(_1c){_17.push(_1c);}}else{_18(_1a);}}}};_18(_16);return _17;};dijit._destroyAll=function $DLh_(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_1d){if(!_1d._destroyed){if(_1d.destroyRecursive){_1d.destroyRecursive();}else{if(_1d.destroy){_1d.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function $DLi_(_1e){return _10[_1e.getAttribute("widgetId")];};dijit.getEnclosingWidget=function $DLj_(_1f){while(_1f){var id=_1f.getAttribute&&_1f.getAttribute("widgetId");if(id){return _10[id];}_1f=_1f.parentNode;}return null;};var _20=(dijit._isElementShown=function(_21){var s=_13(_21);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_11(_21,"type")!="hidden");});dijit.hasDefaultTabStop=function $DLk_(_22){switch(_22.nodeName.toLowerCase()){case "a":return _12(_22,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _23;try{var _24=_22.contentDocument;if("designMode" in _24&&_24.designMode=="on"){return true;}_23=_24.body;}catch(e1){try{_23=_22.contentWindow.document.body;}catch(e2){return false;}}return _23.contentEditable=="true"||(_23.firstChild&&_23.firstChild.contentEditable=="true");default:return _22.contentEditable=="true";}};var _25=(dijit.isTabNavigable=function(_26){if(_11(_26,"disabled")){return false;}else{if(_12(_26,"tabIndex")){return _11(_26,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_26);}}});dijit._getTabNavigable=function $DLl_(_27){var _28,_29,_2a,_2b,_2c,_2d,_2e={};function _2f(_30){return _30&&_30.tagName.toLowerCase()=="input"&&_30.type&&_30.type.toLowerCase()=="radio"&&_30.name&&_30.name.toLowerCase();};var _31=function(_32){dojo.query("> *",_32).forEach(function(_33){if((dojo.isIE&&_33.scopeName!=="HTML")||!_20(_33)){return;}if(_25(_33)){var _34=_11(_33,"tabIndex");if(!_12(_33,"tabIndex")||_34==0){if(!_28){_28=_33;}_29=_33;}else{if(_34>0){if(!_2a||_34<_2b){_2b=_34;_2a=_33;}if(!_2c||_34>=_2d){_2d=_34;_2c=_33;}}}var rn=_2f(_33);if(dojo.attr(_33,"checked")&&rn){_2e[rn]=_33;}}if(_33.nodeName.toUpperCase()!="SELECT"){_31(_33);}});};if(_20(_27)){_31(_27);}function rs(_35){return _2e[_2f(_35)]||_35;};return {first:rs(_28),last:rs(_29),lowest:rs(_2a),highest:rs(_2c)};};dijit.getFirstInTabbingOrder=function $DLm_(_36){var _37=dijit._getTabNavigable(dojo.byId(_36));return _37.lowest?_37.lowest:_37.first;};dijit.getLastInTabbingOrder=function $DLn_(_38){var _39=dijit._getTabNavigable(dojo.byId(_38));return _39.last?_39.last:_39.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function $DCGN_(_3a){if(_3a){dojo.mixin(this,_3a);}},get:function $DCGO_(_3b){return this[_3b];},set:function $DCGP_(_3c,_3d){if(typeof _3c==="object"){for(var x in _3c){this.set(x,_3c[x]);}return this;}var _3e=this[_3c];this[_3c]=_3d;if(this._watchCallbacks){this._watchCallbacks(_3c,_3e,_3d);}return this;},watch:function $DCGQ_(_3f,_40){var _41=this._watchCallbacks;if(!_41){var _42=this;_41=this._watchCallbacks=function(_43,_44,_45,_46){var _47=function(_48){if(_48){_48=_48.slice();for(var i=0,l=_48.length;i<l;i++){try{_48[i].call(_42,_43,_44,_45);}catch(e){console.error(e);}}}};_47(_41["_"+_43]);if(!_46){_47(_41["*"]);}};}if(!_40&&typeof _3f==="function"){_40=_3f;_3f="*";}else{_3f="_"+_3f;}var _49=_41[_3f];if(typeof _49!=="object"){_49=_41[_3f]=[];}_49.push(_40);return {unwatch:function $DCGR_(){_49.splice(dojo.indexOf(_49,_40),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function $DQe_(_4a,_4b){this.create(_4a,_4b);},create:function $DQf_(_4c,_4d){this.srcNodeRef=dojo.byId(_4d);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_4c){this.params=_4c;dojo._mixin(this,_4c);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _4e=this.srcNodeRef;if(_4e&&_4e.parentNode&&this.domNode!==_4e){_4e.parentNode.replaceChild(this.domNode,_4e);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function $DQg_(){var _4f=function(_50,_51){if((_51.params&&_50 in _51.params)||_51[_50]){_51.set(_50,_51[_50]);}};for(var _52 in this.attributeMap){_4f(_52,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_4f(a,this);}},this);},_getSetterAttributes:function $DQh_(){var _53=this.constructor;if(!_53._setterAttrs){var r=(_53._setterAttrs=[]),_54,_55=_53.prototype;for(var _56 in _55){if(dojo.isFunction(_55[_56])&&(_54=_56.match(/^_set([a-zA-Z]*)Attr$/))&&_54[1]){r.push(_54[1].charAt(0).toLowerCase()+_54[1].substr(1));}}}return _53._setterAttrs;},postMixInProperties:function $DQi_(){},buildRendering:function $DQj_(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _57=this.baseClass.split(" ");if(!this.isLeftToRight()){_57=_57.concat(dojo.map(_57,function(_58){return _58+"Rtl";}));}dojo.addClass(this.domNode,_57);}},postCreate:function $DQk_(){},startup:function $DQl_(){this._started=true;},destroyRecursive:function $DQm_(_59){this._beingDestroyed=true;this.destroyDescendants(_59);this.destroy(_59);},destroy:function $DQn_(_5a){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_5b){dfe(_5b,d.disconnect);});dfe(this._subscribes,function(_5c){dun(_5c);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_5a);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function $DQo_(_5d){if(this.bgIframe){this.bgIframe.destroy(_5d);delete this.bgIframe;}if(this.domNode){if(_5d){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_5d){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function $DQp_(_5e){dojo.forEach(this.getChildren(),function(_5f){if(_5f.destroyRecursive){_5f.destroyRecursive(_5e);}});},uninitialize:function $DQq_(){return false;},_setClassAttr:function $DQr_(_60){var _61=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_61,_60,this["class"]);this._set("class",_60);},_setStyleAttr:function $DQs_(_62){var _63=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_62)){dojo.style(_63,_62);}else{if(_63.style.cssText){_63.style.cssText+="; "+_62;}else{_63.style.cssText=_62;}}this._set("style",_62);},_attrToDom:function $DQt_(_64,_65){var _66=this.attributeMap[_64];dojo.forEach(dojo.isArray(_66)?_66:[_66],function(_67){var _68=this[_67.node||_67||"domNode"];var _69=_67.type||"attribute";switch(_69){case "attribute":if(dojo.isFunction(_65)){_65=dojo.hitch(this,_65);}var _6a=_67.attribute?_67.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_64)?_64.toLowerCase():_64);dojo.attr(_68,_6a,_65);break;case "innerText":_68.innerHTML="";_68.appendChild(dojo.doc.createTextNode(_65));break;case "innerHTML":_68.innerHTML=_65;break;case "class":dojo.replaceClass(_68,_65,this[_64]);break;}},this);},get:function $DQu_(_6b){var _6c=this._getAttrNames(_6b);return this[_6c.g]?this[_6c.g]():this[_6b];},set:function $DQv_(_6d,_6e){if(typeof _6d==="object"){for(var x in _6d){this.set(x,_6d[x]);}return this;}var _6f=this._getAttrNames(_6d);if(this[_6f.s]){var _70=this[_6f.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(_6d in this.attributeMap){this._attrToDom(_6d,_6e);}this._set(_6d,_6e);}return _70||this;},_attrPairNames:{},_getAttrNames:function $DQw_(_71){var apn=this._attrPairNames;if(apn[_71]){return apn[_71];}var uc=_71.charAt(0).toUpperCase()+_71.substr(1);return (apn[_71]={n:_71+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function $DQx_(_72,_73){var _74=this[_72];this[_72]=_73;if(this._watchCallbacks&&this._created&&_73!==_74){this._watchCallbacks(_72,_74,_73);}},toString:function $DQy_(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function $DQz_(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function $DQ0_(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function $DQ1_(obj,_75,_76){var _77=[dojo._connect(obj,_75,this,_76)];this._connects.push(_77);return _77;},disconnect:function $DQ2_(_78){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_78){dojo.forEach(_78,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function $DQ3_(_79,_7a){var _7b=dojo.subscribe(_79,this,_7a);this._subscribes.push(_7b);return _7b;},unsubscribe:function $DQ4_(_7c){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_7c){dojo.unsubscribe(_7c);this._subscribes.splice(i,1);return;}}},isLeftToRight:function $DQ5_(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function $DQ6_(_7d,_7e){if(_7d.declaredClass&&_7d.addChild){_7d.addChild(this,_7e);}else{dojo.place(this.domNode,_7d,_7e);}return this;}});})();}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function $DCH5_(){var _7f=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _80=dojo._docScroll();return {w:_7f.clientWidth,h:_7f.clientHeight,l:_80.x,t:_80.y};};dojo.window.get=function $DCH6_(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function $DCH7_(_81,pos){try{_81=dojo.byId(_81);var doc=_81.ownerDocument||dojo.doc,_82=doc.body||dojo.body(),_83=doc.documentElement||_82.parentNode,_84=dojo.isIE,_85=dojo.isWebKit;if((!(dojo.isMoz||_84||_85||dojo.isOpera)||_81==_82||_81==_83)&&(typeof _81.scrollIntoView!="undefined")){_81.scrollIntoView(false);return;}var _86=doc.compatMode=="BackCompat",_87=(_84>=9&&_81.ownerDocument.parentWindow.frameElement)?((_83.clientHeight>0&&_83.clientWidth>0&&(_82.clientHeight==0||_82.clientWidth==0||_82.clientHeight>_83.clientHeight||_82.clientWidth>_83.clientWidth))?_83:_82):(_86?_82:_83),_88=_85?_82:_87,_89=_87.clientWidth,_8a=_87.clientHeight,rtl=!dojo._isBodyLtr(),_8b=pos||dojo.position(_81),el=_81.parentNode,_8c=function $DCH8_(el){return ((_84<=6||(_84&&_86))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_8c(_81)){return;}while(el){if(el==_82){el=_88;}var _8d=dojo.position(el),_8e=_8c(el);if(el==_88){_8d.w=_89;_8d.h=_8a;if(_88==_83&&_84&&rtl){_8d.x+=_88.offsetWidth-_8d.w;}if(_8d.x<0||!_84){_8d.x=0;}if(_8d.y<0||!_84){_8d.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_8d.w-=pb.w;_8d.h-=pb.h;_8d.x+=pb.l;_8d.y+=pb.t;var _8f=el.clientWidth,_90=_8d.w-_8f;if(_8f>0&&_90>0){_8d.w=_8f;_8d.x+=(rtl&&(_84||el.clientLeft>pb.l))?_90:0;}_8f=el.clientHeight;_90=_8d.h-_8f;if(_8f>0&&_90>0){_8d.h=_8f;}}if(_8e){if(_8d.y<0){_8d.h+=_8d.y;_8d.y=0;}if(_8d.x<0){_8d.w+=_8d.x;_8d.x=0;}if(_8d.y+_8d.h>_8a){_8d.h=_8a-_8d.y;}if(_8d.x+_8d.w>_89){_8d.w=_89-_8d.x;}}var l=_8b.x-_8d.x,t=_8b.y-Math.max(_8d.y,0),r=l+_8b.w-_8d.w,bot=t+_8b.h-_8d.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((_84==8&&!_86)||_84>=9)){s=-s;}_8b.x+=el.scrollLeft;el.scrollLeft+=s;_8b.x-=el.scrollLeft;}if(bot*t>0){_8b.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_8b.y-=el.scrollTop;}el=(el!=_88)&&!_8e&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_81.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function $DLu_(){return dijit.getBookmark().isCollapsed;},getBookmark:function $DLv_(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;},moveToBookmark:function $DLw_(_91){var _92=dojo.doc,_93=_91.mark;if(_93){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_93.pRange){var r=_93;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_93);}}else{}}else{if(_92.selection&&_93){var rg;if(_93.pRange){rg=_93.range;}else{if(dojo.isArray(_93)){rg=_92.body.createControlRange();dojo.forEach(_93,function(n){rg.addElement(n);});}else{rg=_92.body.createTextRange();rg.moveToBookmark(_93);}}rg.select();}}}},getFocus:function $DLx_(_94,_95){var _96=!dijit._curFocus||(_94&&dojo.isDescendant(dijit._curFocus,_94.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_96,bookmark:(_96==dijit._curFocus)&&dojo.withGlobal(_95||dojo.global,dijit.getBookmark),openedForWindow:_95};},focus:function $DLy_(_97){if(!_97){return;}var _98="node" in _97?_97.node:_97,_99=_97.bookmark,_9a=_97.openedForWindow,_9b=_99?_99.isCollapsed:false;if(_98){var _9c=(_98.tagName.toLowerCase()=="iframe")?_98.contentWindow:_98;if(_9c&&_9c.focus){try{_9c.focus();}catch(e){}}dijit._onFocusNode(_98);}if(_99&&dojo.withGlobal(_9a||dojo.global,dijit.isCollapsed)&&!_9b){if(_9a){_9a.focus();}try{dojo.withGlobal(_9a||dojo.global,dijit.moveToBookmark,null,[_99]);}catch(e2){}}},_activeStack:[],registerIframe:function $DLz_(_9d){return dijit.registerWin(_9d.contentWindow,_9d);},unregisterIframe:function $DL0_(_9e){dijit.unregisterWin(_9e);},registerWin:function $DL1_(_9f,_a0){var _a1=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_a0||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_9f.document.documentElement:_9f.document;if(doc){if(dojo.isIE){_9f.document.body.attachEvent("onmousedown",_a1);var _a2=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_a0||evt.srcElement);}else{dijit._onTouchNode(_a0||evt.srcElement);}};doc.attachEvent("onactivate",_a2);var _a3=function(evt){dijit._onBlurNode(_a0||evt.srcElement);};doc.attachEvent("ondeactivate",_a3);return function(){_9f.document.detachEvent("onmousedown",_a1);doc.detachEvent("onactivate",_a2);doc.detachEvent("ondeactivate",_a3);doc=null;};}else{doc.body.addEventListener("mousedown",_a1,true);var _a4=function(evt){dijit._onFocusNode(_a0||evt.target);};doc.addEventListener("focus",_a4,true);var _a5=function(evt){dijit._onBlurNode(_a0||evt.target);};doc.addEventListener("blur",_a5,true);return function(){doc.body.removeEventListener("mousedown",_a1,true);doc.removeEventListener("focus",_a4,true);doc.removeEventListener("blur",_a5,true);doc=null;};}}},unregisterWin:function $DL2_(_a6){_a6&&_a6();},_onBlurNode:function $DL3_(_a7){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function $DL4_(_a8,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _a9=[];try{while(_a8){var _aa=dojo.attr(_a8,"dijitPopupParent");if(_aa){_a8=dijit.byId(_aa).domNode;}else{if(_a8.tagName&&_a8.tagName.toLowerCase()=="body"){if(_a8===dojo.body()){break;}_a8=dojo.window.get(_a8.ownerDocument).frameElement;}else{var id=_a8.getAttribute&&_a8.getAttribute("widgetId"),_ab=id&&dijit.byId(id);if(_ab&&!(by=="mouse"&&_ab.get("disabled"))){_a9.unshift(id);}_a8=_a8.parentNode;}}}}catch(e){}dijit._setStack(_a9,by);},_onFocusNode:function $DL5_(_ac){if(!_ac){return;}if(_ac.nodeType==9){return;}dijit._onTouchNode(_ac);if(_ac==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_ac;dojo.publish("focusNode",[_ac]);},_setStack:function $DL6_(_ad,by){var _ae=dijit._activeStack;dijit._activeStack=_ad;for(var _af=0;_af<Math.min(_ae.length,_ad.length);_af++){if(_ae[_af]!=_ad[_af]){break;}}var _b0;for(var i=_ae.length-1;i>=_af;i--){_b0=dijit.byId(_ae[i]);if(_b0){_b0._focused=false;_b0.set("focused",false);_b0._hasBeenBlurred=true;if(_b0._onBlur){_b0._onBlur(by);}dojo.publish("widgetBlur",[_b0,by]);}}for(i=_af;i<_ad.length;i++){_b0=dijit.byId(_ad[i]);if(_b0){_b0._focused=true;_b0.set("focused",true);if(_b0._onFocus){_b0._onFocus(by);}dojo.publish("widgetFocus",[_b0,by]);}}}});dojo.addOnLoad(function(){var _b1=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_b1);_b1=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function $DCGV_(_b2){this.pairs=[];this.returnWrappers=_b2||false;};dojo.extend(dojo.AdapterRegistry,{register:function $DCGS_(_b3,_b4,_b5,_b6,_b7){this.pairs[((_b7)?"unshift":"push")]([_b3,_b4,_b5,_b6]);},match:function $DCGT_(){for(var i=0;i<this.pairs.length;i++){var _b8=this.pairs[i];if(_b8[1].apply(this,arguments)){if((_b8[3])||(this.returnWrappers)){return _b8[2];}else{return _b8[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function $DCGU_(_b9){for(var i=0;i<this.pairs.length;i++){var _ba=this.pairs[i];if(_ba[0]==_b9){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function $DK6_(){return dojo.window.getBox();};dijit.placeOnScreen=function $DK8_(_bb,pos,_bc,_bd){var _be=dojo.map(_bc,function(_bf){var c={corner:_bf,pos:{x:pos.x,y:pos.y}};if(_bd){c.pos.x+=_bf.charAt(1)=="L"?_bd.x:-_bd.x;c.pos.y+=_bf.charAt(0)=="T"?_bd.y:-_bd.y;}return c;});return dijit._place(_bb,_be);};dijit._place=function $DK9_(_c0,_c1,_c2,_c3){var _c4=dojo.window.getBox();if(!_c0.parentNode||String(_c0.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_c0);}var _c5=null;dojo.some(_c1,function(_c6){var _c7=_c6.corner;var pos=_c6.pos;var _c8=0;var _c9={w:_c7.charAt(1)=="L"?(_c4.l+_c4.w)-pos.x:pos.x-_c4.l,h:_c7.charAt(1)=="T"?(_c4.t+_c4.h)-pos.y:pos.y-_c4.t};if(_c2){var res=_c2(_c0,_c6.aroundCorner,_c7,_c9,_c3);_c8=typeof res=="undefined"?0:res;}var _ca=_c0.style;var _cb=_ca.display;var _cc=_ca.visibility;_ca.visibility="hidden";_ca.display="";var mb=dojo.marginBox(_c0);_ca.display=_cb;_ca.visibility=_cc;var _cd=Math.max(_c4.l,_c7.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_ce=Math.max(_c4.t,_c7.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_cf=Math.min(_c4.l+_c4.w,_c7.charAt(1)=="L"?(_cd+mb.w):pos.x),_d0=Math.min(_c4.t+_c4.h,_c7.charAt(0)=="T"?(_ce+mb.h):pos.y),_d1=_cf-_cd,_d2=_d0-_ce;_c8+=(mb.w-_d1)+(mb.h-_d2);if(_c5==null||_c8<_c5.overflow){_c5={corner:_c7,aroundCorner:_c6.aroundCorner,x:_cd,y:_ce,w:_d1,h:_d2,overflow:_c8,spaceAvailable:_c9};}return !_c8;});if(_c5.overflow&&_c2){_c2(_c0,_c5.aroundCorner,_c5.corner,_c5.spaceAvailable,_c3);}var l=dojo._isBodyLtr(),s=_c0.style;s.top=_c5.y+"px";s[l?"left":"right"]=(l?_c5.x:_c4.w-_c5.x-_c5.w)+"px";return _c5;};dijit.placeOnScreenAroundNode=function $DLA_(_d3,_d4,_d5,_d6){_d4=dojo.byId(_d4);var _d7=dojo.position(_d4,true);return dijit._placeOnScreenAroundRect(_d3,_d7.x,_d7.y,_d7.w,_d7.h,_d5,_d6);};dijit.placeOnScreenAroundRectangle=function $DLC_(_d8,_d9,_da,_db){return dijit._placeOnScreenAroundRect(_d8,_d9.x,_d9.y,_d9.width,_d9.height,_da,_db);};dijit._placeOnScreenAroundRect=function $DLD_(_dc,x,y,_dd,_de,_df,_e0){var _e1=[];for(var _e2 in _df){_e1.push({aroundCorner:_e2,corner:_df[_e2],pos:{x:x+(_e2.charAt(1)=="L"?0:_dd),y:y+(_e2.charAt(0)=="T"?0:_de)}});}return dijit._place(_dc,_e1,_e0,{w:_dd,h:_de});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function $DLE_(_e3,_e4,_e5,_e6){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function $DLF_(_e7,_e8){var _e9={};dojo.forEach(_e7,function(pos){switch(pos){case "after":_e9[_e8?"BR":"BL"]=_e8?"BL":"BR";break;case "before":_e9[_e8?"BL":"BR"]=_e8?"BR":"BL";break;case "below-alt":_e8=!_e8;case "below":_e9[_e8?"BL":"BR"]=_e8?"TL":"TR";_e9[_e8?"BR":"BL"]=_e8?"TR":"TL";break;case "above-alt":_e8=!_e8;case "above":default:_e9[_e8?"TL":"TR"]=_e8?"BL":"BR";_e9[_e8?"TR":"TL"]=_e8?"BR":"BL";break;}});return _e9;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function $DMG_(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function $DLG_(_ea){var _eb=_ea.declaredClass?_ea._popupWrapper:(_ea.parentNode&&dojo.hasClass(_ea.parentNode,"dijitPopup")),_ec=_ea.domNode||_ea;if(!_eb){_eb=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_eb.appendChild(_ec);var s=_ec.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_ea.declaredClass){_ea._popupWrapper=_eb;dojo.connect(_ea,"destroy",function(){dojo.destroy(_eb);delete _ea._popupWrapper;});}}return _eb;},moveOffScreen:function $DLH_(_ed){var _ee=this._createWrapper(_ed);dojo.style(_ee,{visibility:"hidden",top:"-9999px",display:""});},hide:function $DLI_(_ef){var _f0=this._createWrapper(_ef);dojo.style(_f0,"display","none");},getTopPopup:function $DLJ_(){var _f1=this._stack;for(var pi=_f1.length-1;pi>0&&_f1[pi].parent===_f1[pi-1].widget;pi--){}return _f1[pi];},open:function $DLK_(_f2){var _f3=this._stack,_f4=_f2.popup,_f5=_f2.orient||((_f2.parent?_f2.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_f6=_f2.around,id=(_f2.around&&_f2.around.id)?(_f2.around.id+"_dropdown"):("popup_"+this._idGen++);while(_f3.length&&(!_f2.parent||!dojo.isDescendant(_f2.parent.domNode,_f3[_f3.length-1].widget.domNode))){dijit.popup.close(_f3[_f3.length-1].widget);}var _f7=this._createWrapper(_f4);dojo.attr(_f7,{id:id,style:{zIndex:this._beginZIndex+_f3.length},"class":"dijitPopup "+(_f4.baseClass||_f4["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_f2.parent?_f2.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_f4.bgIframe){_f4.bgIframe=new dijit.BackgroundIframe(_f7);}}var _f8=_f6?dijit.placeOnScreenAroundElement(_f7,_f6,_f5,_f4.orient?dojo.hitch(_f4,"orient"):null):dijit.placeOnScreen(_f7,_f2,_f5=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_f2.padding);_f7.style.display="";_f7.style.visibility="visible";_f4.domNode.style.visibility="visible";var _f9=[];_f9.push(dojo.connect(_f7,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_f2.onCancel){dojo.stopEvent(evt);_f2.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _fa=this.getTopPopup();if(_fa&&_fa.onCancel){_fa.onCancel();}}}}));if(_f4.onCancel){_f9.push(dojo.connect(_f4,"onCancel",_f2.onCancel));}_f9.push(dojo.connect(_f4,_f4.onExecute?"onExecute":"onChange",this,function(){var _fb=this.getTopPopup();if(_fb&&_fb.onExecute){_fb.onExecute();}}));_f3.push({widget:_f4,parent:_f2.parent,onExecute:_f2.onExecute,onCancel:_f2.onCancel,onClose:_f2.onClose,handlers:_f9});if(_f4.onOpen){_f4.onOpen(_f8);}return _f8;},close:function $DLL_(_fc){var _fd=this._stack;while((_fc&&dojo.some(_fd,function(_fe){return _fe.widget==_fc;}))||(!_fc&&_fd.length)){var top=_fd.pop(),_ff=top.widget,_100=top.onClose;if(_ff.onClose){_ff.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_ff&&_ff.domNode){this.hide(_ff);}if(_100){_100();}}}};dijit._frames=new function(){var _101=[];this.pop=function $DLO_(){var _102;if(_101.length){_102=_101.pop();_102.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_102=dojo.doc.createElement(html);}else{_102=dojo.create("iframe");_102.src="javascript:\"\"";_102.className="dijitBackgroundIframe";dojo.style(_102,"opacity",0.1);}_102.tabIndex=-1;dijit.setWaiRole(_102,"presentation");}return _102;};this.push=function $DLP_(_103){_103.style.display="none";_101.push(_103);};}();dijit.BackgroundIframe=function $DLR_(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _104=(this.iframe=dijit._frames.pop());node.appendChild(_104);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_104,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function $DLM_(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function $DLN_(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function $DLS_(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_105=d.isOpera,maj=Math.floor,ff=d.isFF,_106=d.boxModel.replace(/-/,""),_107={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_105,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_107["dj_"+_106]=true;var _108="";for(var clz in _107){if(_107[clz]){_108+=clz+" ";}}html.className=d.trim(html.className+" "+_108);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _109="dj_rtl dijitRtl "+_108.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_109);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function $DLo_(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function $DLp_(evt,_10a,node,_10b,obj,_10c,_10d,_10e){if(obj!=this._obj){this.stop();this._initialDelay=_10d||500;this._subsequentDelay=_10c||0.9;this._minDelay=_10e||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_10a,_10b);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function $DLq_(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function $DLr_(node,_10f,_110,_111,_112,_113,_114){if(_10f.keyCode){_10f.charOrCode=_10f.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_10f.charCode){_10f.charOrCode=String.fromCharCode(_10f.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_10f.charOrCode&&(_10f.ctrlKey===undefined||_10f.ctrlKey==evt.ctrlKey)&&(_10f.altKey===undefined||_10f.altKey==evt.altKey)&&(_10f.metaKey===undefined||_10f.metaKey==(evt.metaKey||false))&&(_10f.shiftKey===undefined||_10f.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_110,node,_111,_10f,_112,_113,_114);}else{if(dijit.typematic._obj==_10f){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_10f){dijit.typematic.stop();}})];},addMouseListener:function $DLs_(node,_115,_116,_117,_118,_119){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_115,node,_116,node,_117,_118,_119);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_115,node,_116,node,_117,_118,_119);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function $DLt_(_11a,_11b,_11c,_11d,_11e,_11f,_120,_121){return this.addKeyListener(_11b,_11c,_11d,_11e,_11f,_120,_121).concat(this.addMouseListener(_11a,_11d,_11e,_11f,_120,_121));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function $DL7_(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _122=cs.backgroundImage;var _123=(cs.borderTopColor==cs.borderRightColor)||(_122!=null&&(_122=="none"||_122=="url(invalid-url:)"));dojo[_123?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function $DL8_(elem,role){var _124=this.getWaiRole(elem);return role?(_124.indexOf(role)>-1):(_124.length>0);},getWaiRole:function $DL9_(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function $DMA_(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function $DMB_(elem,role){var _125=dojo.attr(elem,"role");if(!_125){return;}if(role){var t=dojo.trim((" "+_125+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function $DMC_(elem,_126){return elem.hasAttribute?elem.hasAttribute("aria-"+_126):!!elem.getAttribute("aria-"+_126);},getWaiState:function $DMD_(elem,_127){return elem.getAttribute("aria-"+_127)||"";},setWaiState:function $DME_(elem,_128,_129){elem.setAttribute("aria-"+_128,_129);},removeWaiState:function $DMF_(elem,_12a){elem.removeAttribute("aria-"+_12a);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_12b,_12c){if(_12b&&dojo.isFunction(_12b._onConnect)){_12b._onConnect(_12c);}});dijit._connectOnUseEventHandler=function $DUa_(_12d){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _12e=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_12e);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_12e);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function $DUM_(_12f,_130){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function $DUN_(_131){if(_131 in this._deferredConnects){var _132=this[this._deferredConnects[_131]||"domNode"];this.connect(_132,_131.toLowerCase(),_131);delete this._deferredConnects[_131];}},focused:false,isFocusable:function $DUO_(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function $DUP_(){},onBlur:function $DUQ_(){},_onFocus:function $DUR_(e){this.onFocus();},_onBlur:function $DUS_(){this.onBlur();},setAttribute:function $DUT_(attr,_133){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_133);},attr:function $DUU_(name,_134){if(dojo.config.isDebug){var _135=arguments.callee._ach||(arguments.callee._ach={}),_136=(arguments.callee.caller||"unknown caller").toString();if(!_135[_136]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_136,"","2.0");_135[_136]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function $DUV_(obj,_137,_138){var d=dojo,dc=d._connect,_139=this.inherited(arguments,[obj,_137=="ondijitclick"?"onclick":_137,_138]);if(_137=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_138);_139.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _139;},_onShow:function $DUW_(){this.onShow();},onShow:function $DUX_(){},onHide:function $DUY_(){},onClose:function $DUZ_(){return true;}});})();}if(!dojo._hasResource["betterform.XFormsProcessor"]){dojo._hasResource["betterform.XFormsProcessor"]=true;dojo.provide("betterform.XFormsProcessor");dojo.declare("betterform.XFormsProcessor",dijit._Widget,{sessionKey:"",constructor:function $DBq2_(){},init:function $DBq3_(){},keepAlive:function $DBq4_(){},closeSession:function $DBq5_(){},ignoreExceptions:function $DBq6_(msg){},dispatchEvent:function $DBq7_(_13a){},setControlValue:function $DBq8_(id,_13b){},setRange:function $DBq9_(id,_13c){},setRepeatIndex:function $DBrA_(_13d){},_useLoadingMessage:function $DBrB_(){},_handleExceptions:function $DBrC_(msg){console.error(msg);}});}if(!dojo._hasResource["betterform.ui.common.Alert"]){dojo._hasResource["betterform.ui.common.Alert"]=true;dojo.provide("betterform.ui.common.Alert");dojo.declare("betterform.ui.common.Alert",null,{alert:"alert",hint:"hint",info:"info",none:"none",alwaysShowHint:dojo.query(".bfAlwaysShowHint",dojo.doc)[0],handleValid:function $DBjw_(id,_13e){var _13f=dijit.byId(id);if(_13f==null){return;}var _140=this._controlValueIsEmpty(_13f);if(_13e=="init"){return;}else{if(_13e=="xfDisabled"||_13e=="changeAlertType"||((_13e=="applyChanges"||_13e=="onBlur")&&_140)){this._displayNone(id,_13e);}}if(_13e=="onFocus"&&(_140||this.alwaysShowHint!=undefined)){this._displayHint(id,_13e);}else{if((_13e=="applyChanges"||_13e=="onBlur")&&!_140){this._displayInfo(id,_13e);}else{}}if(dojo.hasClass(_13f.domNode,"bfInvalidControl")){dojo.removeClass(_13f.domNode,"bfInvalidControl");}},handleInvalid:function $DBjx_(id,_141){var _142=dijit.byId(id);if(_142==null){return;}var _143=this._controlValueIsEmpty(_142);if(dojo.byId(id+"-"+this.alert)==undefined||_141=="init"||_141=="changeAlertType"){return;}else{if(_141=="onFocus"&&(_143||this.alwaysShowHint!=undefined)){this._displayHint(id,_141);return;}else{if(_141=="onFocus"||_141=="xfDisabled"||_141=="onBlur"||_141=="applyChanges"||_141=="submitError"){this._displayAlert(id,_141);}else{}}}if(!dojo.hasClass(_142.domNode,"bfInvalidControl")){dojo.addClass(_142.domNode,"bfInvalidControl");}},_displayAlert:function $DBjy_(id,_144){this._show(id,this.alert,_144);this._hide(id,this.hint,_144);this._hide(id,this.info,_144);},_displayHint:function $DBjz_(id,_145){this._show(id,this.hint,_145);this._hide(id,this.alert,_145);this._hide(id,this.info,_145);},_displayInfo:function $DBj0_(id,_146){this._show(id,this.info,_146);this._hide(id,this.hint,_146);this._hide(id,this.alert,_146);},_displayNone:function $DBj1_(id,_147){this._hide(id,this.alert,_147);this._hide(id,this.hint,_147);this._hide(id,this.info,_147);},_show:function $DBj2_(id,_148,_149){console.error("Alert._show must be overwritten by its extending class");},_hide:function $DBj3_(id,_14a,_14b){console.error("Alert._hide must be overwritten by its extending class");},_controlValueIsEmpty:function $DBj4_(_14c){var _14d=false;var _14e=_14c.getControlValue();if(_14e==undefined||_14e==""){_14d=true;}else{if(dojo.hasClass(_14c.domNode,"xsdBoolean")&&!_14e){_14d=true;}else{if(dojo.hasClass(_14c.domNode,"xfRange")&&(_14e==0||_14e=="0")){_14d=true;}}}return _14d;}});}if(!dojo._hasResource["betterform.ui.common.GlobalAlert"]){dojo._hasResource["betterform.ui.common.GlobalAlert"]=true;dojo.provide("betterform.ui.common.GlobalAlert");dojo.declare("betterform.ui.common.GlobalAlert",betterform.ui.common.Alert,{handleValid:function $DBj5_(id,_14f){},handleInvalid:function $DBj6_(id,_150){}});}if(!dojo._hasResource["betterform.ui.common.BowlAlert"]){dojo._hasResource["betterform.ui.common.BowlAlert"]=true;dojo.provide("betterform.ui.common.BowlAlert");dojo.declare("betterform.ui.common.BowlAlert",betterform.ui.common.Alert,{handleValid:function $DBjm_(id,_151){},handleInvalid:function $DBjn_(id,_152){}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");(function(){var _153={_fire:function $DCGd_(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _154=function(_155){this._index=-1;this._animations=_155||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;dojo.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};dojo.extend(_154,{_onAnimate:function $DCGe_(){this._fire("onAnimate",arguments);},_onEnd:function $DCGf_(){dojo.disconnect(this._onAnimateCtx);dojo.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function $DCGg_(_156,_157){if(!this._current){this._current=this._animations[this._index=0];}if(!_157&&this._current.status()=="playing"){return this;}var _158=dojo.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_159=dojo.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_15a=dojo.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);dojo.disconnect(_158);dojo.disconnect(_159);dojo.disconnect(_15a);});if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function $DCGh_(){if(this._current){var e=dojo.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);dojo.disconnect(e);});this._current.pause();}return this;},gotoPercent:function $DCGi_(_15b,_15c){this.pause();var _15d=this.duration*_15b;this._current=null;dojo.some(this._animations,function(a){if(a.duration<=_15d){this._current=a;return true;}_15d-=a.duration;return false;});if(this._current){this._current.gotoPercent(_15d/this._current.duration,_15c);}return this;},stop:function $DCGj_(_15e){if(this._current){if(_15e){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=dojo.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);dojo.disconnect(e);});this._current.stop();}return this;},status:function $DCGk_(){return this._current?this._current.status():"stopped";},destroy:function $DCGl_(){if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}}});dojo.extend(_154,_153);dojo.fx.chain=function $DCG0_(_15f){return new _154(_15f);};var _160=function(_161){this._animations=_161||[];this._connects=[];this._finished=0;this.duration=0;dojo.forEach(_161,function(a){var _162=a.duration;if(a.delay){_162+=a.delay;}if(this.duration<_162){this.duration=_162;}this._connects.push(dojo.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new dojo._Animation({curve:[0,1],duration:this.duration});dojo.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){var self=this;this._connects.push(dojo.connect(this._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));},this);};dojo.extend(_160,{_doAction:function $DCGm_(_163,args){dojo.forEach(this._animations,function(a){a[_163].apply(a,args);});return this;},_onEnd:function $DCGn_(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function $DCGo_(_164,args){var t=this._pseudoAnimation;t[_164].apply(t,args);},play:function $DCGp_(_165,_166){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function $DCGq_(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function $DCGr_(_167,_168){var ms=this.duration*_167;dojo.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_168);});this._call("gotoPercent",arguments);return this;},stop:function $DCGs_(_169){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function $DCGt_(){return this._pseudoAnimation.status();},destroy:function $DCGu_(){dojo.forEach(this._connects,dojo.disconnect);}});dojo.extend(_160,_153);dojo.fx.combine=function $DCG1_(_16a){return new _160(_16a);};})();dojo.declare("dojo.fx.Toggler",null,{constructor:function $DCGv_(args){var _16b=this;dojo.mixin(_16b,args);_16b.node=args.node;_16b._showArgs=dojo.mixin({},args);_16b._showArgs.node=_16b.node;_16b._showArgs.duration=_16b.showDuration;_16b.showAnim=_16b.showFunc(_16b._showArgs);_16b._hideArgs=dojo.mixin({},args);_16b._hideArgs.node=_16b.node;_16b._hideArgs.duration=_16b.hideDuration;_16b.hideAnim=_16b.hideFunc(_16b._hideArgs);dojo.connect(_16b.showAnim,"beforeBegin",dojo.hitch(_16b.hideAnim,"stop",true));dojo.connect(_16b.hideAnim,"beforeBegin",dojo.hitch(_16b.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function $DCGw_(_16c){return this.showAnim.play(_16c||0);},hide:function $DCGx_(_16d){return this.hideAnim.play(_16d||0);}});dojo.fx.wipeIn=function $DCG2_(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style,o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{start:function $DCGy_(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _16e=dojo.style(node,"height");return Math.max(_16e,1);}},end:function $DCGz_(){return node.scrollHeight;}}}},args));dojo.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function $DCG3_(args){var node=args.node=dojo.byId(args.node);var s=node.style;var o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},args));dojo.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});dojo.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function $DCG4_(args){var node=(args.node=dojo.byId(args.node));var top=null;var left=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=dojo.animateProperty(dojo.mixin({properties:{top:{end:args.top||0},left:{end:args.left||0}}},args));dojo.connect(anim,"beforeBegin",anim,init);return anim;};}if(!dojo._hasResource["dojo.NodeList-fx"]){dojo._hasResource["dojo.NodeList-fx"]=true;dojo.provide("dojo.NodeList-fx");dojo.extend(dojo.NodeList,{_anim:function $DB1B_(obj,_16f,args){args=args||{};var a=dojo.fx.combine(this.map(function(item){var _170={node:item};dojo.mixin(_170,args);return obj[_16f](_170);}));return args.auto?a.play()&&this:a;},wipeIn:function $DB1C_(args){return this._anim(dojo.fx,"wipeIn",args);},wipeOut:function $DB1D_(args){return this._anim(dojo.fx,"wipeOut",args);},slideTo:function $DB1E_(args){return this._anim(dojo.fx,"slideTo",args);},fadeIn:function $DB1F_(args){return this._anim(dojo,"fadeIn",args);},fadeOut:function $DB1G_(args){return this._anim(dojo,"fadeOut",args);},animateProperty:function $DB1H_(args){return this._anim(dojo,"animateProperty",args);},anim:function $DB1I_(_171,_172,_173,_174,_175){var _176=dojo.fx.combine(this.map(function(item){return dojo.animateProperty({node:item,properties:_171,duration:_172||350,easing:_173});}));if(_174){dojo.connect(_176,"onEnd",_174);}return _176.play(_175||0);}});}if(!dojo._hasResource["betterform.ui.common.ToolTipAlert"]){dojo._hasResource["betterform.ui.common.ToolTipAlert"]=true;dojo.provide("betterform.ui.common.ToolTipAlert");dojo.declare("betterform.ui.common.ToolTipAlert",betterform.ui.common.Alert,{displayDuration:3000,hideSpeed:1000,_show:function $DBjo_(id,_177,_178){var _179=dojo.byId(id+"-"+_177);if(_177!=undefined&&_177==this.hint){this._render(id,_177,"inline");}else{if(_179!=undefined&&_177==this.alert){var _17a=id+"-MasterToolTip-"+_177;var _17b=dijit.byId(_17a);var _17c=dojo.query(".xfValue",dojo.byId(id))[0];if(_17b==undefined){_17b=new dijit._MasterTooltip({id:_17a});dojo.connect(_17b,"onClick",this,dojo.hitch(this,function(){_17b.hide(_17c);}));}_17b.show(_179.innerHTML,_17c);dojo.style(_17b.domNode,"opacity","1");dojo.style(_17b.domNode,"cursor","pointer");dojo.addClass(_17b.domNode,"bfToolTipAlert");dojo.addClass(_17c,"bfInvalidControl");}}},_hide:function $DBjp_(id,_17d,_17e){var _17f=dojo.byId(id+"-"+_17d);if(_17f!=undefined&&_17d==this.alert){var _180=dojo.query(".xfValue",dojo.byId(id))[0];var _181=dijit.byId(id+"-MasterToolTip-"+_17d);if(_181!=undefined&&_180!=undefined){_181.hide(_180);}if(dojo.hasClass(_180,"bfInvalidControl")){dojo.removeClass(_180,"bfInvalidControl");}}else{if(_17d!=undefined&&_17d==this.hint){this._render(id,_17d,"none");}}},_render:function $DBjq_(id,_182,show){var mip=dojo.byId(id+"-"+_182);if(mip!=undefined&&mip.innerHTML!=""){dojo.style(mip,"display",show);}else{}},_fadeOutAndHide:function $DBjr_(id,_183){var _184=dijit.byId(id+"-MasterToolTip-"+_183);var _185=dojo.query(".xfValue",dojo.byId(id))[0];var _186=this.hideSpeed;dojo.fadeOut({node:_184.domNode,duration:_186,onEnd:function $DBjs_(){_184.hide(_185);}}).play();}});}if(!dojo._hasResource["betterform.ui.common.InlineAlert"]){dojo._hasResource["betterform.ui.common.InlineAlert"]=true;dojo.provide("betterform.ui.common.InlineAlert");dojo.declare("betterform.ui.common.InlineAlert",betterform.ui.common.Alert,{_show:function $DBjt_(id,_187){var _188=dojo.byId(id+"-"+_187);if(_188==undefined||_187==this.info){return;}this._render(id,_187,"inline");},_hide:function $DBju_(id,_189){var _18a=dojo.byId(id+"-"+_189);if(_18a==undefined||_189==this.info){return;}this._render(id,_189,"none");},_render:function $DBjv_(id,_18b,show){var mip=dojo.byId(id+"-"+_18b);if(mip!=undefined&&mip.innerHTML!=""){if(_18b=="alert"&&show=="inline"){dojo.style(mip,"cursor","pointer");mip.onclick=dojo.hitch(this,function(evt){this._hide(id,_18b);});}dojo.style(mip,"display",show);}else{}}});}if(!dojo._hasResource["dojox.fx._base"]){dojo._hasResource["dojox.fx._base"]=true;dojo.provide("dojox.fx._base");dojo.mixin(dojox.fx,{anim:dojo.anim,animateProperty:dojo.animateProperty,fadeTo:dojo._fade,fadeIn:dojo.fadeIn,fadeOut:dojo.fadeOut,combine:dojo.fx.combine,chain:dojo.fx.chain,slideTo:dojo.fx.slideTo,wipeIn:dojo.fx.wipeIn,wipeOut:dojo.fx.wipeOut});dojox.fx.sizeTo=function $DYw_(args){var node=args.node=dojo.byId(args.node),abs="absolute";var _18c=args.method||"chain";if(!args.duration){args.duration=500;}if(_18c=="chain"){args.duration=Math.floor(args.duration/2);}var top,_18d,left,_18e,_18f,_190=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);left=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_18f=(w=="auto"?0:parseInt(w));_190=(h=="auto"?0:parseInt(h));_18e=left-Math.floor((args.width-_18f)/2);_18d=top-Math.floor((args.height-_190)/2);if(pos!=abs&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=left+"px";}};})(node);var _191=dojo.animateProperty(dojo.mixin({properties:{height:function $DYr_(){init();return {end:args.height||0,start:_190};},top:function $DYs_(){return {start:top,end:_18d};}}},args));var _192=dojo.animateProperty(dojo.mixin({properties:{width:function $DYt_(){return {start:_18f,end:args.width||0};},left:function $DYu_(){return {start:left,end:_18e};}}},args));var anim=dojo.fx[(args.method=="combine"?"combine":"chain")]([_191,_192]);return anim;};dojox.fx.slideBy=function $DYx_(args){var node=args.node=dojo.byId(args.node),top,left;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var _193=dojo.animateProperty(dojo.mixin({properties:{top:top+(args.top||0),left:left+(args.left||0)}},args));dojo.connect(_193,"beforeBegin",_193,init);return _193;};dojox.fx.crossFade=function $DYy_(args){var _194=args.nodes[0]=dojo.byId(args.nodes[0]),op1=dojo.style(_194,"opacity"),_195=args.nodes[1]=dojo.byId(args.nodes[1]),op2=dojo.style(_195,"opacity");var _196=dojo.fx.combine([dojo[(op1==0?"fadeIn":"fadeOut")](dojo.mixin({node:_194},args)),dojo[(op1==0?"fadeOut":"fadeIn")](dojo.mixin({node:_195},args))]);return _196;};dojox.fx.highlight=function $DYz_(args){var node=args.node=dojo.byId(args.node);args.duration=args.duration||400;var _197=args.color||"#ffff99",_198=dojo.style(node,"backgroundColor");if(_198=="rgba(0, 0, 0, 0)"){_198="transparent";}var anim=dojo.animateProperty(dojo.mixin({properties:{backgroundColor:{start:_197,end:_198}}},args));if(_198=="transparent"){dojo.connect(anim,"onEnd",anim,function(){node.style.backgroundColor=_198;});}return anim;};dojox.fx.wipeTo=function $DY0_(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style;var dir=(args.width?"width":"height"),_199=args[dir],_19a={};_19a[dir]={start:function $DYv_(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=dojo.style(node,dir);return Math.max(now,1);}},end:_199};var anim=dojo.animateProperty(dojo.mixin({properties:_19a},args));return anim;};}if(!dojo._hasResource["dojox.fx"]){dojo._hasResource["dojox.fx"]=true;dojo.provide("dojox.fx");}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function $DCDW_(_19b,_19c){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _19d=dojo.date.stamp._isoRegExp.exec(_19b),_19e=null;if(_19d){_19d.shift();if(_19d[1]){_19d[1]--;}if(_19d[6]){_19d[6]*=1000;}if(_19c){_19c=new Date(_19c);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _19c["get"+prop]();}),function(_19f,_1a0){_19d[_1a0]=_19d[_1a0]||_19f;});}_19e=new Date(_19d[0]||1970,_19d[1]||0,_19d[2]||1,_19d[3]||0,_19d[4]||0,_19d[5]||0,_19d[6]||0);if(_19d[0]<100){_19e.setFullYear(_19d[0]||1970);}var _1a1=0,_1a2=_19d[7]&&_19d[7].charAt(0);if(_1a2!="Z"){_1a1=((_19d[8]||0)*60)+(Number(_19d[9])||0);if(_1a2!="-"){_1a1*=-1;}}if(_1a2){_1a1-=_19e.getTimezoneOffset();}if(_1a1){_19e.setTime(_19e.getTime()+_1a1*60000);}}return _19e;};dojo.date.stamp.toISOString=function $DCDY_(_1a3,_1a4){var _1a5=function(n){return (n<10)?"0"+n:n;};_1a4=_1a4||{};var _1a6=[],_1a7=_1a4.zulu?"getUTC":"get",date="";if(_1a4.selector!="time"){var year=_1a3[_1a7+"FullYear"]();date=["0000".substr((year+"").length)+year,_1a5(_1a3[_1a7+"Month"]()+1),_1a5(_1a3[_1a7+"Date"]())].join("-");}_1a6.push(date);if(_1a4.selector!="date"){var time=[_1a5(_1a3[_1a7+"Hours"]()),_1a5(_1a3[_1a7+"Minutes"]()),_1a5(_1a3[_1a7+"Seconds"]())].join(":");var _1a8=_1a3[_1a7+"Milliseconds"]();if(_1a4.milliseconds){time+="."+(_1a8<100?"0":"")+_1a5(_1a8);}if(_1a4.zulu){time+="Z";}else{if(_1a4.selector!="time"){var _1a9=_1a3.getTimezoneOffset();var _1aa=Math.abs(_1a9);time+=(_1a9>0?"-":"+")+_1a5(Math.floor(_1aa/60))+":"+_1a5(_1aa%60);}}_1a6.push(time);}return _1a6.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _1ab(_1ac){if(d.isString(_1ac)){return "string";}if(typeof _1ac=="number"){return "number";}if(typeof _1ac=="boolean"){return "boolean";}if(d.isFunction(_1ac)){return "function";}if(d.isArray(_1ac)){return "array";}if(_1ac instanceof Date){return "date";}if(_1ac instanceof d._Url){return "url";}return "object";};function _1ad(_1ae,type){switch(type){case "string":return _1ae;case "number":return _1ae.length?Number(_1ae):NaN;case "boolean":return typeof _1ae=="boolean"?_1ae:!(_1ae.toLowerCase()=="false");case "function":if(d.isFunction(_1ae)){_1ae=_1ae.toString();_1ae=d.trim(_1ae.substring(_1ae.indexOf("{")+1,_1ae.length-1));}try{if(_1ae===""||_1ae.search(/[^\w\.]+/i)!=-1){return new Function(_1ae);}else{return d.getObject(_1ae,false)||new Function(_1ae);}}catch(e){return new Function();}case "array":return _1ae?_1ae.split(/\s*,\s*/):[];case "date":switch(_1ae){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1ae);}case "url":return d.baseUrl+_1ae;default:return d.fromJson(_1ae);}};var _1af={},_1b0={};d.connect(d,"extend",function(){_1b0={};});function _1b1(cls,_1b2){for(var name in cls){if(name.charAt(0)=="_"){continue;}if(name in _1af){continue;}_1b2[name]=_1ab(cls[name]);}return _1b2;};function _1b3(_1b4,_1b5){var c=_1b0[_1b4];if(!c){var cls=d.getObject(_1b4),_1b6=null;if(!cls){return null;}if(!_1b5){_1b6=_1b1(cls.prototype,{});}c={cls:cls,params:_1b6};}else{if(!_1b5&&!c.params){c.params=_1b1(c.cls.prototype,{});}}return c;};this._functionFromScript=function $DCFk_(_1b7,_1b8){var _1b9="";var _1ba="";var _1bb=(_1b7.getAttribute(_1b8+"args")||_1b7.getAttribute("args"));if(_1bb){d.forEach(_1bb.split(/\s*,\s*/),function(part,idx){_1b9+="var "+part+" = arguments["+idx+"]; ";});}var _1bc=_1b7.getAttribute("with");if(_1bc&&_1bc.length){d.forEach(_1bc.split(/\s*,\s*/),function(part){_1b9+="with("+part+"){";_1ba+="}";});}return new Function(_1b9+_1b7.innerHTML+_1ba);};this.instantiate=function $DCFl_(_1bd,_1be,args){var _1bf=[],_1be=_1be||{};args=args||{};var _1c0=(args.scope||d._scopeName)+"Type",_1c1="data-"+(args.scope||d._scopeName)+"-";d.forEach(_1bd,function(obj){if(!obj){return;}var node,type,_1c2,_1c3,_1c4,_1c5;if(obj.node){node=obj.node;type=obj.type;_1c5=obj.fastpath;_1c2=obj.clsInfo||(type&&_1b3(type,_1c5));_1c3=_1c2&&_1c2.cls;_1c4=obj.scripts;}else{node=obj;type=_1c0 in _1be?_1be[_1c0]:node.getAttribute(_1c0);_1c2=type&&_1b3(type);_1c3=_1c2&&_1c2.cls;_1c4=(_1c3&&(_1c3._noScript||_1c3.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_1c2){throw new Error("Could not load class '"+type);}var _1c6={};if(args.defaults){d._mixin(_1c6,args.defaults);}if(obj.inherited){d._mixin(_1c6,obj.inherited);}if(_1c5){var _1c7=node.getAttribute(_1c1+"props");if(_1c7&&_1c7.length){try{_1c7=d.fromJson.call(args.propsThis,"{"+_1c7+"}");d._mixin(_1c6,_1c7);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1c7+"'");}}var _1c8=node.getAttribute(_1c1+"attach-point");if(_1c8){_1c6.dojoAttachPoint=_1c8;}var _1c9=node.getAttribute(_1c1+"attach-event");if(_1c9){_1c6.dojoAttachEvent=_1c9;}dojo.mixin(_1c6,_1be);}else{var _1ca=node.attributes;for(var name in _1c2.params){var item=name in _1be?{value:_1be[name],specified:true}:_1ca.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _1cb=item.value;switch(name){case "class":_1cb="className" in _1be?_1be.className:node.className;break;case "style":_1cb="style" in _1be?_1be.style:(node.style&&node.style.cssText);}var _1cc=_1c2.params[name];if(typeof _1cb=="string"){_1c6[name]=_1ad(_1cb,_1cc);}else{_1c6[name]=_1cb;}}}var _1cd=[],_1ce=[];d.forEach(_1c4,function(_1cf){node.removeChild(_1cf);var _1d0=(_1cf.getAttribute(_1c1+"event")||_1cf.getAttribute("event")),type=_1cf.getAttribute("type"),nf=d.parser._functionFromScript(_1cf,_1c1);if(_1d0){if(type=="dojo/connect"){_1cd.push({event:_1d0,func:nf});}else{_1c6[_1d0]=nf;}}else{_1ce.push(nf);}});var _1d1=_1c3.markupFactory||_1c3.prototype&&_1c3.prototype.markupFactory;var _1d2=_1d1?_1d1(_1c6,node,_1c3):new _1c3(_1c6,node);_1bf.push(_1d2);var _1d3=(node.getAttribute(_1c1+"id")||node.getAttribute("jsId"));if(_1d3){d.setObject(_1d3,_1d2);}d.forEach(_1cd,function(_1d4){d.connect(_1d2,_1d4.event,null,_1d4.func);});d.forEach(_1ce,function(func){func.call(_1d2);});});if(!_1be._started){d.forEach(_1bf,function(_1d5){if(!args.noStart&&_1d5&&dojo.isFunction(_1d5.startup)&&!_1d5._started&&(!_1d5.getParent||!_1d5.getParent())){_1d5.startup();}});}return _1bf;};this.parse=function $DCFm_(_1d6,args){var root;if(!args&&_1d6&&_1d6.rootNode){args=_1d6;root=args.rootNode;}else{root=_1d6;}root=root?dojo.byId(root):dojo.body();args=args||{};var _1d7=(args.scope||d._scopeName)+"Type",_1d8="data-"+(args.scope||d._scopeName)+"-";function scan(_1d9,list){var _1da=dojo.clone(_1d9.inherited);dojo.forEach(["dir","lang"],function(name){var val=_1d9.node.getAttribute(name);if(val){_1da[name]=val;}});var _1db=_1d9.clsInfo&&!_1d9.clsInfo.cls.prototype._noScript?_1d9.scripts:null;var _1dc=(!_1d9.clsInfo||!_1d9.clsInfo.cls.prototype.stopParser)||(args&&args.template);for(var _1dd=_1d9.node.firstChild;_1dd;_1dd=_1dd.nextSibling){if(_1dd.nodeType==1){var type,_1de=_1dc&&_1dd.getAttribute(_1d8+"type");if(_1de){type=_1de;}else{type=_1dc&&_1dd.getAttribute(_1d7);}var _1df=_1de==type;if(type){var _1e0={"type":type,fastpath:_1df,clsInfo:_1b3(type,_1df),node:_1dd,scripts:[],inherited:_1da};list.push(_1e0);scan(_1e0,list);}else{if(_1db&&_1dd.nodeName.toLowerCase()=="script"){type=_1dd.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1db.push(_1dd);}}else{if(_1dc){scan({node:_1dd,inherited:_1da},list);}}}}}};var _1e1={};if(args&&args.inherited){for(var key in args.inherited){if(args.inherited[key]){_1e1[key]=args.inherited[key];}}}var list=[];scan({node:root,inherited:_1e1},list);var _1e2=args&&args.template?{template:true}:null;return this.instantiate(list,_1e2,args);};}();(function(){var _1e3=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_1e3);}else{dojo._loaders.unshift(_1e3);}})();}if(!dojo._hasResource["betterform.ui.container.Container"]){dojo._hasResource["betterform.ui.container.Container"]=true;dojo.provide("betterform.ui.container.Container");dojo.declare("betterform.ui.container.Container",dijit._Widget,{handleStateChanged:function $DBoQ_(_1e4){if(_1e4["parentId"]){this._handleHelperChanged(_1e4);}else{this.valid=_1e4["valid"];this.readonly=_1e4["readonly"];this.required=_1e4["required"];this.relevant=_1e4["enabled"];if(this.valid!=null){this._handleSetValidProperty(eval(this.valid));}if(this.readonly!=null){this._handleSetReadonlyProperty(eval(this.readonly));}if(this.required!=null){this._handleSetRequiredProperty(eval(this.required));}if(this.relevant!=null){this._handleSetEnabledProperty(eval(this.relevant));}}},_handleSetValidProperty:function $DBoR_(_1e5){if(_1e5){betterform.ui.util.replaceClass(this.domNode,"xfInvalid","xfValid");}else{betterform.ui.util.replaceClass(this.domNode,"xfValid","xfInvalid");}},_handleSetReadonlyProperty:function $DBoS_(_1e6){if(_1e6){betterform.ui.util.replaceClass(this.domNode,"xfReadWrite","xfReadOnly");}else{betterform.ui.util.replaceClass(this.domNode,"xfReadOnly","xfReadWrite");}},_handleSetRequiredProperty:function $DBoT_(){if(this.required=="true"){betterform.ui.util.replaceClass(this.domNode,"xfOptional","xfRequired");}else{betterform.ui.util.replaceClass(this.domNode,"xfRequired","xfOptional");}},_handleSetEnabledProperty:function $DBoU_(){var _1e7=this.id;var _1e8=dojo.byId(_1e7+"-label");if(this.relevant=="true"){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");betterform.ui.util.replaceClass(_1e8,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");betterform.ui.util.replaceClass(_1e8,"xfEnabled","xfDisabled");}},_handleHelperChanged:function $DBoV_(_1e9){switch(_1e9["targetName"]){case "label":this._setLabel(_1e9["value"]);return;case "help":this._setHelp(_1e9["value"]);return;case "hint":this._setHint(_1e9["value"]);return;case "alert":this._setAlert(_1e9["value"]);return;}},isRequired:function $DBoW_(){if(dojo.hasClass(this.domNode,"xfOptional")){return false;}else{if(dojo.hasClass(this.domNode,"xfRequired")){return true;}else{}}},isReadonly:function $DBoX_(){if(dojo.hasClass(this.domNode,"xfReadWrite")){return false;}else{if(dojo.hasClass(this.domNode,"xfReadOnly")){return true;}else{}}},isRelevant:function $DBoY_(){if(dojo.hasClass(this.domNode,"xfDisabled")){return false;}else{if(dojo.hasClass(this.domNode,"xfEnabled")){return true;}else{}}},isValid:function $DBoZ_(){if(dojo.hasClass(this.domNode,"xfInvalid")){return false;}else{if(dojo.hasClass(this.domNode,"xfValid")){return true;}else{}}},_setLabel:function $DBoa_(_1ea){},_setHelp:function $DBob_(_1eb){},_setHint:function $DBoc_(_1ec){},_setAlert:function $DBod_(_1ed){},_setValueChild:function $DBoe_(_1ee){}});}if(!dojo._hasResource["betterform.ui.container.Group"]){dojo._hasResource["betterform.ui.container.Group"]=true;dojo.provide("betterform.ui.container.Group");dojo.declare("betterform.ui.container.Group",betterform.ui.container.Container,{handleStateChange:function $DBoF_(){this.inherited(arguments);},_setLabel:function $DBoG_(_1ef){var _1f0=this.id;var _1f1=dojo.byId(_1f0+"-label");if(_1f1==undefined&&dojo.attr(this.domNode,"labelledBy")!=undefined){_1f1=dojo.byId(dojo.attr(this.domNode,"labelledBy"));}if(_1f1!=undefined&&_1ef!=undefined){_1f1.innerHTML=_1ef;_1f1.title=_1ef;}}});}if(!dojo._hasResource["betterform.ui.container.Repeat"]){dojo._hasResource["betterform.ui.container.Repeat"]=true;dojo.provide("betterform.ui.container.Repeat");dojo.declare("betterform.ui.container.Repeat",betterform.ui.container.Container,{handleSetRepeatIndex:function $DBou_(_1f2){if(_1f2!=undefined&&_1f2.index!=undefined){this._handleSetRepeatIndex(_1f2.index);}},_handleSetRepeatIndex:function $DBov_(_1f3){var _1f4=eval(_1f3);if(_1f4==0){return;}this._removeRepeatIndexClasses();var _1f5;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_1f5=dojo.query("> tbody > .xfRepeatItem",this.domNode)[_1f4-1];}else{_1f5=dojo.query("> .xfRepeatItem",this.domNode)[_1f4-1];}if(_1f5!=undefined){dojo.addClass(_1f5,"xfRepeatIndex");}},setFocusOnChild:function $DBow_(node){var _1f6=dojo.query(".xfValue",node)[0];if(_1f6!=undefined){_1f6.focus();}else{var _1f7=dojo.query(".xfTrigger button")[0];if(_1f7==undefined){_1f7=dojo.query("input")[0];if(_1f7==undefined){_1f7=window.document.body.firstChild();}}_1f7.focus();}},handleInsert:function $DBox_(_1f8){this._removeRepeatIndexClasses();var _1f9=dojo.byId(_1f8.originalId+"-prototype");var _1fa=_1f9.cloneNode(true);this._replaceRepeatItemClasses(_1fa);var _1fb="";if(_1f8.prototypeId!=undefined){_1fb=_1f8.generatedIds;dojo.attr(_1fa,"id",_1fb[_1f8.prototypeId]);}else{if(_1f8.repeatedSelects){_1fb=_1f8.repeatedSelects[0].generatedIds;var _1fc=_1f8.repeatedSelects[0].generatedIds[0];dojo.attr(_1fa,"id",_1fc);}}this._replacePrototypeIds(_1fa,_1fb);var _1fd=eval(_1f8.position);var _1fe=dojo.query("*[repeatItemId='"+_1fa.id+"']");var _1ff=undefined;if(_1fe[0]!=null){_1ff=dijit.byId(dojo.attr(_1fe[0],"id"));}else{_1ff=this._createRepeatItem(_1fa,_1fd);}dojo.query("*[unbound='true']",_1ff.domNode).forEach(function(item){var _200=dijit.byId(item.id);if(_200==undefined){var _201=new betterform.ui.Control({},item);}else{}});_1ff.showRepeatItem();},_replaceRepeatItemClasses:function $DBoy_(node){dojo.removeClass(node,"xfRepeatPrototype");dojo.removeClass(node,"xfDisabled");dojo.addClass(node,"xfRepeatItem");dojo.addClass(node,"xfEnabled");},_replacePrototypeIds:function $DBoz_(node,_202){var _203=false;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_203=true;}dojo.query("*",node).forEach(function(_204){var _205=dojo.attr(_204,"id");var _206=dojo.attr(_204,"repeatid");if(_206!=undefined&&_202[_206]!=undefined){dojo.attr(_204,"repeatid",_202[_205]);}if(_205!=undefined&&_202[_205]!=undefined){dojo.attr(_204,"id",_202[_205]);}else{if(_205!=undefined){var _207;var _208;if(_205.indexOf("-value")!=-1){_207=_205.substring(0,_205.indexOf("-value"));_208="-value";}else{if(_205.indexOf("-label")!=-1){_207=_205.substring(0,_205.indexOf("-label"));_208="-label";}else{if(_205.indexOf("-hint")!=-1){_207=_205.substring(0,_205.indexOf("-hint"));_208="-hint";}else{if(_205.indexOf("-help")!=-1){_207=_205.substring(0,_205.indexOf("-help"));_208="-help";}else{if(_205.indexOf("-alert")!=-1){_207=_205.substring(0,_205.indexOf("-alert"));_208="-alert";}else{return;}}}}}var _209=_202[_207]+_208;dojo.attr(_204,"id",_209);}}});},_createRepeatItem:function $DBo0_(node,_20a){var _20b=this._getSize();var _20c;if(dojo.hasClass(this.domNode,"xfFullRepeat")){_20c="full";}else{_20c="compact";}var _20d=new betterform.ui.container.RepeatItem({repeatId:this.id,appearance:_20c},node);_20d.hideRepeatItem();var _20e=null;if(_20a==1&&_20b>0){if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_20e=dojo.query("> tbody > .xfRepeatItem",this.domNode)[0];}else{_20e=dojo.query("> .xfRepeatItem",this.domNode)[0];}dojo.place(_20d.domNode,_20e,"before");}else{if(_20a==1&&_20b==0){if(dojo.hasClass(this.domNode,"xfCompactRepeat")){var _20f=dojo.query("tbody",this.domNode)[0];if(_20f==undefined){_20f=dojo.doc.createElement("tbody");dojo.place(_20f,this.domNode);}dojo.place(_20d.domNode,_20f);}else{dojo.place(_20d.domNode,this.domNode);}}else{if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_20e=dojo.query("> tbody > .xfRepeatItem",this.domNode)[_20a-2];}else{_20e=dojo.query("> .xfRepeatItem",this.domNode)[_20a-2];}dojo.place(_20d.domNode,_20e,"after");}}return _20d;},_getSize:function $DBo1_(){var size;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){size=dojo.query("> tbody > .xfRepeatItem",this.domNode).length;}else{size=dojo.query("> .xfRepeatItem",this.domNode).length;}return size;},_getRepeatItems:function $DBo2_(){var _210;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_210=dojo.query("> tbody > .xfRepeatItem",this.domNode);}else{_210=dojo.query("> .xfRepeatItem",this.domNode);}return _210;},handleDelete:function $DBo3_(_211){var _212=eval(_211.position);var _213;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_213=dojo.query("> tbody > .xfRepeatItem",this.domNode)[_212-1];dojo.query("> tbody",this.domNode)[0].removeChild(_213);}else{_213=dojo.query("> .xfRepeatItem",this.domNode)[_212-1];this.domNode.removeChild(_213);}},handleStateChanged:function $DBo4_(_214){var _215=eval(_214["enabled"]);if(_215){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");}},_removeRepeatIndexClasses:function $DBo5_(){if(dojo.hasClass(this.domNode,"xfCompactRepeat")){dojo.query("> tbody > .xfRepeatIndexPre",this.domNode).forEach(function(_216){dojo.removeClass(_216,"xfRepeatIndexPre");});dojo.query("> tbody > .xfRepeatIndex",this.domNode).forEach(function(_217){dojo.removeClass(_217,"xfRepeatIndex");});}else{dojo.query("> .xfRepeatIndexPre",this.domNode).forEach(function(_218){dojo.removeClass(_218,"xfRepeatIndexPre");});dojo.query("> .xfRepeatIndex",this.domNode).forEach(function(_219){dojo.removeClass(_219,"xfRepeatIndex");});}}});}if(!dojo._hasResource["betterform.ui.container.Switch"]){dojo._hasResource["betterform.ui.container.Switch"]=true;dojo.provide("betterform.ui.container.Switch");dojo.declare("betterform.ui.container.Switch",betterform.ui.container.Container,{handleStateChanged:function $DBoC_(_21a){},toggleCase:function $DBoD_(_21b){if(_21b.deselected!=undefined){var _21c=dojo.byId(_21b.deselected);if(dojo.hasClass(_21c,"xfSelectedCase")){dojo.removeClass(_21c,"xfSelectedCase");}dojo.addClass(_21c,"xfDeselectedCase");}if(_21b.selected){var _21d=dojo.byId(_21b.selected);if(dojo.hasClass(_21d,"xfDeselectedCase")){dojo.removeClass(_21d,"xfDeselectedCase");}dojo.addClass(_21d,"xfSelectedCase");}}});}if(!dojo._hasResource["betterform.FluxProcessor"]){dojo._hasResource["betterform.FluxProcessor"]=true;dojo.provide("betterform.FluxProcessor");dojo.declare("betterform.FluxProcessor",betterform.XFormsProcessor,{sessionKey:"",dataPrefix:"",skipshutdown:false,isDirty:false,factory:null,currentControlId:"",unloadMsg:"You are about to leave this XForms application",webtest:"@WEBTEST@",isReady:false,contextroot:"",defaultAlertHandler:null,subscribers:[],clientServerEventQueue:[],requestPending:false,fifoReaderTimer:null,lastServerClientFocusEvent:null,_earlyTemplatedStartup:true,widgetsInTemplate:true,usesDOMFocusIN:false,logEvents:false,constructor:function $DBsP_(){this.indicatorContainer=document.getElementById("bfLoading");this.indicatorImage=document.getElementById("indicator");this.indicatorImage.className="xfDisabled";this.clientServerEventQueue=new Array();this.factory=new betterform.ui.UIElementFactory();if(this.webtest!="true"){dojo.connect(window,"onbeforeunload",this,"handleUnload");dojo.connect(window,"onunload",this,"close");}this.skipshutdown=false;var _21e=dojo.query(".GlobalAlert",dojo.doc)[0];if(_21e!=undefined){this.defaultAlertHandler=new betterform.ui.common.GlobalAlert({});}var _21f=dojo.query(".BowlAlert",dojo.doc)[0];if(_21f!=undefined){this.defaultAlertHandler=new betterform.ui.common.BowlAlert({});}var _220=dojo.query(".InlineRoundBordersAlert",dojo.doc)[0];if(_220!=undefined){this.defaultAlertHandler=new betterform.ui.common.InlineRoundBordersAlert({});}var _221=dojo.query(".ToolTipAlert",dojo.doc)[0];if(_221!=undefined){this.defaultAlertHandler=new betterform.ui.common.ToolTipAlert({});}var _222=dojo.query(".InlineAlert",dojo.doc)[0];if(_222!=undefined||this.defaultAlertHandler==undefined){this.defaultAlertHandler=new betterform.ui.common.InlineAlert({});}this.subscribers[0]=dojo.subscribe("/xf/valid",this.defaultAlertHandler,"handleValid");this.subscribers[1]=dojo.subscribe("/xf/invalid",this.defaultAlertHandler,"handleInvalid");},setInlineRoundBorderAlertHandler:function $DBsQ_(){this.unsubscribeFromAlertHandler();this.defaultAlertHandler=new betterform.ui.common.InlineRoundBordersAlert({});this.subscribers[0]=dojo.subscribe("/xf/valid",this.defaultAlertHandler,"handleValid");this.subscribers[1]=dojo.subscribe("/xf/invalid",this.defaultAlertHandler,"handleInvalid");this.showAllCommonChilds(dojo.doc,"changeAlertType");},setToolTipAlertHandler:function $DBsR_(){this.unsubscribeFromAlertHandler();this.defaultAlertHandler=new betterform.ui.common.ToolTipAlert({});this.subscribers[0]=dojo.subscribe("/xf/valid",this.defaultAlertHandler,"handleValid");this.subscribers[1]=dojo.subscribe("/xf/invalid",this.defaultAlertHandler,"handleInvalid");this.showAllCommonChilds(dojo.doc,"changeAlertType");},hideAllCommonChilds:function $DBsS_(node){dojo.query(".xfControl",node).forEach(dojo.hitch(this,function(_223){this.defaultAlertHandler._displayNone(dojo.attr(_223,"id"),"applyChanges");}));},showAllCommonChilds:function $DBsT_(node,_224){dojo.query(".xfControl",node).forEach(dojo.hitch(this,function(_225){if(dojo.hasClass(_225),"xfValid"){this.defaultAlertHandler.handleValid(dojo.attr(_225,"id"),_224);}else{this.defaultAlertHandler.handleInvalid(dojo.attr(_225,"id"),_224);}}));},unsubscribeFromAlertHandler:function $DBsU_(){for(var i=0;i<this.subscribers.length;i++){dojo.unsubscribe(this.subscribers[i]);}},handleUnload:function $DBsV_(evt){if(this.isDirty&&!this.skipshutdown){dojo.stopEvent(evt);evt.returnValue=this.unloadMsg;return this.unloadMsg;}},close:function $DBsW_(){var _226=dojo.hitch(this,fluxProcessor.skipShutdown).skipshutdown;if(!_226){fluxProcessor.closeSession();}},closeSession:function $DBsX_(){try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);Flux.close(this.sessionKey);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.closeSession ",ex);}},ignoreExceptions:function $DBsY_(msg){},eventFifoReader:function $DBsZ_(){var _227=null;var _228=false;var _229=null;var _22a=null;var _22b="";while((!this.requestPending)&&(this.clientServerEventQueue.length!=0)){_227=this.clientServerEventQueue.shift();switch(_227.getCallerFunction()){case "dispatchEvent":undefined;break;case "dispatchEventType":undefined;break;case "setControlValue":undefined;break;case "setRepeatIndex":undefined;break;default:break;}_229=dojo.byId(_227.getTargetId());if(_229==null){continue;}_22a=dijit.byId(_227.getTargetId());if(_22a==null){continue;}if(_22a&&_22a.isReadonly()){continue;}if(_227.getCallerFunction()=="setControlValue"){if(this.clientServerEventQueue[0]!=null){if(this.clientServerEventQueue[0].getTargetId()==_227.getTargetId()){if(this.clientServerEventQueue[0].getCallerFunction()=="setControlValue"){continue;}else{}}else{}}else{}}else{}if(_227.getCallerFunction()=="setRepeatIndex"){if(_227.getRepeatItem()==null){continue;}if(_227.getValue()!=dijit.byNode(_227.getRepeatItem())._getXFormsPosition()){nextPendingclientServerEvent.setValue(dijit.byNode(_227.getRepeatItem())._getXFormsPosition());}}if(_229!=null){this._useLoadingMessage(_229);}switch(_227.getCallerFunction()){case "dispatchEvent":this.requestPending=true;this._dispatchEvent(_227.getTargetId());break;case "dispatchEventType":this.requestPending=true;this._dispatchEventType(_227.getTargetId(),_227.getEventType(),_227.getContextInfo());break;case "setControlValue":this.requestPending=true;this._setControlValue(_227.getTargetId(),_227.getValue());break;case "setRepeatIndex":this.requestPending=true;this._setRepeatIndex(dojo.attr(_227.getTargetId(),"repeatId"),_227.getValue());break;default:break;}}if(this.clientServerEventQueue.length!=0){clearTimeout(this.fifoReaderTimer);this.fifoReaderTimer=setTimeout("fluxProcessor.eventFifoReader()",2000);}else{clearTimeout(this.fifoReaderTimer);}},eventFifoWriter:function $DBsa_(_22c){this.clientServerEventQueue.push(_22c);switch(_22c){case "dispatchEvent":undefined;break;case "dispatchEventType":undefined;break;case "setControlValue":undefined;break;case "setRepeatIndex":undefined;break;default:break;}clearTimeout(this.fifoReaderTimer);this.fifoReaderTimer=setTimeout("fluxProcessor.eventFifoReader()",0);},dispatchEvent:function $DBsb_(_22d){var _22e=new betterform.ClientServerEvent();_22e.setTargetId(_22d);_22e.setCallerFunction("dispatchEvent");this.eventFifoWriter(_22e);},_dispatchEvent:function $DBsc_(_22f){try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);Flux.dispatchEvent(_22f,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.dispatchEvent",ex);}return false;},dispatchEventType:function $DBsd_(_230,_231,_232){var _233=new betterform.ClientServerEvent();_233.setTargetId(_230);_233.setEventType(_231);_233.setContextInfo(_232);_233.setCallerFunction("dispatchEventType");this.eventFifoWriter(_233);},_dispatchEventType:function $DBse_(_234,_235,_236){try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);if(_236==undefined){Flux.dispatchEventType(_234,_235,this.sessionKey,dojo.hitch(this,this.applyChanges));}else{Flux.dispatchEventTypeWithContext(_234,_235,this.sessionKey,_236,dojo.hitch(this,this.applyChanges));}}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.dispatchEventType",ex);}},setControlValue:function $DBsf_(id,_237){var _238=new betterform.ClientServerEvent();_238.setTargetId(id);_238.setValue(_237);_238.setCallerFunction("setControlValue");this.eventFifoWriter(_238);},_setControlValue:function $DBsg_(id,_239){this.isDirty=true;try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);dwr.engine.setErrorHandler(this._handleExceptions);Flux.setUIControlValue(id,_239,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.setControlValue",ex);}},setRepeatIndex:function $DBsh_(_23a,_23b){var _23c=new betterform.ClientServerEvent();var _23d=dojo.query("*[repeatId='"+_23a+"']");var _23e=dojo.attr(_23d[0],"id");var _23f=dijit.byId(_23e)._getRepeatItems()[_23b-1];_23c.setTargetId(_23e);_23c.setValue(_23b);_23c.setRepeatItem(_23f);_23c.setCallerFunction("setRepeatIndex");this.eventFifoWriter(_23c);},_setRepeatIndex:function $DBsi_(_240,_241){try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);Flux.setRepeatIndex(_240,_241,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.setRepeatIndex",ex);}},indicatorObjectTimer:null,indicatorContainer:null,indicatorImage:null,indicatorTargetObject:null,_fifoProcessingFinished:function $DBsk_(){dojo.removeClass(this.indicatorTargetObject,"bfPending");var _242=this.lastServerClientFocusEvent;if(_242!=undefined){if(_242!=null){_242.postponedFunction(_242.postponedXmlEvent);this.lastServerClientFocusEvent=null;}}fluxProcessor.indicatorImage.className="xfDisabled";},_useLoadingMessage:function $DBsl_(_243){if(fluxProcessor.indicatorObjectTimer){clearTimeout(fluxProcessor.indicatorObjectTimer);}if(this.indicatorTargetObject){dojo.removeClass(this.indicatorTargetObject,"bfPending");}this.indicatorTargetObject=_243;dojo.addClass(_243,"bfPending");try{dwr.engine.setPreHook(function(){fluxProcessor.indicatorImage.className="xfEnabled";return false;});dwr.engine.setPostHook(function(){fluxProcessor.indicatorObjectTimer=setTimeout("fluxProcessor._fifoProcessingFinished()",500);return false;});}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux._useLoadingMessage",ex);}},_handleExceptions:function $DBsm_(msg,_244){if(msg!=undefined&&_244!=undefined){console.error(msg," - Exception: ",_244);}else{if(msg!=undefined){console.error(msg);if(this.webtest!="true"){alert(msg);}else{this.logTestMessage(xmlEvent.contextInfo.errorinformation);}}else{console.error("Unknown exception occured! arguments: ",arguments);}}},applyChanges:function $DBsn_(data){try{var _245=new Array();var _246=0;var _247=dojo.byId("eventLog");dojo.forEach(data,function(_248){if(fluxProcessor.logEvents){var _249=_248.contextInfo;var _24a="";for(dataItem in _249){var _24b=_249[dataItem];if(_24b!=null){if(dataItem=="targetId"&&(_248.type=="betterform-state-changed"||_248.type=="xforms-value-changed"||_248.type=="xforms-valid"||_248.type=="xforms-invalid"||_248.type=="xforms-readonly"||_248.type=="xforms-readwrite"||_248.type=="xforms-required"||_248.type=="xforms-optional"||_248.type=="xforms-enabled"||_248.type=="DOMFocusOut"||_248.type=="DOMActivate"||_248.type=="betterform-AVT-changed")){_24a+="<tr><td class='propName'>"+dataItem+"</td><td class='propValue'><a href='#' onclick='reveal(this);'>"+_249[dataItem]+"</a></td></tr>";}else{if(dataItem=="targetElement"&&_248.type=="betterform-load-uri"){var _24c=_249.xlinkTarget;_24a+="<tr><td class='propName'>"+dataItem+"</td><td class='propValue'><a href='#' onclick='reveal(this);'>"+_24c+"</a></td></tr>";}else{_24a+="<tr><td class='propName'>"+dataItem+"</td><td class='propValue'>"+_249[dataItem]+"</td></tr>";}}}}dojo.create("li",{innerHTML:"<a href='#' onclick='toggleEntry(this);'><span>"+_248.type+"</span></a><table class='eventLogTable'>"+_24a+"</table>"},_247);}switch(_248.type){case "betterform-index-changed":fluxProcessor._handleBetterFormIndexChanged(_248);break;case "betterform-insert-itemset":fluxProcessor._handleBetterFormInsertItemset(_248);break;case "betterform-insert-repeatitem":fluxProcessor._handleBetterFormInsertRepeatItem(_248);break;case "betterform-item-deleted":fluxProcessor._handleBetterFormItemDeleted(_248);break;case "betterform-load-uri":fluxProcessor._handleBetterFormLoadURI(_248);break;case "betterform-render-message":fluxProcessor._handleBetterFormRenderMessage(_248);break;case "betterform-replace-all":fluxProcessor._handleBetterFormReplaceAll();break;case "betterform-state-changed":fluxProcessor._handleBetterFormStateChanged(_248);break;case "betterform-dialog-open":fluxProcessor._handleBetterFormDialogOpen(_248);break;case "betterform-dialog-close":fluxProcessor._handleBetterFormDialogClose(_248);break;case "betterform-AVT-changed":fluxProcessor._handleAVTChanged(_248);break;case "betterform-instance-created":fluxProcessor._handleInstanceCreated(_248);break;case "betterform-model-removed":fluxProcessor._handleModelRemoved(_248);break;case "betterform-exception":fluxProcessor._handleBetterformException(_248);break;case "upload-progress-event":fluxProcessor._handleUploadProgressEvent(_248);break;case "xforms-focus":fluxProcessor._handleXFormsFocus(_248);break;case "xforms-help":fluxProcessor._handleShowHelp(_248);break;case "xforms-hint":fluxProcessor._handleXFormsHint(_248);break;case "xforms-link-exception":fluxProcessor._handleLinkException(_248);break;case "betterform-switch-toggled":fluxProcessor._handleSwitchToggled(_248);break;case "betterform-script-action":eval(_248.contextInfo["script"]);break;case "xforms-value-changed":break;case "xforms-version-exception":fluxProcessor._handleVersionException(_248);break;case "xforms-binding-exception":fluxProcessor._handleBindingException(_248);break;case "xforms-submit-error":fluxProcessor._handleSubmitError(_248);break;case "DOMFocusIn":fluxProcessor.lastServerClientFocusEvent={postponedFunction:fluxProcessor._handleDOMFocusIn,postponedXmlEvent:_248};break;case "xforms-out-of-range":fluxProcessor._handleOutOfRange(_248);break;case "xforms-in-range":fluxProcessor._handleInRange(_248);break;case "xforms-invalid":case "xforms-valid":_245[_246]=_248;_246++;break;case "betterform-id-generated":case "DOMActivate":case "xforms-select":case "xforms-deselect":case "DOMFocusOut":case "xforms-model-construct":case "xforms-model-construct-done":break;case "xforms-ready":this.isReady=true;dojo.publish("/xf/ready",[]);break;case "xforms-submit":break;case "xforms-submit-done":fluxProcessor._handleSubmitDone(_248);break;default:console.error("Event "+_248.type+" unknown [Event:",_248,"]");break;}});if(fluxProcessor.logEvents){dojo.create("li",{innerHTML:"<span class='logDevider'/>"},_247);}if(_245.length>0){fluxProcessor._handleValidity(_245);}}catch(ex){fluxProcessor._handleExceptions("An error occurred during applyChanges ",ex);}fluxProcessor.requestPending=false;clearTimeout(fluxProcessor.fifoReaderTimer);fluxProcessor.fifoReaderTimer=setTimeout("fluxProcessor.eventFifoReader()",0);},_handleAVTChanged:function $DBso_(_24d){dojo.attr(_24d.contextInfo.targetId,_24d.contextInfo.attribute,_24d.contextInfo.value);},_handleInstanceCreated:function $DBsp_(_24e){var _24f=dojo.byId("debug-pane-links");if(_24f!=null){var _250=dojo.attr(dojo.byId("debug-pane"),"context");var _251=document.createElement("a");dojo.attr(_251,"href",_250+_24e.contextInfo.modelId+"/"+_24e.contextInfo.instanceId);dojo.attr(_251,"target","_blank");dojo.attr(_251,"modelId",_24e.contextInfo.modelId);var _252=document.createTextNode("Model:"+_24e.contextInfo.modelId+" :: "+"Instance:"+_24e.contextInfo.instanceId);_251.appendChild(_252);_24f.appendChild(_251);dojox.fx.highlight({node:_251,color:"#999999",duration:600}).play();}},_handleModelRemoved:function $DBsq_(_253){var _254=_253.contextInfo.modelId;dojo.query("#debug-pane a[modelId='"+_254+"']").orphan();},_handleValidity:function $DBsr_(_255){dojo.forEach(_255,function(_256){var _257=dijit.byId(_256.contextInfo.targetId);if(_257!=undefined){if(_256.type=="xforms-valid"){_257._handleSetValidProperty(true);}else{_257._handleSetValidProperty(false);}}});},_handleBindingException:function $DBss_(_258){if(this.webtest!="true"){}else{this.logTestMessage("xforms-binding-exception");}},_handleVersionException:function $DBst_(_259){if(this.webtest!="true"){console.error(_259.contextInfo.errorinformation);}else{this.logTestMessage(_259.contextInfo.errorinformation);}},_handleBetterformException:function $DBsu_(_25a){if(this.webtest!="true"){var _25b=_25a.contextInfo.message;console.error(_25a.contextInfo.message);var _25c=dojo.byId("betterFORM-exception");var log;if(!_25c){log=document.createElement("div");log.id="betterFORM-exceptionLog";document.body.appendChild(log);_25c=document.createElement("exception");_25c.id="betterFORM-exception";var _25d=document.createTextNode(_25b);_25c.appendChild(_25d);log.appendChild(_25c);}else{_25c.removeChild(_25c.firstChild);var _25d=document.createTextNode(_25b);_25c.appendChild(_25d);}}else{fluxProcessor.logTestMessage(_25a.contextInfo.message);}},_handleSubmitError:function $DBsv_(_25e){dojo.query(".xfInvalid",dojo.doc).forEach(function(_25f){dojo.publish("/xf/invalid",[dojo.attr(_25f,"id"),"submitError"]);});dojo.query(".xfRequired",dojo.doc).forEach(function(_260){var _261=dijit.byId(_260.id);if(_261!=undefined&&_261.getControlValue==="function"){var _262=_261.getControlValue();if(_262==undefined||_262==""){dojo.addClass(_261.domNode,"xfRequiredEmpty");}}});},_handleBetterFormLoadURI:function $DBsw_(_263){if(_263.contextInfo.show=="replace"){fluxProcessor.skipshutdown=true;window.location.href=_263.contextInfo.uri;}else{if(_263.contextInfo.show=="new"){window.open(_263.contextInfo.uri,"_betterform","menubar=yes,toolbar=yes,location=yes,directories=yes,fullscreen=no,titlebar=yes,hotkeys=yes,status=yes,scrollbars=yes,resizable=yes");}else{if(_263.contextInfo.show=="embed"){var _264=_263.contextInfo.xlinkTarget;var _265;if(dojo.byId(_264)!=undefined){_265=_264;}else{var tmp=dojo.query("*[name='"+_264+"']")[0];_265=tmp.id;}this._unloadDOM(_265);var _266=dojo.byId(_265);_266.innerHTML=_263.contextInfo.targetElement;dojo.attr(_266,"id",_264+"Old");var _267=dojo.byId(_265);dojo.parser.parse(_266);dojo.place(_267,_266,"before");dojo.style(_267,"display","block");var _268=dojo.attr(_266,"class");dojo.attr(_267,"class",_268);_266.parentNode.removeChild(_266);var _269=_263.contextInfo.inlineCSS;var _26a=document.getElementsByTagName("head")[0];var _26b=dojo.byId(_264);if(_269!=undefined&&_269!=""){var _26c=document.createElement("style");_26c.setAttribute("type","text/css");_26c.setAttribute("name",_264);var _26d=document.getElementsByTagName("head")[0];_26d.appendChild(_26c);if(_26c.styleSheet){_26c.styleSheet.cssText=_269;}else{var _26e=document.createTextNode(_269);_26c.appendChild(_26e);}}var _26f=_263.contextInfo.externalCSS;if(_26f!=undefined&&_26f!=""){var _270=_26f.split("#");var _271=document.getElementsByTagName("head")[0];for(var i=0;i<=_270.length;i=i+1){if(_270[i]!=undefined&&_270[i]!=""){var _272=document.createElement("link");_272.setAttribute("rel","stylesheet");_272.setAttribute("type","text/css");_272.setAttribute("href",_270[i]);_272.setAttribute("name",_264);_271.appendChild(_272);}}}var _273=_263.contextInfo.inlineJavascript;if(_273!=undefined&&_273!=""){var _274=document.createElement("script");_274.setAttribute("type","text/javascript");_274.setAttribute("name",_264);var _275=document.getElementsByTagName("head")[0];_275.appendChild(_274);_274.text=_273;}var _276=_263.contextInfo.externalJavascript;if(_276!=undefined&&_276!=""){var _277=_276.split("#");var _278=document.getElementsByTagName("head")[0];for(var i=0;i<=_277.length;i=i+1){if(_277[i]!=undefined&&_277[i]!=""){var _279=document.createElement("script");_279.setAttribute("type","text/javascript");_279.setAttribute("src",_277[i]);_279.setAttribute("name",_264);_278.appendChild(_279);}}}}else{if(_263.contextInfo.show=="none"){this._unloadDOM(_263.contextInfo.xlinkTarget);}else{console.error("betterform-load-uri show='"+_263.contextInfo.show+"' unknown!");}}}}},_handleSubmitDone:function $DBsx_(_27a){if(_27a.contextInfo.document!=null){var doc=_27a.contextInfo.document;var _27b=window.open();_27b.document.write(doc);_27b.document.close();}else{if(_27a.contextInfo.embedElement!=null){if(_27a.contextInfo.embedTarget==undefined){return;}var _27c=_27a.contextInfo.embedTarget;var _27d=_27a.contextInfo.embedElement;var _27e;if(dojo.byId(_27c)!=undefined){_27e=_27c;}else{var tmp=dojo.query("*[name='"+_27c+"']")[0];_27e=tmp.id;}this._unloadDOM(_27e);var _27f=dojo.byId(_27e);_27f.innerHTML=_27d;dojo.parser.parse(_27f);}}},_unloadDOM:function $DBsy_(_280){var _281=dojo.byId(_280);if(_281==undefined){return;}var _282=document.getElementsByTagName("style");if(_282!=undefined){dojo.forEach(_282,function(item){if(item!=undefined){if(dojo.attr(item,"name")==_280){item.parentNode.removeChild(item);}}});}var _283=document.getElementsByTagName("link");if(_283!=undefined){dojo.forEach(_283,function(item){if(item!=undefined){if(dojo.attr(item,"name")==_280){item.parentNode.removeChild(item);}}});}var _284=document.getElementsByTagName("script");if(_284!=undefined){dojo.forEach(_284,function(item){if(item!=undefined){if(dojo.attr(item,"name")==_280){item.parentNode.removeChild(item);}}});}var _285="widgetid";if(dojo.isIE){_285="widgetId";}var _286=dojo.query("*["+_285+"]",_281);dojo.forEach(_286,function(item){if(item!=undefined){var _287=dijit.byId(dojo.attr(item,"id"));if(_287!=undefined){_287.destroy();}else{_287=dijit.byId(dojo.attr(item,_285));if(_287!=undefined){_287.destroy();}}}});while(_281.hasChildNodes()){_281.removeChild(_281.firstChild);}},_handleBetterFormRenderMessage:function $DBsz_(_288){var _289=_288.contextInfo.message;var _28a=_288.contextInfo.level;if(this.webtest!="true"){if(_28a=="ephemeral"){dijit.byId("betterformMessageToaster").setContent(_289,"message");dijit.byId("betterformMessageToaster").show();}else{var _28b=_288.contextInfo.exception;if(_28b!=undefined){}else{alert(_289);}}}else{this.logTestMessage(_289);}},_handleOutOfRange:function $DBs1_(_28c){var _28d=dojo.byId(_28c.contextInfo.targetId+"-value");if(_28d!=undefined){if(dojo.hasClass(_28d,"xfInRange")){dojo.removeClass(_28d,"xfInRange");}dojo.addClass(_28d,"xfOutOfRange");}},_handleInRange:function $DBs2_(_28e){var _28f=dojo.byId(_28e.contextInfo.targetId+"-value");if(_28f!=undefined){if(dojo.hasClass(_28f,"xfOutOfRange")){dojo.removeClass(_28f,"xfOutOfRange");}dojo.addClass(_28f,"xfInRange");}},logTestMessage:function $DBs3_(_290){var log=dojo.byId("messageLog");if(!log){log=document.createElement("div");log.id="messageLog";document.body.appendChild(log);}var _291=document.createElement("message");_291.id="message"+(this._countMessages(log)+1);var _292=document.createTextNode(_290);_291.appendChild(_292);log.appendChild(_291);},_countMessages:function $DBs4_(log){var _293=log.getElementsByTagName("message").length;return _293;},_handleBetterFormReplaceAll:function $DBs5_(){fluxProcessor.skipshutdown=true;var _294=window.location.href.lastIndexOf("#");var _295=window.location.href.lastIndexOf("?");var path=window.location.href;if(_294!=-1){path=window.location.href.substring(0,_294);}if(_295==-1){path+="?";}path+="&submissionResponse=true&sessionKey="+fluxProcessor.sessionKey;if(_294!=-1){path+=window.location.href.substring(_294);}window.open(path,"_self");},_handleBetterFormDialogOpen:function $DBs6_(_296){var _297=_296.contextInfo.targetId;if(dijit.byId(_297)!=undefined){dijit.byId(_297).show();}else{console.error("error during betterform-dialog-show-event: targetId >",_296.contextInfo.targetId,"<, xfControlId: >",_297,"< does not exist");}},_handleBetterFormDialogClose:function $DBs7_(_298){var _299=_298.contextInfo.targetId;if(dijit.byId(_299)!=undefined){dijit.byId(_299).hide();}else{console.error("error during betterform-dialog-hide-event: targetId >",_298.contextInfo.targetId,"< does not exist");}},_handleBetterFormStateChanged:function $DBs8_(_29a){var _29b=_29a.contextInfo.targetId;if(_29a.contextInfo.targetName!=undefined&&_29a.contextInfo.targetName=="repeat"){var _29c=dojo.query("*[repeatId='"+_29b+"']")[0];if(_29c==undefined){console.error("(FluxProcessor._handleBetterFormStateChanged xf:repeat: ",_29b," does not exist");return;}var _29d=dijit.byId(dojo.attr(_29c,"id"));if(_29d!=undefined){_29d.handleStateChanged(_29a.contextInfo);}else{if(_29d==undefined&&_29c!=undefined){_29d=new betterform.ui.container.Repeat({},_29c);_29d.handleStateChanged(_29a.contextInfo);}}}else{if(_29a.contextInfo.targetName!=undefined&&_29a.contextInfo.targetName=="group"){var _29e=dijit.byId(_29a.contextInfo.targetId);if(_29e==undefined&&dojo.byId(_29a.contextInfo.targetId)!=undefined){_29e=new betterform.ui.container.Group({},dojo.byId(_29a.contextInfo.targetId));}else{if(_29a.contextInfo.targetId!=undefined){var _29f=dojo.query("*[repeatItemId='"+_29a.contextInfo.targetId+"']")[0];if(_29f!=undefined&&dojo.hasClass(_29f,"xfRepeatItem")){_29e=dijit.byId(dojo.attr(_29f,"id"));}}}if(_29e!=undefined){_29e.handleStateChanged(_29a.contextInfo);}else{}}else{if(_29a.contextInfo.targetName!=undefined&&_29a.contextInfo.targetName=="select1"&&_29a.contextInfo.copyItem!=undefined){var _2a0="FluxProcessor._handleBetterFormStateChanged: Select1 ControlValue "+_29a.contextInfo.targetId+"-value: No item selected";var _2a1=dojo.byId(_29a.contextInfo.targetId+"-value");if(_2a1!=undefined){var _2a2=_29a.contextInfo.selectedItem;if(_2a2!=undefined&&_2a2!=""){var _2a3=dojo.query(".xfSelectorItem",_2a1);var _2a4=false;for(var i=0;i<_2a3.length;i++){if(dojo.attr(_2a3[i],"id")==_2a2){_2a1.selectedIndex=(i);_2a4=true;}}if(!_2a4){}}else{}}else{}}else{if(dijit.byId(_29b)!=undefined){var _2a5=dijit.byId(_29b);_2a5.handleStateChanged(_29a.contextInfo);}else{if(dojo.byId(_29b)!=undefined){var _2a6=new betterform.ui.Control({contextInfo:_29a.contextInfo},dojo.byId(_29b));if(_2a6.handleStateChanged){_2a6.handleStateChanged(_29a.contextInfo);}else{}}else{if(_29a.contextInfo.parentId!=undefined&&_29a.contextInfo.parentId!=""){var _2a7=dijit.byId(_29a.contextInfo.parentId);if(_2a7!=undefined){_2a7.handleStateChanged(_29a.contextInfo);}else{var _2a8=dojo.byId(_29a.contextInfo.parentId);if(_2a8==undefined){console.error("FluxProcessor betterform-state-changed  Warning: Neither Target nor its Parent does exist [xmlEvent",_29a,"]");}else{if(dojo.hasClass(_2a8,"xfSelectorItem")){var _2a9=dojo.attr(_2a8.parentNode,"id");if(dijit.byId(_2a9)){dijit.byId(_2a9).handleStateChanged(_29a.contextInfo);}else{if(_2a8){if(_29a.contextInfo.targetName=="label"){_2a8.innerHTML=_29a.contextInfo.value;}else{if(_29a.contextInfo.targetName=="value"){dojo.attr(_2a8,"value",_29a.contextInfo.value);}else{}}}else{}}}else{}}}}else{if(_29a.contextInfo.targetName!=undefined&&_29a.contextInfo.targetName=="output"){var _2aa=_29a.contextInfo.targetId.substring(1,_29a.contextInfo.targetId.length)-2;var _2a0="FluxProcessor._handleBetterFormStateChanged: element for dynamic label "+_29a.contextInfo.targetId+": Control not found ";var _29f=dijit.byId("C"+_2aa);if((_29f!=undefined)&&(_29f.controlType=="trigger")){_29a.contextInfo.targetId="C"+(_2aa-1);_29a.contextInfo.parentId="C"+(_2aa-2);_29a.contextInfo.targetName="label";_29f.handleStateChanged(_29a.contextInfo);}else{if(_29f!=undefined){_29a.contextInfo.parentId="C"+(_2aa);_29a.contextInfo.targetName="label";_29f.handleStateChanged(_29a.contextInfo);}else{_29f=dojo.byId("C"+_2aa-2);if(_29f!=undefined){_29a.contextInfo.targetName="label";_29a.contextInfo.parentId="C"+(_2aa-2);this._handleBetterFormStateChanged(_29a);}else{}}}}else{console.error("FluxProcessor betterform-state-changed Error: Processor does not know how to handle betterform-state-changed based on xmlEvent ",_29a.contextInfo.targetId);}}}}}}}},_handleBetterFormInsertRepeatItem:function $DBs9_(_2ab){var _2ac=dojo.query("*[repeatId='"+_2ab.contextInfo.targetId+"']");var _2ad=dijit.byId(dojo.attr(_2ac[0],"id"));if(_2ad==undefined){_2ad=new betterform.ui.container.Repeat({},_2ac[0]);}_2ad.handleInsert(_2ab.contextInfo);},_handleBetterFormInsertItemset:function $DBtA_(_2ae){if(dijit.byId(_2ae.contextInfo.targetId)!=undefined){dijit.byId(_2ae.contextInfo.targetId).handleInsert(_2ae.contextInfo);}else{var _2af=dojo.byId(_2ae.contextInfo.targetId);var _2b0=dojo.attr(_2af,"dojoType");if(_2b0==undefined){var _2b1=dojo.attr(_2af,"controlType");if(_2b1=="optGroup"){_2b0="betterform.ui.select.OptGroup";}}var _2b2;if(_2b0!=undefined){if(_2b0=="betterform.ui.select.OptGroup"){_2b2=new betterform.ui.select.OptGroup({contextInfo:_2ae.contextInfo},_2af);}else{if(_2b0=="betterform.ui.select1.RadioItemset"){_2b2=new betterform.ui.select1.RadioItemset({contextInfo:_2ae.contextInfo},_2af);}else{if(_2b0=="betterform.ui.select.CheckBoxItemset"){_2b2=new betterform.ui.select.CheckBoxItemset({contextInfo:_2ae.contextInfo},_2af);}else{}}}}else{return;}if(_2b2!=undefined){_2b2.handleInsert(_2ae.contextInfo);}else{}}},_handleBetterFormItemDeleted:function $DBtB_(_2b3){if(_2b3.contextInfo.targetName=="itemset"){var _2b4=dijit.byId(_2b3.contextInfo.targetId);if(_2b4){dijit.byId(_2b3.contextInfo.targetId).handleDelete(_2b3.contextInfo);}else{}}else{if(_2b3.contextInfo.targetName=="repeat"||_2b3.contextInfo.targetName=="tbody"){var _2b5=dojo.query("*[repeatId='"+_2b3.contextInfo.targetId+"']");var _2b6=dijit.byId(dojo.attr(_2b5[0],"id"));_2b6.handleDelete(_2b3.contextInfo);var _2b7=_2b3.contextInfo.position;if(_2b7<=_2b6._getSize()){_2b6._handleSetRepeatIndex(_2b7);}}}},_handleBetterFormIndexChanged:function $DBtC_(_2b8){var _2b9=dojo.query("*[repeatId='"+_2b8.contextInfo.targetId+"']");var _2ba=dijit.byId(dojo.attr(_2b9[0],"id"));_2ba.handleSetRepeatIndex(_2b8.contextInfo);},_handleUploadProgressEvent:function $DBtD_(_2bb){var _2bc=_2bb.contextInfo.targetid;if(dijit.byId(_2bc)!=undefined){dijit.byId(_2bc).updateProgress(_2bb.contextInfo.progress);}else{console.error("error during upload-progress-event: targetId "+_2bb.contextInfo.targetId+" does not exist");}},_handleXFormsFocus:function $DBtE_(_2bd){try{var _2be=_2bd.contextInfo.targetName;if(_2be!="group"&&_2be!="repeat"&&_2be!="switch"&&_2be!="case"){var _2bf=dijit.byId(_2bd.contextInfo.targetId+"-value");if(_2bf&&_2bf.focus){_2bf.focus();}else{if(dojo.byId(_2bd.contextInfo.targetId)){_2bf.domNode.focus();}else{}}}}catch(ex){fluxProcessor._handleExceptions("error during xforms-focus: targetId "+_2bd.contextInfo.targetId+" does not exist - Exception:",ex);}},_handleDOMFocusIn:function $DBtF_(_2c0){xfControlId=_2c0.contextInfo.targetId+"-value";if(dijit.byId(xfControlId)!=undefined){dijit.byId(xfControlId)._handleDOMFocusIn();}else{if(dojo.byId(xfControlId)!=undefined){var _2c1=dojo.byId(xfControlId);_2c1.focus();}else{}}},_handleXFormsHint:function $DBtG_(_2c2){var _2c3=_2c2.contextInfo.targetId;var _2c4=dojo.attr(dojo.byId(_2c3+"-value"),"title");dijit.byId("betterformMessageToaster").setContent(_2c4,"message");dijit.byId("betterformMessageToaster").show();if(this.webtest=="true"){this.logTestMessage(_2c4);}},_handleShowHelp:function $DBtH_(_2c5){fluxProcessor.currentControlId=_2c5.contextInfo.targetId;fluxProcessor.showHelp();},_handleLinkException:function $DBtI_(_2c6){if(this.webtest!="true"){console.error("Fatal error - "+_2c6.type+": Failed to load resource: "+_2c6.contextInfo.resourceUri);alert("xforms-link-exception: "+"resource '"+_2c6.contextInfo["resource-uri"]+"' failed with error= '"+_2c6.contextInfo["resource-error"]+"'");}else{fluxProcessor.logTestMessage("Fatal error - "+_2c6.type+": Failed to load resource: "+_2c6.contextInfo.resourceUri);}},_handleSwitchToggled:function $DBtJ_(_2c7){var _2c8=dijit.byId(_2c7.contextInfo.targetId);if(_2c8==undefined&&dojo.byId(_2c7.contextInfo.targetId)!=undefined){_2c8=new betterform.ui.container.Switch({},dojo.byId(_2c7.contextInfo.targetId));}_2c8.toggleCase(_2c7.contextInfo);},fetchProgress:function $DBtK_(id,_2c9){try{Flux.fetchProgress(id,_2c9,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.fetchProgress",ex);}},setLocale:function $DBtL_(_2ca){try{Flux.setLocale(_2ca,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.setLocale",ex);}},showHelp:function $DBtM_(id){var _2cb=dojo.byId(id+"-help");if(_2cb==undefined){return;}var _2cc=dojo.byId(id+"-help-text");var _2cd=dojo.style(_2cc,"display");if(_2cd=="none"){dojo.style(_2cc,{"display":"inline-block"});}else{dojo.style(_2cc,{"display":"none"});}},getInstanceDocument:function $DBtN_(_2ce,_2cf){dwr.engine.setErrorHandler(this._handleExceptions);Flux.getInstanceDocument(_2ce,_2cf,this.sessionKey,this.printInstance);},printInstance:function $DBtO_(data){dojo.byId("debugFrame").innerHTML=data;}});}if(!dojo._hasResource["betterform.XFormsModelElement"]){dojo._hasResource["betterform.XFormsModelElement"]=true;dojo.provide("betterform.XFormsModelElement");dojo.declare("betterform.XFormsModelElement",dijit._Widget,{constructor:function $DB0O_(){},postCreate:function $DB0P_(){},getInstanceDocument:function $DB0Q_(_2d0,func){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.getInstanceDocument(this.id,_2d0,fluxProcessor.sessionKey,func);},getInstanceAsString:function $DB0R_(_2d1,func){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.getInstanceAsString(this.id,_2d1,fluxProcessor.sessionKey,func);},rebuild:function $DB0S_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.rebuild(this.id,fluxProcessor.getSessionKey(),null);},recalculate:function $DB0T_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.recalculate(this.id,fluxProcessor.getSessionKey(),null);},revalidate:function $DB0U_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.revalidate(this.id,fluxProcessor.getSessionKey(),null);},refresh:function $DB0V_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.refresh(this.id,fluxProcessor.getSessionKey(),null);},_useLoadingMessage:function $DB0W_(){dwr.engine.setPreHook(function(){document.getElementById("indicator").className="xfEnabled";});dwr.engine.setPostHook(function(){document.getElementById("indicator").className="xfDisabled";});}});}if(!dojo._hasResource["betterform.ui.util"]){dojo._hasResource["betterform.ui.util"]=true;dojo.provide("betterform.ui.util");betterform.ui.util.showAtWidget=function $DBln_(_2d2){var _2d3=dojo.query("*[widgetId='"+_2d2+"-value']");};betterform.ui.util.getContainerByClass=function $DBlp_(node,_2d4){var body=dojo.body();while(node&&node!=body&&!dojo.hasClass(node,_2d4)){node=node.parentNode;}if(dojo.hasClass(node,_2d4)){return node;}return null;};betterform.ui.util.replaceClass=function $DBlq_(_2d5,_2d6,_2d7){if(!_2d5||!_2d5.className){return false;}var _2d8=_2d5.className;var _2d9=" "+_2d8+" ";var _2da=" "+_2d6+" ";var _2db=" "+_2d7+" ";if(_2d9.indexOf(_2db)==-1){var _2dc=_2d9.replace(new RegExp(_2da),_2db);if(_2dc.indexOf(_2db)==-1){_2dc=_2d9+_2d7+" ";}_2dc=_2dc.slice(1,_2dc.length-1);_2d5.className=_2dc;return true;}return false;};betterform.ui.util.setDefaultClasses=function $DBlr_(_2dd){if(!dojo.hasClass(_2dd,"xfEnabled")&&!dojo.hasClass(_2dd,"xfDisabled")){dojo.addClass(_2dd,"xfEnabled");}if(!dojo.hasClass(_2dd,"xfOptional")&&!dojo.hasClass(_2dd,"xfRequired")){dojo.addClass(_2dd,"xfOptional");}if(!dojo.hasClass(_2dd,"xfReadWrite")&&!dojo.hasClass(_2dd,"xfReadOnly")){dojo.addClass(_2dd,"xfReadWrite");}if(!dojo.hasClass(_2dd,"xfValid")&&!dojo.hasClass(_2dd,"xfInvalid")){dojo.addClass(_2dd,"xfValid");}};betterform.ui.util.removeStyle=function $DBls_(_2de,_2df){if(_2de==undefined||_2df==undefined){return false;}var _2e0=dojo.attr(_2de,"style");if(_2e0!=undefined&&_2e0.indexOf(_2df)!=-1){_2e0.replace(_2df,"");dojo.attr(_2de,"style",_2e0);return true;}return false;};betterform.ui.util.removeNamespace=function $DBlt_(_2e1){var _2e2=_2e1;if(_2e2!=undefined&&_2e2!=""&&_2e2.indexOf(":")!=-1){_2e2=_2e2.substring(_2e2.indexOf(":")+1,_2e2.length);}return _2e2;};betterform.ui.util.closeSelect1=function $DBlu_(_2e3){dojo.query(".xfSelect1 .dijitComboBox",_2e3).forEach("dijit.byId(dojo.attr(item, 'widgetid'))._hideResultList()");};}if(!dojo._hasResource["betterform.ClientServerEvent"]){dojo._hasResource["betterform.ClientServerEvent"]=true;dojo.provide("betterform.ClientServerEvent");dojo.declare("betterform.ClientServerEvent",null,{targetId:null,eventType:null,contextInfo:null,value:null,repeatItem:null,callerFunction:"",constructor:function $DBtP_(){},createClientServerEvent:function $DBtQ_(_2e4,_2e5,_2e6){var _2e7=new betterform.ClientServerEvent();_2e7.targetId=_2e4;_2e7.eventType=_2e5;_2e7.contextInfo=_2e6;return _2e7;},setTargetId:function $DBtR_(_2e8){this.targetId=_2e8;},setEventType:function $DBtS_(_2e9){this.eventType=_2e9;},setContextInfo:function $DBtT_(_2ea){this.contextInfo=_2ea;},setValue:function $DBtU_(_2eb){this.value=_2eb;},setRepeatItem:function $DBtV_(_2ec){this.repeatItem=_2ec;},setCallerFunction:function $DBtW_(_2ed){this.callerFunction=_2ed;},getTargetId:function $DBtX_(){return this.targetId;},getEventType:function $DBtY_(){return this.eventType;},getContextInfo:function $DBtZ_(){return this.contextInfo;},getValue:function $DBta_(){return this.value;},getRepeatItem:function $DBtb_(){return this.repeatItem;},getCallerFunction:function $DBtc_(){return this.callerFunction;}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.getObject("dnd",true,dojo);dojo.dnd.getCopyKeyState=dojo.isCopyKey;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function $DB2g_(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function $DB2h_(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.getObject("dnd",true,dojo);dojo.dnd.getViewport=dojo.window.getBox;dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function $DB30_(e){var v=dojo.window.getBox(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function $DB31_(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft;ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _2ee=n.scrollLeft,_2ef=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_2ee!=n.scrollLeft||_2ef!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function $DB13_(node,e,host){this.node=dojo.byId(node);var pos=e.touches?e.touches[0]:e;this.marginBox={l:pos.pageX,t:pos.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[dojo.connect(d,"onmousemove",this,"onFirstMove"),dojo.connect(d,"ontouchmove",this,"onFirstMove"),dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"ontouchmove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ontouchend",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent)];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function $DB14_(e){dojo.dnd.autoScroll(e);var m=this.marginBox,pos=e.touches?e.touches[0]:e;this.host.onMove(this,{l:m.l+pos.pageX,t:m.t+pos.pageY},e);dojo.stopEvent(e);},onMouseUp:function $DB15_(e){if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function $DB16_(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}dojo.disconnect(this.events.shift());dojo.disconnect(this.events.shift());},destroy:function $DB17_(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function $DB3G_(node,_2f0){this.node=dojo.byId(node);if(!_2f0){_2f0={};}this.handle=_2f0.handle?dojo.byId(_2f0.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_2f0.delay>0?_2f0.delay:0;this.skip=_2f0.skip;this.mover=_2f0.mover?_2f0.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ontouchstart",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function $DB3H_(_2f1,node){return new dojo.dnd.Moveable(node,_2f1);},destroy:function $DB3I_(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function $DB3J_(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"ontouchmove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"),dojo.connect(this.handle,"ontouchend",this,"onMouseUp"));var pos=e.touches?e.touches[0]:e;this._lastX=pos.pageX;this._lastY=pos.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function $DB3K_(e){var pos=e.touches?e.touches[0]:e;if(Math.abs(pos.pageX-this._lastX)>this.delay||Math.abs(pos.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function $DB3L_(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function $DB3M_(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function $DB3N_(e){new this.mover(this.node,e,this);},onMoveStart:function $DB3O_(_2f2){dojo.publish("/dnd/move/start",[_2f2]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function $DB3P_(_2f3){dojo.publish("/dnd/move/stop",[_2f3]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function $DB3Q_(_2f4,e){},onMove:function $DB3R_(_2f5,_2f6,e){this.onMoving(_2f5,_2f6);var s=_2f5.node.style;s.left=_2f6.l+"px";s.top=_2f6.t+"px";this.onMoved(_2f5,_2f6);},onMoving:function $DB3S_(_2f7,_2f8){},onMoved:function $DB3T_(_2f9,_2fa){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function $DB1s_(){},within:false,markupFactory:function $DB1t_(_2fb,node){return new dojo.dnd.move.constrainedMoveable(node,_2fb);},constructor:function $DB1u_(node,_2fc){if(!_2fc){_2fc={};}this.constraints=_2fc.constraints;this.within=_2fc.within;},onFirstMove:function $DB1v_(_2fd){var c=this.constraintBox=this.constraints.call(this,_2fd);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo._getMarginSize(_2fd.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function $DB1w_(_2fe,_2ff){var c=this.constraintBox,s=_2fe.node.style;this.onMoving(_2fe,_2ff);_2ff.l=_2ff.l<c.l?c.l:c.r<_2ff.l?c.r:_2ff.l;_2ff.t=_2ff.t<c.t?c.t:c.b<_2ff.t?c.b:_2ff.t;s.left=_2ff.l+"px";s.top=_2ff.t+"px";this.onMoved(_2fe,_2ff);}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function $DB1x_(_300,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_300);},constructor:function $DB1y_(node,_301){var box=_301&&_301.box;this.constraints=function $DB11_(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function $DB1z_(_302,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_302);},constructor:function $DB10_(node,_303){var area=_303&&_303.area;this.constraints=function $DB12_(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _304=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function $DB32_(node,_305){if(!_305){_305={};}if(_305.timeout&&typeof _305.timeout=="number"&&_305.timeout>=0){this.timeout=_305.timeout;}},markupFactory:function $DB33_(_306,node){return new dojo.dnd.TimedMoveable(node,_306);},onMoveStop:function $DB34_(_307){if(_307._timer){clearTimeout(_307._timer);_304.call(this,_307,_307._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function $DB35_(_308,_309){_308._leftTop=_309;if(!_308._timer){var _30a=this;_308._timer=setTimeout(function(){_308._timer=null;_304.call(_30a,_308,_308._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function $DCDq_(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function $DCDr_(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function $DCDs_(_30b,map,_30c,_30d){_30d=_30d||dojo.global;_30c=_30c?dojo.hitch(_30d,_30c):function(v){return v;};return _30b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_30e,key,_30f){var _310=dojo.getObject(key,false,map);if(_30f){_310=dojo.getObject(_30f,false,_30d).call(_30d,_310,key);}return _30c(_310,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function $DCGW_(_311,url,_312){if(typeof _311=="string"){var _313=dojo.moduleUrl(_311,url);}else{_313=_311;_312=url;}var key=_313.toString();var val=_312;if(_312!=undefined&&!dojo.isString(_312)){val=("value" in _312?_312.value:undefined);}var _314=_312&&_312.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_314?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_314?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function $DCGX_(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _315=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_315){val=_315[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function $DKy_(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function $DKz_(tmpl){var _316=this.declaredClass,_317=this;return dojo.string.substitute(tmpl,this,function(_318,key){if(key.charAt(0)=="!"){_318=dojo.getObject(key.substr(1),false,_317);}if(typeof _318=="undefined"){throw new Error(_316+" template:"+key);}if(_318==null){return "";}return key.charAt(0)=="!"?_318:_318.toString().replace(/"/g,"&quot;");},this);},buildRendering:function $DK0_(){var _319=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_319)){node=dojo._toDom(this._stringRepl(_319));if(node.nodeType!=1){throw new Error("Invalid template: "+_319);}}else{node=_319.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function $DK1_(_31a){var dest=this.containerNode;if(_31a&&dest){while(_31a.hasChildNodes()){dest.appendChild(_31a.firstChild);}}},_attachTemplateNodes:function $DK2_(_31b,_31c){_31c=_31c||function(n,p){return n.getAttribute(p);};var _31d=dojo.isArray(_31b)?_31b:(_31b.all||_31b.getElementsByTagName("*"));var x=dojo.isArray(_31b)?0:-1;for(;x<_31d.length;x++){var _31e=(x==-1)?_31b:_31d[x];if(this.widgetsInTemplate&&(_31c(_31e,"dojoType")||_31c(_31e,"data-dojo-type"))){continue;}var _31f=_31c(_31e,"dojoAttachPoint")||_31c(_31e,"data-dojo-attach-point");if(_31f){var _320,_321=_31f.split(/\s*,\s*/);while((_320=_321.shift())){if(dojo.isArray(this[_320])){this[_320].push(_31e);}else{this[_320]=_31e;}this._attachPoints.push(_320);}}var _322=_31c(_31e,"dojoAttachEvent")||_31c(_31e,"data-dojo-attach-event");if(_322){var _323,_324=_322.split(/\s*,\s*/);var trim=dojo.trim;while((_323=_324.shift())){if(_323){var _325=null;if(_323.indexOf(":")!=-1){var _326=_323.split(":");_323=trim(_326[0]);_325=trim(_326[1]);}else{_323=trim(_323);}if(!_325){_325=_323;}this._attachEvents.push(this.connect(_31e,_323,_325));}}}var role=_31c(_31e,"waiRole");if(role){dijit.setWaiRole(_31e,role);}var _327=_31c(_31e,"waiState");if(_327){dojo.forEach(_327.split(/\s*,\s*/),function(_328){if(_328.indexOf("-")!=-1){var pair=_328.split("-");dijit.setWaiState(_31e,pair[0],pair[1]);}});}}},startup:function $DK3_(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function $DK4_(){dojo.forEach(this._attachPoints,function(_329){delete this[_329];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function $DK5_(_32a,_32b,_32c){var _32d=dijit._Templated._templateCache;var key=_32b||_32a;var _32e=_32d[key];if(_32e){try{if(!_32e.ownerDocument||_32e.ownerDocument==dojo.doc){return _32e;}}catch(e){}dojo.destroy(_32e);}if(!_32b){_32b=dojo.cache(_32a,{sanitize:true});}_32b=dojo.string.trim(_32b);if(_32c||_32b.match(/\$\{([^\}]+)\}/g)){return (_32d[key]=_32b);}else{var node=dojo._toDom(_32b);if(node.nodeType!=1){throw new Error("Invalid template: "+_32b);}return (_32d[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _32f=dijit._Templated._templateCache;for(var key in _32f){var _330=_32f[key];if(typeof _330=="object"){dojo.destroy(_330);}delete _32f[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function $DRK_(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function $DRL_(_331){if(!this.disabled){switch(_331.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _332=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_332);});break;}}},_setStateClass:function $DRM_(){var _333=this.baseClass.split(" ");function _334(_335){_333=_333.concat(dojo.map(_333,function(c){return c+_335;}),"dijit"+_335);};if(!this.isLeftToRight()){_334("Rtl");}if(this.checked){_334("Checked");}if(this.state){_334(this.state);}if(this.selected){_334("Selected");}if(this.disabled){_334("Disabled");}else{if(this.readOnly){_334("ReadOnly");}else{if(this.active){_334("Active");}else{if(this.hovering){_334("Hover");}}}}if(this._focused){_334("Focused");}var tn=this.stateNode||this.domNode,_336={};dojo.forEach(tn.className.split(" "),function(c){_336[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _336[c];});}dojo.forEach(_333,function(c){_336[c]=true;});var _337=[];for(var c in _336){_337.push(c);}tn.className=_337.join(" ");this._stateClasses=_333;},_trackMouseState:function $DRN_(node,_338){var _339=false,_33a=false,_33b=false;var self=this,cn=dojo.hitch(this,"connect",node);function _33c(){var _33d=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_338+"Hover",_339&&!_33a&&!_33d);dojo.toggleClass(node,_338+"Active",_33a&&!_33d);dojo.toggleClass(node,_338+"Focused",_33b&&!_33d);};cn("onmouseenter",function(){_339=true;_33c();});cn("onmouseleave",function(){_339=false;_33a=false;_33c();});cn("onmousedown",function(){_33a=true;_33c();});cn("onmouseup",function(){_33a=false;_33c();});cn("onfocus",function(){_33b=true;_33c();});cn("onblur",function(){_33b=false;_33c();});this.watch("disabled",_33c);this.watch("readOnly",_33c);}});}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{state:"",reset:function $DEg_(){dojo.forEach(this.getDescendants(),function(_33e){if(_33e.reset){_33e.reset();}});},validate:function $DEh_(){var _33f=false;return dojo.every(dojo.map(this.getDescendants(),function(_340){_340._hasBeenBlurred=true;var _341=_340.disabled||!_340.validate||_340.validate();if(!_341&&!_33f){dojo.window.scrollIntoView(_340.containerNode||_340.domNode);_340.focus();_33f=true;}return _341;}),function(item){return item;});},setValues:function $DEi_(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function $DEj_(obj){var map={};dojo.forEach(this.getDescendants(),function(_342){if(!_342.name){return;}var _343=map[_342.name]||(map[_342.name]=[]);_343.push(_342);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _344=map[name],_345=dojo.getObject(name,false,obj);if(_345===undefined){continue;}if(!dojo.isArray(_345)){_345=[_345];}if(typeof _344[0].checked=="boolean"){dojo.forEach(_344,function(w,i){w.set("value",dojo.indexOf(_345,w.value)!=-1);});}else{if(_344[0].multiple){_344[0].set("value",_345);}else{dojo.forEach(_344,function(w,i){w.set("value",_345[i]);});}}}},getValues:function $DEk_(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function $DEl_(){var obj={};dojo.forEach(this.getDescendants(),function(_346){var name=_346.name;if(!name||_346.disabled){return;}var _347=_346.get("value");if(typeof _346.checked=="boolean"){if(/Radio/.test(_346.declaredClass)){if(_347!==false){dojo.setObject(name,_347,obj);}else{_347=dojo.getObject(name,false,obj);if(_347===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_347!==false){ary.push(_347);}}}else{var prev=dojo.getObject(name,false,obj);if(typeof prev!="undefined"){if(dojo.isArray(prev)){prev.push(_347);}else{dojo.setObject(name,[prev,_347],obj);}}else{dojo.setObject(name,_347,obj);}}});return obj;},isValid:function $DEm_(){return this.state=="";},onValidStateChange:function $DEn_(_348){},_getState:function $DEo_(){var _349=dojo.map(this._descendants,function(w){return w.get("state")||"";});return dojo.indexOf(_349,"Error")>=0?"Error":dojo.indexOf(_349,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function $DEp_(){dojo.forEach(this._childConnections||[],dojo.hitch(this,"disconnect"));dojo.forEach(this._childWatches||[],function(w){w.unwatch();});},connectChildren:function $DEq_(_34a){var _34b=this;this.disconnectChildren();this._descendants=this.getDescendants();var set=_34a?function(name,val){_34b[name]=val;}:dojo.hitch(this,"_set");set("value",this.get("value"));set("state",this._getState());var _34c=(this._childConnections=[]),_34d=(this._childWatches=[]);dojo.forEach(dojo.filter(this._descendants,function(item){return item.validate;}),function(_34e){dojo.forEach(["state","disabled"],function(attr){_34d.push(_34e.watch(attr,function(attr,_34f,_350){_34b.set("state",_34b._getState());}));});});var _351=function(){if(_34b._onChangeDelayTimer){clearTimeout(_34b._onChangeDelayTimer);}_34b._onChangeDelayTimer=setTimeout(function(){delete _34b._onChangeDelayTimer;_34b._set("value",_34b.get("value"));},10);};dojo.forEach(dojo.filter(this._descendants,function(item){return item.onChange;}),function(_352){_34c.push(_34b.connect(_352,"onChange",_351));_34d.push(_352.watch("disabled",_351));});},startup:function $DEr_(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(attr,_353,_354){this.onValidStateChange(_354=="");});},destroy:function $DEs_(){this.disconnectChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function $DP0_(_355){},onCancel:function $DP1_(){},onExecute:function $DP2_(){},_onSubmit:function $DP3_(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function $DP4_(){var _356=dijit._getTabNavigable(this.containerNode);this._firstFocusItem=_356.lowest||_356.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_356.last||_356.highest||this._firstFocusItem;}});}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function $DQY_(id){dojo.attr(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function $DQZ_(_357){this.node.className="dijitDialogUnderlay "+_357;this._set("class",_357);},postCreate:function $DQa_(){dojo.body().appendChild(this.domNode);},layout:function $DQb_(){var is=this.node.style,os=this.domNode.style;os.display="none";var _358=dojo.window.getBox();os.top=_358.t+"px";os.left=_358.l+"px";is.width=_358.w+"px";is.height=_358.h+"px";os.display="block";},show:function $DQc_(){this.domNode.style.display="block";this.layout();this.bgIframe=new dijit.BackgroundIframe(this.domNode);},hide:function $DQd_(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function $DWn_(){var _359=dijit.getEnclosingWidget(this.domNode.parentNode);return _359&&_359.isContainer?_359:null;},_getSibling:function $DWo_(_35a){var node=this.domNode;do{node=node[_35a+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function $DWp_(){return this._getSibling("previous");},getNextSibling:function $DWq_(){return this._getSibling("next");},getIndexInParent:function $DWr_(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function $DSQ_(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function $DSR_(_35b,_35c){var _35d=this.containerNode;if(_35c&&typeof _35c=="number"){var _35e=this.getChildren();if(_35e&&_35e.length>=_35c){_35d=_35e[_35c-1].domNode;_35c="after";}}dojo.place(_35b.domNode,_35d,_35c);if(this._started&&!_35b._started){_35b.startup();}},removeChild:function $DSS_(_35f){if(typeof _35f=="number"){_35f=this.getChildren()[_35f];}if(_35f){var node=_35f.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function $DST_(){return this.getChildren().length>0;},destroyDescendants:function $DSU_(_360){dojo.forEach(this.getChildren(),function(_361){_361.destroyRecursive(_360);});},_getSiblingOfChild:function $DSV_(_362,dir){var node=_362.domNode,_363=(dir>0?"nextSibling":"previousSibling");do{node=node[_363];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function $DSW_(_364){return dojo.indexOf(this.getChildren(),_364);},startup:function $DSX_(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_365){_365.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function $DIB_(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},startup:function $DIC_(){if(this._started){return;}this.inherited(arguments);var _366=this.getParent&&this.getParent();if(!(_366&&_366.isLayoutContainer)){this.resize();this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this.resize();});}},resize:function $DID_(_367,_368){var node=this.domNode;if(_367){dojo.marginBox(node,_367);if(_367.t){node.style.top=_367.t+"px";}if(_367.l){node.style.left=_367.l+"px";}}var mb=_368||{};dojo.mixin(mb,_367||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function $DIE_(){},_setupChild:function $DIF_(_369){var cls=this.baseClass+"-child "+(_369.baseClass?this.baseClass+"-"+_369.baseClass:"");dojo.addClass(_369.domNode,cls);},addChild:function $DIG_(_36a,_36b){this.inherited(arguments);if(this._started){this._setupChild(_36a);}},removeChild:function $DIH_(_36c){var cls=this.baseClass+"-child"+(_36c.baseClass?" "+this.baseClass+"-"+_36c.baseClass:"");dojo.removeClass(_36c.domNode,cls);this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function $DII_(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _36d=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_36e,dim){var _36f=_36e.resize?_36e.resize(dim):dojo.marginBox(_36e.domNode,dim);if(_36f){dojo.mixin(_36e,_36f);}else{dojo.mixin(_36e,dojo.marginBox(_36e.domNode));dojo.mixin(_36e,dim);}};dijit.layout.layoutChildren=function $DIJ_(_370,dim,_371,_372,_373){dim=dojo.mixin({},dim);dojo.addClass(_370,"dijitLayoutContainer");_371=dojo.filter(_371,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(dojo.filter(_371,function(item){return item.region=="center"||item.layoutAlign=="client";}));dojo.forEach(_371,function(_374){var elm=_374.domNode,pos=(_374.region||_374.layoutAlign);var _375=elm.style;_375.left=dim.l+"px";_375.top=dim.t+"px";_375.position="absolute";dojo.addClass(elm,"dijitAlign"+_36d(pos));var _376={};if(_372&&_372==_374.id){_376[_374.region=="top"||_374.region=="bottom"?"h":"w"]=_373;}if(pos=="top"||pos=="bottom"){_376.w=dim.w;size(_374,_376);dim.h-=_374.h;if(pos=="top"){dim.t+=_374.h;}else{_375.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_376.h=dim.h;size(_374,_376);dim.w-=_374.w;if(pos=="left"){dim.l+=_374.w;}else{_375.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_374,dim);}}}});};})();}if(!dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]){dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;dojo.provide("dijit.layout._ContentPaneResizeMixin");dojo.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function $DHF_(){dojo.forEach(this.getChildren(),function(_377){_377.startup();_377._started=true;});},startup:function $DHG_(){if(this._started){return;}var _378=dijit._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_378&&_378.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._startChildren();if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function $DHH_(){var _379=dojo.query("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_37a=_379.filter(function(node){return dojo.hasAttr(node,"data-dojo-type")||dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_37b=dojo.filter(_37a.map(dijit.byNode),function(_37c){return _37c&&_37c.domNode&&_37c.resize;});if(_379.length==_37a.length&&_37b.length==1){this._singleChild=_37b[0];}else{delete this._singleChild;}dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function $DHI_(_37d,_37e){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_37d,_37e);},_scheduleLayout:function $DHJ_(_37f,_380){if(this._isShown()){this._layout(_37f,_380);}else{this._needLayout=true;this._changeSize=_37f;this._resultSize=_380;}},_layout:function $DHK_(_381,_382){if(_381){dojo.marginBox(this.domNode,_381);}var cn=this.containerNode;if(cn===this.domNode){var mb=_382||{};dojo.mixin(mb,_381||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(cn),mb);}this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=dojo.contentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function $DHL_(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_383){if(_383.resize){_383.resize();}});}},_isShown:function $DHM_(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_384=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden")&&_384&&_384.style&&(_384.style.display!="none");}}},_onShow:function $DHN_(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");dojo.getObject("html",true,dojo);(function(){var _385=0,d=dojo;dojo.html._secureForInnerHtml=function $DCF6_(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function $DCF8_(node,cont){d.empty(node);if(cont){if(typeof cont=="string"){cont=d._toDom(cont,node.ownerDocument);}if(!cont.nodeType&&d.isArrayLike(cont)){for(var _386=cont.length,i=0;i<cont.length;i=_386==cont.length?i+1:0){d.place(cont[i],node,"last");}}else{d.place(cont,node,"last");}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function $DCFv_(_387,node){dojo.mixin(this,_387||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_385++].join("_");}},set:function $DCFw_(cont,_388){if(undefined!==cont){this.content=cont;}if(_388){this._mixin(_388);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function $DCFx_(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _389=this.onContentError(e);try{node.innerHTML=_389;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function $DCFy_(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function $DCFz_(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _38a=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_38a){cont=_38a[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function $DCF0_(){if(this.parseContent){this._parse();}return this.node;},tearDown:function $DCF1_(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function $DCF2_(err){return "Error occured setting content: "+err;},_mixin:function $DCF3_(_38b){var _38c={},key;for(key in _38b){if(key in _38c){continue;}this[key]=_38b[key];}},_parse:function $DCF4_(){var _38d=this.node;try{var _38e={};dojo.forEach(["dir","lang","textDir"],function(name){if(this[name]){_38e[name]=this[name];}},this);this.parseResults=dojo.parser.parse({rootNode:_38d,noStart:!this.startup,inherited:_38e,scope:this.parserScope});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function $DCF5_(type,err,_38f){var _390=this["on"+type+"Error"].call(this,err);if(_38f){console.error(_38f,err);}else{if(_390){dojo.html._setNodeContent(this.node,_390,true);}}}});dojo.html.set=function $DCF9_(node,cont,_391){if(undefined==cont){cont="";}if(!_391){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_391,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.getObject("i18n",true,dojo);dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_392,_393,_394){_394=dojo.i18n.normalizeLocale(_394);var _395=_394.split("-");var _396=[_392,"nls",_393].join(".");var _397=dojo._loadedModules[_396];if(_397){var _398;for(var i=_395.length;i>0;i--){var loc=_395.slice(0,i).join("_");if(_397[loc]){_398=_397[loc];break;}}if(!_398){_398=_397.ROOT;}if(_398){var _399=function(){};_399.prototype=_398;return new _399();}}throw new Error("Bundle not found: "+_393+" in "+_392+" , locale="+_394);};dojo.i18n.normalizeLocale=function $DCFq_(_39a){var _39b=_39a?_39a.toLowerCase():dojo.locale;if(_39b=="root"){_39b="ROOT";}return _39b;};dojo.i18n._requireLocalization=function $DCFr_(_39c,_39d,_39e,_39f){var _3a0=dojo.i18n.normalizeLocale(_39e);var _3a1=[_39c,"nls",_39d].join(".");var _3a2="";if(_39f){var _3a3=_39f.split(",");for(var i=0;i<_3a3.length;i++){if(_3a0["indexOf"](_3a3[i])==0){if(_3a3[i].length>_3a2.length){_3a2=_3a3[i];}}}if(!_3a2){_3a2="ROOT";}}var _3a4=_39f?_3a2:_3a0;var _3a5=dojo._loadedModules[_3a1];var _3a6=null;if(_3a5){if(dojo.config.localizationComplete&&_3a5._built){return;}var _3a7=_3a4.replace(/-/g,"_");var _3a8=_3a1+"."+_3a7;_3a6=dojo._loadedModules[_3a8];}if(!_3a6){_3a5=dojo["provide"](_3a1);var syms=dojo._getModuleSymbols(_39c);var _3a9=syms.concat("nls").join("/");var _3aa;dojo.i18n._searchLocalePath(_3a4,_39f,function(loc){var _3ab=loc.replace(/-/g,"_");var _3ac=_3a1+"."+_3ab;var _3ad=false;if(!dojo._loadedModules[_3ac]){dojo["provide"](_3ac);var _3ae=[_3a9];if(loc!="ROOT"){_3ae.push(loc);}_3ae.push(_39d);var _3af=_3ae.join("/")+".js";_3ad=dojo._loadPath(_3af,null,function(hash){hash=hash.root||hash;var _3b0=function(){};_3b0.prototype=_3aa;_3a5[_3ab]=new _3b0();for(var j in hash){_3a5[_3ab][j]=hash[j];}});}else{_3ad=true;}if(_3ad&&_3a5[_3ab]){_3aa=_3a5[_3ab];}else{_3a5[_3ab]=_3aa;}if(_39f){return true;}});}if(_39f&&_3a0!=_3a2){_3a5[_3a0.replace(/-/g,"_")]=_3a5[_3a2.replace(/-/g,"_")];}};(function(){var _3b1=dojo.config.extraLocale;if(_3b1){if(!_3b1 instanceof Array){_3b1=[_3b1];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function $DCFs_(m,b,_3b2,_3b3){req(m,b,_3b2,_3b3);if(_3b2){return;}for(var i=0;i<_3b1.length;i++){req(m,b,_3b1[i],_3b3);}};}})();dojo.i18n._searchLocalePath=function $DCFt_(_3b4,down,_3b5){_3b4=dojo.i18n.normalizeLocale(_3b4);var _3b6=_3b4.split("-");var _3b7=[];for(var i=_3b6.length;i>0;i--){_3b7.push(_3b6.slice(0,i).join("-"));}_3b7.push(false);if(down){_3b7.reverse();}for(var j=_3b7.length-1;j>=0;j--){var loc=_3b7[j]||"ROOT";var stop=_3b5(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function $DCFu_(_3b8,_3b9){function _3ba(_3bb){_3bb=dojo.i18n.normalizeLocale(_3bb);dojo.i18n._searchLocalePath(_3bb,true,function(loc){for(var i=0;i<_3b9.length;i++){if(_3b9[i]==loc){dojo["require"](_3b8+"_"+loc);return true;}}return false;});};_3ba();var _3bc=dojo.config.extraLocale||[];for(var i=0;i<_3bc.length;i++){_3ba(_3bc[i]);}};}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",[dijit._Widget,dijit.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:dojo._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function $DJ4_(_3bd,_3be){if((!_3bd||!_3bd.template)&&_3be&&!("href" in _3bd)&&!("content" in _3bd)){var df=dojo.doc.createDocumentFragment();_3be=dojo.byId(_3be);while(_3be.firstChild){df.appendChild(_3be.firstChild);}_3bd=dojo.delegate(_3bd,{content:df});}this.inherited(arguments,[_3bd,_3be]);},postMixInProperties:function $DJ5_(){this.inherited(arguments);var _3bf=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_3bf);this.errorMessage=dojo.string.substitute(this.errorMessage,_3bf);},buildRendering:function $DJ6_(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}},_startChildren:function $DJ7_(){this.inherited(arguments);if(this._contentSetter){dojo.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&dojo.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function $DJ8_(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function $DJ9_(href){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function $DKA_(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function $DKB_(data){this._set("href","");this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function $DKC_(){return this.containerNode.innerHTML;},cancel:function $DKD_(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function $DKE_(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function $DKF_(_3c0){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function $DKG_(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function $DKH_(){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function $DKI_(){this._setContent(this.onDownloadStart(),true);var self=this;var _3c1={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_3c1,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_3c1));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function $DKJ_(data){this._set("isLoaded",true);try{this.onLoadDeferred.callback(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function $DKK_(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function $DKL_(){if(this.isLoaded){this._onUnloadHandler();}var _3c2=this._contentSetter;dojo.forEach(this.getChildren(),function(_3c3){if(_3c3.destroyRecursive){_3c3.destroyRecursive();}});if(_3c2){dojo.forEach(_3c2.parseResults,function(_3c4){if(_3c4.destroyRecursive&&_3c4.domNode&&_3c4.domNode.parentNode==dojo.body()){_3c4.destroyRecursive();}});delete _3c2.parseResults;}dojo.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function $DKM_(cont,_3c5){this.destroyDescendants();var _3c6=this._contentSetter;if(!(_3c6&&_3c6 instanceof dojo.html._ContentSetter)){_3c6=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _3c7=this.onContentError(e);try{this.containerNode.innerHTML=_3c7;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _3c8=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});_3c6.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont,_3c8);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_3c5){if(this._started){this._startChildren();this._scheduleLayout();}this._onLoadHandler(cont);}},_onError:function $DKN_(type,err,_3c9){this.onLoadDeferred.errback(err);var _3ca=this["on"+type+"Error"].call(this,err);if(_3c9){console.error(_3c9,err);}else{if(_3ca){this._setContent(_3ca,true);}}},onLoad:function $DKO_(data){},onUnload:function $DKP_(){},onDownloadStart:function $DKQ_(){return this.loadingMessage;},onContentError:function $DKR_(_3cb){},onDownloadError:function $DKS_(_3cc){return this.errorMessage;},onDownloadEnd:function $DKT_(){}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:dojo.cache("dijit","templates/TooltipDialog.html","<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"),_setTitleAttr:function $DQD_(_3cd){this.containerNode.title=_3cd;this._set("title",_3cd);},postCreate:function $DQE_(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function $DQF_(node,_3ce,_3cf){var newC="dijitTooltipAB"+(_3cf.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_3cf.charAt(0)=="T"?"Below":"Above");dojo.replaceClass(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function $DQG_(){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);},onOpen:function $DQH_(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();},onClose:function $DQI_(){this.onHide();},_onKey:function $DQJ_(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _3d0=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){setTimeout(dojo.hitch(this,"onCancel"),0);dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_3d0){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_3d0){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit._DialogBase",[dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Dialog.html","<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"),baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function $DSY_(){var _3d1=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_3d1);this.inherited(arguments);},postCreate:function $DSZ_(){dojo.style(this.domNode,{display:"none",position:"absolute"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function $DSa_(){this._position();if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function $DSb_(e){if(e&&e.node&&e.node===this.domNode){this._relativePosition=dojo.position(e.node);}},_setup:function $DSc_(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});this._dndListener=dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};},_size:function $DSd_(){this._checkIfSingleChild();if(this._singleChild){if(this._singleChildOriginalStyle){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;}delete this._singleChildOriginalStyle;}else{dojo.style(this.containerNode,{width:"auto",height:"auto"});}var mb=dojo._getMarginSize(this.domNode);var _3d2=dojo.window.getBox();if(mb.w>=_3d2.w||mb.h>=_3d2.h){var w=Math.min(mb.w,Math.floor(_3d2.w*0.75)),h=Math.min(mb.h,Math.floor(_3d2.h*0.75));if(this._singleChild&&this._singleChild.resize){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:w,h:h});}else{dojo.style(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function $DSe_(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode,_3d3=dojo.window.getBox(),p=this._relativePosition,bb=p?null:dojo._getBorderBox(node),l=Math.floor(_3d3.l+(p?p.x:(_3d3.w-bb.w)/2)),t=Math.floor(_3d3.t+(p?p.y:(_3d3.h-bb.h)/2));dojo.style(node,{left:l+"px",top:t+"px"});}},_onKey:function $DSf_(evt){if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _3d4=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_3d4){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_3d4){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode||dojo.hasClass(node,"dijitPopup")){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function $DSg_(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var _3d5=dojo.window.getBox();if(!this._oldViewport||_3d5.h!=this._oldViewport.h||_3d5.w!=this._oldViewport.w){this.layout();this._oldViewport=_3d5;}}));this._modalconnects.push(dojo.connect(this.domNode,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _3d6;this._fadeInDeferred=new dojo.Deferred(dojo.hitch(this,function(){_3d6.stop();delete this._fadeInDeferred;}));_3d6=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){dijit._DialogLevelManager.show(this,this.underlayAttrs);}),onEnd:dojo.hitch(this,function(){if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}this._fadeInDeferred.callback(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function $DSh_(){if(!this._alreadyInitialized){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _3d7;this._fadeOutDeferred=new dojo.Deferred(dojo.hitch(this,function(){_3d7.stop();delete this._fadeOutDeferred;}));_3d7=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";dijit._DialogLevelManager.hide(this);this.onHide();this._fadeOutDeferred.callback(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},layout:function $DSi_(){if(this.domNode.style.display!="none"){if(dijit._underlay){dijit._underlay.layout();}this._position();}},destroy:function $DSj_(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}if(this._dndListener){dojo.unsubscribe(this._dndListener);}dojo.forEach(this._modalconnects,dojo.disconnect);dijit._DialogLevelManager.hide(this);this.inherited(arguments);}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._DialogBase],{});dijit._DialogLevelManager={show:function $DSk_(_3d8,_3d9){var ds=dijit._dialogStack;ds[ds.length-1].focus=dijit.getFocus(_3d8);var _3da=dijit._underlay;if(!_3da||_3da._destroyed){_3da=dijit._underlay=new dijit.DialogUnderlay(_3d9);}else{_3da.set(_3d8.underlayAttrs);}var _3db=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:950;if(ds.length==1){_3da.show();}dojo.style(dijit._underlay.domNode,"zIndex",_3db-1);dojo.style(_3d8.domNode,"zIndex",_3db);ds.push({dialog:_3d8,underlayAttrs:_3d9,zIndex:_3db});},hide:function $DSl_(_3dc){var ds=dijit._dialogStack;if(ds[ds.length-1].dialog==_3dc){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){if(!dijit._underlay._destroyed){dijit._underlay.hide();}}else{dojo.style(dijit._underlay.domNode,"zIndex",pd.zIndex-1);dijit._underlay.set(pd.underlayAttrs);}if(_3dc.refocus){var _3dd=pd.focus;if(!_3dd||(pd.dialog&&!dojo.isDescendant(_3dd.node,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_3dd=pd.dialog._firstFocusItem;}try{dijit.focus(_3dd);}catch(e){}}}else{var idx=dojo.indexOf(dojo.map(ds,function(elem){return elem.dialog;}),_3dc);if(idx!=-1){ds.splice(idx,1);}}},isTop:function $DSm_(_3de){var ds=dijit._dialogStack;return ds[ds.length-1].dialog==_3de;}};dijit._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function $DFU_(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function $DFV_(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function $DFW_(_3df){this._set("disabled",_3df);dojo.attr(this.focusNode,"disabled",_3df);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_3df);}dijit.setWaiState(this.focusNode,"disabled",_3df);if(_3df){this._set("hovering",false);this._set("active",false);var _3e0="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_3e0)?_3e0:[_3e0],function(_3e1){var node=this[_3e1];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function $DFX_(_3e2){dojo.deprecated("setDisabled("+_3e2+") is deprecated. Use set('disabled',"+_3e2+") instead.","","2.0");this.set("disabled",_3e2);},_onFocus:function $DFY_(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function $DFZ_(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function $DFa_(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function $DFb_(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function $DFc_(_3e3){},_onChangeActive:false,_handleOnChange:function $DFd_(_3e4,_3e5){if(this._lastValueReported==undefined&&(_3e5===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_3e4;}this._pendingOnChange=this._pendingOnChange||(typeof _3e4!=typeof this._lastValueReported)||(this.compare(_3e4,this._lastValueReported)!=0);if((this.intermediateChanges||_3e5||_3e5===undefined)&&this._pendingOnChange){this._lastValueReported=_3e4;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_3e4);}),0);}}},create:function $DFe_(){this.inherited(arguments);this._onChangeActive=true;},destroy:function $DFf_(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function $DFg_(_3e6){dojo.deprecated("dijit.form._FormWidget:setValue("+_3e6+") is deprecated.  Use set('value',"+_3e6+") instead.","","2.0");this.set("value",_3e6);},getValue:function $DFh_(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function $DFi_(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _3e7=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_3e7);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function $DFj_(_3e8){dojo.attr(this.focusNode,"readOnly",_3e8);dijit.setWaiState(this.focusNode,"readonly",_3e8);this._set("readOnly",_3e8);},postCreate:function $DFk_(){this.inherited(arguments);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function $DFl_(_3e9,_3ea){this._handleOnChange(_3e9,_3ea);},_handleOnChange:function $DFm_(_3eb,_3ec){this._set("value",_3eb);this.inherited(arguments);},undo:function $DFn_(){this._setValueAttr(this._lastValueReported,false);},reset:function $DFo_(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function $DFp_(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function $DFq_(){if(dojo.isIE==7){var _3ed=this.domNode;var _3ee=_3ed.parentNode;var _3ef=_3ed.firstChild||_3ed;var _3f0=_3ef.style.filter;var _3f1=this;while(_3ee&&_3ee.clientHeight==0){(function ping(){var _3f2=_3f1.connect(_3ee,"onscroll",function(e){_3f1.disconnect(_3f2);_3ef.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_3ef.style.filter=_3f0;},0);});})();_3ee=_3ee.parentNode;}}}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function $DGu_(e){if(this.disabled||this.readOnly){return;}dojo.stopEvent(e);this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function $DGv_(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _3f3=this.dropDown,_3f4=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_3f4){if(dojo.hasClass(t,"dijitPopup")){_3f4=true;}else{t=t.parentNode;}}if(_3f4){t=e.target;if(_3f3.onItemClick){var _3f5;while(t&&!(_3f5=dijit.byNode(t))){t=t.parentNode;}if(_3f5&&_3f5.onClick&&_3f5.getParent){_3f5.getParent().onItemClick(_3f5,e);}}return;}}}if(this._opened&&_3f3.focus&&_3f3.autoFocus!==false){window.setTimeout(dojo.hitch(_3f3,"focus"),1);}},_onDropDownClick:function $DGw_(e){if(this._stopClickEvents){dojo.stopEvent(e);}},buildRendering:function $DGx_(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _3f6={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_3f6+"ArrowButton");},postCreate:function $DGy_(){this.inherited(arguments);this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup","_onKeyUp");},destroy:function $DGz_(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function $DG0_(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_3f7=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){dojo.stopEvent(e);return;}}if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){this.closeDropDown();dojo.stopEvent(e);}else{if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_3f7.tagName||"").toLowerCase()!=="input"||(_3f7.type&&_3f7.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;dojo.stopEvent(e);}}},_onKeyUp:function $DG1_(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){setTimeout(dojo.hitch(d,"focus"),1);}}},_onBlur:function $DG2_(){var _3f8=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_3f8);this.inherited(arguments);},isLoaded:function $DG3_(){return true;},loadDropDown:function $DG4_(_3f9){_3f9();},toggleDropDown:function $DG5_(){if(this.disabled||this.readOnly){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function $DG6_(){var _3fa=this.dropDown,_3fb=_3fa.domNode,_3fc=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_3fb.style.width){this._explicitDDWidth=true;}if(_3fb.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _3fd={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_3fd.width="";}if(!this._explicitDDHeight){_3fd.height="";}dojo.style(_3fb,_3fd);var _3fe=this.maxHeight;if(_3fe==-1){var _3ff=dojo.window.getBox(),_400=dojo.position(_3fc,false);_3fe=Math.floor(Math.max(_400.y,_3ff.h-(_400.y+_400.h)));}if(_3fa.startup&&!_3fa._started){_3fa.startup();}dijit.popup.moveOffScreen(_3fa);var mb=dojo._getMarginSize(_3fb);var _401=(_3fe&&mb.h>_3fe);dojo.style(_3fb,{overflowX:"hidden",overflowY:_401?"auto":"hidden"});if(_401){mb.h=_3fe;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_3fc.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_3fc.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_3fa.resize)){_3fa.resize(mb);}else{dojo.marginBox(_3fb,mb);}}var _402=dijit.popup.open({parent:this,popup:_3fa,around:_3fc,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function $DG7_(){self.closeDropDown(true);},onCancel:function $DG8_(){self.closeDropDown(true);},onClose:function $DG9_(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _402;},closeDropDown:function $DHA_(_403){if(this._opened){if(_403){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function $DEG_(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function $DEH_(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _404=dijit.byNode(node);if(_404&&typeof _404._onSubmit=="function"){_404._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},buildRendering:function $DEI_(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function $DEJ_(_405){if(_405&&(!this.params||!("label" in this.params))){this.set("label",_405.innerHTML);}},_setShowLabelAttr:function $DEK_(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},onClick:function $DEL_(e){return true;},_clicked:function $DEM_(e){},setLabel:function $DEN_(_406){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_406);},_setLabelAttr:function $DEO_(_407){this._set("label",_407);this.containerNode.innerHTML=_407;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},_setIconClassAttr:function $DEP_(val){var _408=this.iconClass||"dijitNoIcon",_409=val||"dijitNoIcon";dojo.replaceClass(this.iconNode,_409,_408);this._set("iconClass",val);}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function $DEQ_(){if(this.srcNodeRef){var _40a=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_40a[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function $DER_(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _40b=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_40b);delete this.dropDownContainer;}if(this.dropDown){dijit.popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function $DES_(){var _40c=this.dropDown;return (!!_40c&&(!_40c.href||_40c.isLoaded));},loadDropDown:function $DET_(){var _40d=this.dropDown;if(!_40d){return;}if(!this.isLoaded()){var _40e=dojo.connect(_40d,"onLoad",this,function(){dojo.disconnect(_40e);this.openDropDown();});_40d.refresh();}else{this.openDropDown();}},isFocusable:function $DEU_(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function $DEV_(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function $DEW_(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function $DEX_(_40f){if(!this.disabled){dijit.focus(_40f=="start"?this.titleNode:this._popupStateNode);}}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function $DEY_(evt){this.set("checked",!this.checked);},_setCheckedAttr:function $DEZ_(_410,_411){this._set("checked",_410);dojo.attr(this.focusNode||this.domNode,"checked",_410);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_410);this._handleOnChange(_410,_411);},setChecked:function $DEa_(_412){dojo.deprecated("setChecked("+_412+") is deprecated. Use set('checked',"+_412+") instead.","","2.0");this.set("checked",_412);},reset:function $DEb_(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["betterform.ui.Control"]){dojo._hasResource["betterform.ui.Control"]=true;dojo.provide("betterform.ui.Control");dojo.declare("betterform.ui.Control",[dijit._Widget,dijit._Templated],{id:"",_earlyTemplatedStartup:true,widgetsInTemplate:true,target:null,value:"",dataType:"",controlType:"",valid:true,readonly:false,required:false,relevant:true,controlValue:null,contextInfo:null,tabindex:0,appearance:"",buildRendering:function $DBmj_(){this.domNode=this.srcNodeRef;if(dojo.attr(this.domNode,"tabindex")){this.tabindex=eval(dojo.attr(this.domNode,"tabindex"));}},postCreate:function $DBmk_(){betterform.ui.util.setDefaultClasses(this.domNode);if(this.controlValue==undefined){var _413=dojo.query("*[id ='"+this.id+"-value']",this.domNode)[0];if(_413==undefined){_413=dojo.query(".xfValue",this.domNode)[0];}if(_413==undefined){_413=this._createControlValueTemplate();}else{this.dataType=betterform.ui.util.removeNamespace(dojo.attr(_413,"datatype"));this.controlType=dojo.attr(_413,"controltype");}this.controlValue=fluxProcessor.factory.createWidget(_413,this.id);if(this.controlValue!=undefined){this.controlValue.applyState();}else{console.error("ControlValue for Control "+this.id+" could not be created");}}if(this.isValid()){dojo.publish("/xf/valid",[this.id,"init"]);}else{dojo.publish("/xf/invalid",[this.id,"init"]);}},_createControlValueTemplate:function $DBml_(){if(this.contextInfo.type!=undefined&&this.contextInfo.type!=""){var _414=betterform.ui.util.removeNamespace(this.contextInfo.type);_414="xsd"+_414.replace(/^[a-z]/,_414.substring(0,1).toUpperCase());if(dojo.hasClass(this.domNode,"xsd")){betterform.ui.util.replaceClass(this.domNode,"xsd",_414);}else{dojo.addClass(this.domNode,_414);}}else{if(dojo.hasClass(this.domNode,"xsd")){}}this._updateMIPClasses();var _415=document.createElement("span");this.dataType=betterform.ui.util.removeNamespace(this.contextInfo.type);this.controlType=this.contextInfo.targetName;dojo.attr(_415,"dataType",this.dataType);dojo.attr(_415,"controlType",this.controlType);if(this.contextInfo.value!=undefined&&this.dataType=="date"){this.controlType=dojo.attr(_415,"schemaValue",this.contextInfo.schemaValue);}if(this.contextInfo.targetId!=undefined){this.controlType=dojo.attr(_415,"id",this.contextInfo.targetId+"-value");}if(dojo.attr(this.domNode,"appearance")!=undefined){this.appearance=dojo.attr(this.domNode,"appearance");dojo.attr(_415,"appearance",this.appearance);}if(dojo.attr(this.domNode,"mediatype")!=undefined){this.appearance=dojo.attr(this.domNode,"mediatype");dojo.attr(_415,"mediatype",this.appearance);}if(this.contextInfo.targetName!="trigger"){_415.innerHTML=this.contextInfo.value;}else{dojo.attr(_415,"label",this.srcNodeRef.innerHTML);this.domNode.innerHTML="";}dojo.addClass(_415,"xfValue");var _416=dojo.query(".bfValueWrapper",this.domNode)[0];if(_416!=undefined){dojo.place(_415,_416);}else{dojo.place(_415,this.domNode);}if(dojo.hasClass(this.domNode,"xfIncremental")){dojo.attr(_415,"incremental","true");}if(dojo.hasAttr(this.domNode,"delay")){dojo.attr(_415,"delay",dojo.attr(this.domNode,"delay"));}return _415;},isRequired:function $DBmn_(){if(dojo.hasClass(this.domNode,"xfOptional")){return false;}else{if(dojo.hasClass(this.domNode,"xfRequired")){return true;}else{console.error("No required state found");}}},isReadonly:function $DBmo_(){if(dojo.hasClass(this.domNode,"xfReadWrite")){return false;}else{if(dojo.hasClass(this.domNode,"xfReadOnly")){return true;}else{console.error("No readonly state found");}}},isRelevant:function $DBmp_(){if(dojo.hasClass(this.domNode,"xfDisabled")){return false;}else{if(dojo.hasClass(this.domNode,"xfEnabled")){return true;}else{console.error("No relevant state found");}}},isValid:function $DBmq_(){if(dojo.hasClass(this.domNode,"xfInvalid")){return false;}else{if(dojo.hasClass(this.domNode,"xfValid")){return true;}else{console.error("No validate state found for "+this.id);}}},handleStateChanged:function $DBmr_(_417){if(_417["parentId"]){this._handleHelperChanged(_417);}else{this.value=_417["value"];this.valid=_417["valid"];this.readonly=_417["readonly"];this.required=_417["required"];this.relevant=_417["enabled"];if(_417["targetName"]=="input"&&this.value!=null){var _418=betterform.ui.util.removeNamespace(_417["type"]);this._changedDataType(_418,_417);if(_418=="date"||_418=="dateTime"){this._handleSetControlValue(_417["schemaValue"]);}else{this._handleSetControlValue(this.value);}}else{if(this.value!=null){this._handleSetControlValue(this.value);}}if(this.valid!=null){this._handleSetValidProperty(eval(this.valid));}if(this.readonly!=null){this._handleSetReadonlyProperty(eval(this.readonly));}if(this.required!=null){this._handleSetRequiredProperty(eval(this.required));}if(this.relevant!=null){this._handleSetEnabledProperty(eval(this.relevant));}}},getControlValue:function $DBms_(){if(this.controlValue!=undefined){return this.controlValue.getControlValue();}},_changedDataType:function $DBmt_(_419,_41a){if(this.controlValue==undefined){var _41b=dojo.query("*[id ='"+this.id+"-value']",this.domNode)[0];if(_41b==undefined){_41b=dojo.query(".xfValue",this.domNode)[0];}if(_41b==undefined){console.error("Control.handleStateChanged Error: XFControl "+this.id+" has no ControlValue node");return;}else{dojo.attr(_41b,"dataType",_419);dojo.attr(_41b,"id",this.id+"-value");this.controlValue=fluxProcessor.factory.createWidget(_41b,this.id);}}else{if(this.dataType!=_419&&!(this.dataType==""&&_419=="string")){var _41c=document.createElement("span");dojo.attr(_41c,"dataType",_419);dojo.attr(_41c,"controlType",this.controlType);dojo.attr(_41c,"id",this.id+"-value");dojo.addClass(_41c,"xfValue");var _41d="xsd"+this.dataType.replace(/^[a-z]/,this.dataType.substring(0,1).toUpperCase());if(dojo.hasClass(this.domNode,_41d)){dojo.removeClass(this.domNode,_41d);}dojo.addClass(this.domNode,"xsd"+_419.replace(/^[a-z]/,_419.substring(0,1).toUpperCase()));this.controlValue.destroy();this.controlValue=fluxProcessor.factory.createWidget(_41c,this.id);dojo.place(this.controlValue.domNode,this.domNode);}}this.dataType=_419;},_handleSetControlValue:function $DBmu_(_41e){if(this.controlValue.currentValue!=_41e){this.controlValue.currentValue=_41e;this.controlValue._handleSetControlValue(_41e,true);this._handleRequiredEmpty();}},_handleSetValidProperty:function $DBmv_(_41f){if(_41f){betterform.ui.util.replaceClass(this.domNode,"xfInvalid","xfValid");dojo.publish("/xf/valid",[this.id,"applyChanges"]);}else{betterform.ui.util.replaceClass(this.domNode,"xfValid","xfInvalid");dojo.publish("/xf/invalid",[this.id,"applyChanges"]);}},_handleSetReadonlyProperty:function $DBmw_(){if(!eval(this.readonly)){betterform.ui.util.replaceClass(this.domNode,"xfReadOnly","xfReadWrite");}else{betterform.ui.util.replaceClass(this.domNode,"xfReadWrite","xfReadOnly");}this.controlValue.applyState();},_handleSetRequiredProperty:function $DBmx_(){if(this.required=="true"){betterform.ui.util.replaceClass(this.domNode,"xfOptional","xfRequired");}else{betterform.ui.util.replaceClass(this.domNode,"xfRequired","xfOptional");}},_handleSetEnabledProperty:function $DBmy_(_420){var _421=this.id;var _422=dojo.byId(_421+"-label");if(_420){if(_422!=undefined){if(dojo.hasClass(_422,"xfDisabled")){betterform.ui.util.replaceClass(_422,"xfDisabled","xfEnabled");}else{dojo.addClass(_422,"xfEnabled");}}betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{if(_422!=undefined){if(dojo.hasClass(_422,"xfEnabled")){betterform.ui.util.replaceClass(_422,"xfEnabled","xfDisabled");}else{dojo.addClass(_422,"xfDisabled");}}betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");if(this.isValid()){dojo.publish("/xf/valid",[this.id,"xfDisabled"]);}else{dojo.publish("/xf/invalid",[this.id,"xfDisabled"]);}}},_handleHelperChanged:function $DBmz_(_423){switch(_423["targetName"]){case "label":this.controlValue._setLabel(_423["value"]);return;case "help":this._setHelp(_423["value"]);return;case "hint":this._setHint(_423["value"]);return;case "alert":this._setAlert(_423["value"]);return;case "value":this.controlValue._handleSetControlValue(_423["value"]);return;}},_updateMIPClasses:function $DBm0_(){if(this.contextInfo.enabled!=undefined){if(this.contextInfo.enabled=="true"){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");}}if(this.contextInfo.readonly!=undefined){if(this.contextInfo.readonly=="true"){betterform.ui.util.replaceClass(this.domNode,"xfReadWrite","xfReadOnly");}else{betterform.ui.util.replaceClass(this.domNode,"xfReadOnly","xfReadWrite");}}if(this.contextInfo.required!=undefined){if(this.contextInfo.required=="true"){betterform.ui.util.replaceClass(this.domNode,"xfOptional","xfRequired");}else{betterform.ui.util.replaceClass(this.domNode,"xfRequired","xfOptional");}}if(this.contextInfo.valid!=undefined){if(this.contextInfo.valid=="true"){betterform.ui.util.replaceClass(this.domNode,"xfInvalid","xfValid");}else{betterform.ui.util.replaceClass(this.domNode,"xfValid","xfInvalid");}}},updateProgress:function $DBm1_(_424){this.controlValue.updateProgress(_424);},setControlValue:function $DBm2_(_425){fluxProcessor.setControlValue(this.id,_425);this._handleRequiredEmpty();},_setHelp:function $DBm3_(_426){var _427=dojo.byId(this.id+"-help");if(_427!=undefined){_427.innerHTML=_426;}else{}},_setHint:function $DBm4_(_428){var _429=dojo.byId(this.id+"-hint");var _42a=dijit.byId(this.id+"-value");var _42b=false;var _42c=false;_42b=_429!=undefined;if(_42a!=undefined){try{var _42d=_42a.attr("title");_42c=_42d!=undefined&&_42d!="";}catch(exception){}}if(_42b){_429.innerHTML=_428;}if(_42c){_42a.attr("title",_428);}if(!_42b&&!_42c){}},_setAlert:function $DBm5_(_42e){var _42f=dojo.byId(this.id+"-alert");if(_42f!=undefined){_42f.innerHTML=_42e;}else{console.error("Failure updating alert for Control '"+this.id+"-alert' with value: "+_42e);}},_setValueChild:function $DBm6_(_430){},_handleRequiredEmpty:function $DBm7_(){if(dojo.hasClass(this.domNode,"xfRequiredEmpty")){dojo.removeClass(this.domNode,"xfRequiredEmpty");}}});}if(!dojo._hasResource["betterform.ui.ControlValue"]){dojo._hasResource["betterform.ui.ControlValue"]=true;dojo.provide("betterform.ui.ControlValue");dojo.declare("betterform.ui.ControlValue",[dijit._Widget,dijit._Templated],{id:null,name:"",xfControl:null,incremental:false,currentValue:"",bfFocus:false,tabIndex:null,applyProperties:function $DBm8_(_431,node){this.xfControl=_431;var _432=dojo.attr(node,"incremental");if(_432!=undefined&&_432!=""){this.incremental=eval(_432);}else{this.incremental=false;}if(dojo.attr(node,"tabindex")){this.tabIndex=eval(dojo.attr(node,"tabindex"));}},setCurrentValue:function $DBm9_(_433){if(_433!=undefined){this.currentValue=_433;}else{this.currentValue=this.getControlValue();}},_handleDOMFocusIn:function $DBnA_(){this.bfFocus=true;this.domNode.focus();},handleOnFocus:function $DBnB_(){fluxProcessor.currentControlId=this.xfControl.id;if(!this.bfFocus&&fluxProcessor.usesDOMFocusIN){fluxProcessor.dispatchEventType(this.xfControl.id,"DOMFocusIn");}this.bfFocus=true;if(this.xfControl.isValid()){dojo.publish("/xf/valid",[this.xfControl.id,"onFocus"]);}else{dojo.publish("/xf/invalid",[this.xfControl.id,"onFocus"]);}},handleOnBlur:function $DBnC_(){this.bfFocus=false;if(this.xfControl.isValid()){dojo.publish("/xf/valid",[this.xfControl.id,"onBlur"]);}else{dojo.publish("/xf/invalid",[this.xfControl.id,"onBlur"]);}if(!this.incremental){this.setControlValue();}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMFocusOut");},applyState:function $DBnD_(){this.set("readOnly",this.xfControl.isReadonly());},setControlValue:function $DBnE_(_434){if(_434!=undefined&&this.currentValue!=_434){this.currentValue=_434;this._handleSetControlValue(_434,false);}var _435=this.getControlValue();if(this.currentValue!=_435){this.xfControl.setControlValue(_435);this.currentValue=_435;}},_setLabel:function $DBnF_(_436){var _437=dojo.byId(this.xfControl.id+"-label");if(_437!=undefined&&_436!=undefined){_437.innerHTML=_436;}},_handleSetControlValue:function $DBnG_(_438){console.error("betterform.ui.ControlValue: abstract methods _handleSetControlValue() must be implemented by extending class ",this);},getControlValue:function $DBnH_(){console.error("betterform.ui.ControlValue: abstract methods getControlValue() must be implemented by extending class ",this);}});}if(!dojo._hasResource["betterform.ui.factory.InputElementFactory"]){dojo._hasResource["betterform.ui.factory.InputElementFactory"]=true;dojo.provide("betterform.ui.factory.InputElementFactory");dojo.declare("betterform.ui.factory.InputElementFactory",null,{createInputWidget:function $DBqh_(_439,_43a,_43b,_43c,_43d,_43e){var _43f=null;var _440=_43b;if(_43d!=undefined&&(_43d.indexOf("ca")!=-1||_43d.indexOf("bf:")!=-1)){if(_43d.indexOf("=")!=-1){_440=_43d.substring(0,_43d.indexOf("="));}else{_440=_43d;}}switch(_440.toLowerCase()){case "casimiletimeline":_43f=this.createInputTimelineWidgetALPHA(_43a,_439,_43e);break;case "caopmltree":_43f=this.createInputOPMLTreeALPHA(_43a,_439,_43e);break;case "bf:time":_43f=this.createInputBfTimeWidget(_43a,_439,_43e,_43d);break;case "bf:dropdowntime":_43f=this.createInputBfDropDownTimeWidget(_43a,_439,_43e,_43d);break;case "bf:dropdowndate":_43f=this.createInputBfDropDownDateWidget(_43a,_439,_43e,_43d);break;case "date":_43f=this.createInputDateWidget(_43a,_439,_43e,_43d);break;case "datetime":_43f=this.createInputDateTimeWidget(_43a,_439,_43e,_43d);break;case "boolean":_43f=this.createInputBooleanWidget(_43a,_439,_43e,_43d);break;default:_43f=this.createInputTextWidget(_43a,_439,_43e,_43d);break;}return _43f;},createInputTimelineWidgetALPHA:function $DBqi_(_441,_442,_443,_444){var _444=_442.innerHTML;var _445=new betterform.ui.timeline.TimeLine({name:_441+"-value",checked:_444,"class":_443,xfControlId:_441},_442);_445.startup();return _445;},createInputOPMLTreeALPHA:function $DBqj_(_446,_447,_448){var _449=new betterform.ui.tree.OPMLTree({name:_446+"-value","class":_448,xfControlId:_446},_447);_449.startup();return _449;},createInputBfDropDownTimeWidget:function $DBqk_(_44a,_44b,_44c,_44d){var _44e=_44b.innerHTML;return newInputTimeWidget=new betterform.ui.input.DropDownTime({name:_44a+"-value",value:_44e,"class":_44c,title:dojo.attr(_44b,"title"),xfControlId:_44a},_44b);},createInputBfDropDownDateWidget:function $DBql_(_44f,_450,_451,_452){var _453=null;var _454=dojo.attr(_450,"schemaValue");if(_454==undefined){_454="";}var _455;var _456;var now=new Date().getFullYear();if(_452.indexOf("=")!=-1){_455=_452.substring(_452.indexOf("=")+1);if(_455.indexOf(":")!=-1){_456=_455.substring(_455.indexOf(":")+1);_455=_455.substring(0,_455.indexOf(":"));}if(_455.indexOf("-")!=-1){_455=now-parseInt(_455.substring(_455.indexOf("-")+1),"10");}else{if(_455.indexOf("+")!=-1){_455=now+parseInt(_455.substring(_455.indexOf("+")+1),"10");}}if(_456!=undefined){if(_456.indexOf("+")!=-1){_456=now+parseInt(_456.substring(_456.indexOf("+")+1),"10");}else{if(_456.indexOf("-")!=-1){_456=now-parseInt(_456.substring(_456.indexOf("-")+1),"10");}}}else{_456=now;}}else{_456=now;_455=_456-10;}_455=parseInt(_455,"10");_456=parseInt(_456,"10");var _457="<div class='xfDropDownDateControl'><input class='xfValue' type='hidden' dojoAttachPoint='valueNode' value=''/><span class='xfDropDownDate'><select size='1' dojoType='dijit.form.ComboBox' dojoAttachPoint='daysFacet' class='xfDropDownDateDays'><option></option><option>01</option><option>02</option><option>03</option><option>04</option><option>05</option><option>06</option><option>07</option><option>08</option><option>09</option><option>10</option><option>11</option><option>12</option><option>13</option><option>14</option><option>15</option><option>16</option><option>17</option><option>18</option><option>19</option><option>20</option><option>21</option><option>22</option><option>23</option><option>24</option><option>25</option><option>26</option><option>27</option><option>28</option><option>29</option><option>30</option><option>31</option></select><select size='1' dojoType='dijit.form.ComboBox' dojoAttachPoint='monthsFacet' class='xfDropDownDateMonths'><option value=''></option><option value='01'>January</option><option value='02'>February</option><option value='03'>March</option><option value='04'>April</option><option value='05'>May</option><option value='06'>June</option><option value='07'>July</option><option value='08'>August</option><option value='09'>September</option><option value='10'>October</option><option value='11'>November</option><option value='12'>December</option></select><select size='1' dojoType='dijit.form.ComboBox' dojoAttachPoint='yearsFacet' class='xfDropDownDateYears'>";var end="</select></span></div>";_457=_457+"<option></option>";if(_455>_456){for(var i=_455;i>=_456;i--){_457=_457+"<option>"+i+"</option>";}}else{for(var i=_455;i<=_456;i++){_457=_457+"<option>"+i+"</option>";}}_457=_457+end;var _458=_455;var _459=_456;if(_455>=_456){_458=_456;_459=_455;}try{_453=new betterform.ui.input.DropDownDate({name:_44f+"-value",value:_454,"class":_451,title:dojo.attr(_450,"title"),minimumYear:_458,maximumYear:_459,templateString:_457,constraints:{selector:"date"},xfControlId:_44f},_450);}catch(ex){alert(ex);}return _453;},createInputDateWidget:function $DBqm_(_45a,_45b,_45c,_45d){var _45e=null;var _45f=dojo.attr(_45b,"schemaValue");if(_45f!=undefined&&_45f!=""){_45f=dojo.date.stamp.fromISOString(_45f);}else{_45f=undefined;}var _460;if(_45d.indexOf("iso8601:")!=-1){_460=_45d.substring(_45d.indexOf("iso8601:")+8);if(_460.indexOf(" ")!=-1){_460=_460.substring(0,_460.indexOf(" ")).trim();}}if(_460!=undefined){try{_45e=new betterform.ui.input.Date({name:_45a+"-value",value:_45f,required:false,"class":_45c,title:dojo.attr(_45b,"title"),constraints:{selector:"date",datePattern:_460},xfControlId:_45a},_45b);}catch(ex){alert(ex);}}else{_45e=new betterform.ui.input.Date({name:_45a+"-value",value:_45f,"class":_45c,title:dojo.attr(_45b,"title"),constraints:{selector:"date"},xfControlId:_45a},_45b);}return _45e;},createInputDateTimeWidget:function $DBqn_(_461,_462,_463,_464){var _465=null;var _466=dojo.attr(_462,"schemaValue");var _467=false;if(_466!=undefined&&_466.indexOf(".")==19){_466=_466.substring(0,19);_467=true;}if(_466==undefined){_466="";}var _468;if(_464.indexOf("iso8601:")!=-1){_468=_464.substring(_464.indexOf("iso8601:")+8);if(_468.indexOf(" ")!=-1){_468=_468.substring(0,_468.indexOf(" ")).trim();}}if(_468!=undefined){try{_465=new betterform.ui.input.DateTime({name:_461+"-value",value:_466,miliseconds:_467,constraints:{datePattern:_468,timePattern:"HH:mm:ss"},title:dojo.attr(_462,"title"),xfControlId:_461},_462);}catch(ex){alert(ex);}}else{_465=new betterform.ui.input.DateTime({name:_461+"-value",value:_466,miliseconds:_467,constraints:{datePattern:"M/d/yyyy",timePattern:"HH:mm:ss"},title:dojo.attr(_462,"title"),xfControlId:_461},_462);}return _465;},createInputBfTimeWidget:function $DBqo_(_469,_46a,_46b,_46c){var _46d=null;var _46e=dojo.attr(_46a,"schemaValue");var _46f=false;if(_46e!=undefined&&_46e.indexOf(".")==19){_46e=_46e.substring(0,19);_46f=true;}if(_46e==undefined){_46e="";}else{_46e="T"+_46e;}var _470="HH:mm:ss";if(_46f){_470=_470+":SSS";}if(_46c.indexOf("iso8601:")!=-1){_470=_46c.substring(_46c.indexOf("iso8601:")+8);}try{_46d=new betterform.ui.input.Time({name:_469+"-value",value:new Date(_46e),miliseconds:_46f,constraints:{timePattern:_470},title:dojo.attr(_46a,"title"),xfControlId:_469},_46a);}catch(ex){alert(ex);}},createInputBooleanWidget:function $DBqp_(_471,_472,_473,_474){var _475=_472.innerHTML;if(_475=="false"){_475=undefined;}return new betterform.ui.input.Boolean({name:_471+"-value",checked:_475,"class":_473,title:dojo.attr(_472,"title"),xfControlId:_471},_472);},createInputTextWidget:function $DBqq_(_476,_477,_478,_479){var _47a=_477.innerHTML;return new betterform.ui.input.TextField({name:_476+"-value",value:_47a,"class":_478,title:dojo.attr(_477,"title"),xfControlId:_476},_477);}});}if(!dojo._hasResource["betterform.ui.factory.OutputElementFactory"]){dojo._hasResource["betterform.ui.factory.OutputElementFactory"]=true;dojo.provide("betterform.ui.factory.OutputElementFactory");dojo.declare("betterform.ui.factory.OutputElementFactory",null,{createOutputWidget:function $DBqr_(_47b,_47c,_47d,_47e,_47f,_480){var _481=_47b.innerHTML;var _482=_47d;if(_47f!=undefined&&(_47f.indexOf("ca")!=-1||_47f.indexOf("bf")!=-1)){if(_47f=="caLink"){_482="anyURI";}else{if(_47f=="caSourceCode"){_482="sourcecode";}else{_482=_47f;}}}switch(_482.toLowerCase()){case "anyuri":if(_47e==undefined||_47e=="controlValue"||_47e=="text"){return this.createOutputLinkWidget(_47c,_47b,_480,_481);}else{if(_47e.indexOf("image/")>-1){return this.createOutputImageWidget(_47c,_47b,_480,_481);}else{if(_47e=="text/html"){return this.createOutputHTMLWidget(_47c,_47b,_480,_481);}else{return null;}}}break;case "sourcecode":return new betterform.ui.output.SourceCode({name:_47c+"-value",value:_481,"class":_480,title:dojo.attr(_47b,"title"),xfControlId:_47c},_47b);break;case "bfinputlook":return new betterform.ui.output.InputLook({name:_47c+"-value",value:_481,"class":_480,title:dojo.attr(_47b,"title"),xfControlId:_47c},_47b);break;default:if(_47e==undefined||_47e=="controlValue"||_47e=="text"){return this.createOutputPlainWidget(_47c,_47b,_480,_481);}else{if(_47e=="text/html"){return this.createOutputHTMLWidget(_47c,_47b,_480,_481);}else{if(_47e.indexOf("image/")>-1){return this.createOutputImageWidget(_47c,_47b,_480,_481);}else{return this.createOutputPlainWidget(_47c,_47b,_480,_481);}}}break;}},createOutputLinkWidget:function $DBqs_(_483,_484,_485,_486){return new betterform.ui.output.Link({name:_483+"-value",href:_486,"class":_485,title:dojo.attr(_484,"title"),xfControlId:_483},_484);},createOutputImageWidget:function $DBqt_(_487,_488,_489,_48a){return new betterform.ui.output.Image({name:_487+"-value",src:_48a,"class":_489,title:dojo.attr(_488,"title"),xfControlId:_487},_488);},createOutputHTMLWidget:function $DBqu_(_48b,_48c,_48d,_48e){return betterform.ui.output.Html({name:_48b+"-value",value:_48e,"class":_48d,title:dojo.attr(_48c,"title"),xfControlId:_48b},_48c);},createOutputPlainWidget:function $DBqv_(_48f,_490,_491,_492){return new betterform.ui.output.Plain({name:_48f+"-value",value:_492,"class":_491,title:dojo.attr(_490,"title"),xfControlId:_48f},_490);}});}if(!dojo._hasResource["betterform.ui.factory.RangeElementFactory"]){dojo._hasResource["betterform.ui.factory.RangeElementFactory"]=true;dojo.provide("betterform.ui.factory.RangeElementFactory");dojo.declare("betterform.ui.factory.RangeElementFactory",null,{createRangeWidget:function $DBqe_(_493,_494,_495,_496){if(_496=="bf:rating"){return this.createRangeRatingWidget(_494,_493,_495);}else{return this.createRangeSliderWidget(_494,_493,_495);}},createRangeRatingWidget:function $DBqf_(_497,_498,_499){var _49a=parseInt(dojo.attr(_498,"value"),"10");var end=10;if(dojo.attr(_498,"end")!=""){end=parseInt(dojo.attr(_498,"end"),"10");}else{if(dojo.attr(_498,"end")==""&&dojo.attr(_498,"start")!=""){end=parseInt(dojo.attr(_498,"start"),"10")+end;}}if(_49a>end){_49a=end;}return new betterform.ui.range.Rating({name:_497+"-value",value:_49a,"class":_499,title:dojo.attr(_498,"title"),xfControlId:_497,numStars:end},_498);},createRangeSliderWidget:function $DBqg_(_49b,_49c,_49d){var _49e=dojo.attr(_49c,"value");if(_49e==""){_49e=0;}else{_49e=parseInt(_49e,"10");}var _49f=0;var end=10;var step=1;if(dojo.attr(_49c,"start")!=""){_49f=eval(dojo.attr(_49c,"start"));}if(dojo.attr(_49c,"end")!=""){end=parseInt(dojo.attr(_49c,"end"),"10");}else{if(dojo.attr(_49c,"end")==""&&dojo.attr(_49c,"start")!=""){end=parseInt(dojo.attr(_49c,"start"),"10")+end;}}if(dojo.attr(_49c,"step")!=""){step=parseInt(dojo.attr(_49c,"step"),"10");}if(_49e>end){_49e=end;}if(_49e<_49f){_49e=_49f;}var _4a0=((end-_49f)/step)+1;var _4a1=document.createElement("div");_49c.appendChild(_4a1);var _4a2=new dijit.form.HorizontalRule({count:_4a0,container:"topDecoration",style:"height:4px;"},_4a1);var _4a3=document.createElement("div");_49c.appendChild(_4a3);var _4a4=new dijit.form.HorizontalRuleLabels({count:5,style:"height:1.2em;font-size:75%;color:gray;",labels:[_49f,end]},_4a3);var _4a5=null;_4a5=new betterform.ui.range.Slider({value:_49e,name:_49b+"-value",slideDuration:0,minimum:_49f,maximum:end,discreteValues:_4a0,intermediateChanges:"true",showButtons:"true","class":_49d,xfControlId:_49b,style:"width:200px;"},_49c);_4a5.startup();_4a2.startup();return _4a5;}});}if(!dojo._hasResource["betterform.ui.factory.SelectElementFactory"]){dojo._hasResource["betterform.ui.factory.SelectElementFactory"]=true;dojo.provide("betterform.ui.factory.SelectElementFactory");dojo.declare("betterform.ui.factory.SelectElementFactory",null,{createSelectMultipleWidget:function $DBqc_(_4a6,_4a7,_4a8,_4a9){if(_4a6=="selectCheckBoxGroup"){return new betterform.ui.select.CheckBoxGroup({name:_4a8+"-value","class":_4a9,title:dojo.attr(_4a7,"title"),xfControlId:_4a8},_4a7);}else{if(_4a6=="checkBoxEntry"){return new betterform.ui.select.CheckBox({name:_4a8+"-value","class":_4a9,title:dojo.attr(_4a7,"title"),xfControlId:_4a8},_4a7);}else{return new betterform.ui.select.MultiSelect({name:_4a8+"-value",size:dojo.attr(_4a7,"size"),multiple:true,"class":_4a9,title:dojo.attr(_4a7,"title"),xfControlId:_4a8},_4a7);}}},createSelectSingleWidget:function $DBqd_(_4aa,_4ab,_4ac,_4ad){switch(_4aa){case "select1":case "select1ComboBox":return new betterform.ui.select1.ComboBox({name:_4ac+"-value",value:"","class":_4ad,title:dojo.attr(_4ab,"title"),xfControlId:_4ac},_4ab);break;case "select1ComboBoxOpen":return new betterform.ui.select1.ComboBoxOpen({autoComplete:true,selectOnClick:true,name:_4ac+"-value",size:dojo.attr(_4ab,"size"),multiple:true,"class":_4ad,title:dojo.attr(_4ab,"title"),xfControlId:_4ac,dropDownClass:"betterform.ui.select1._ComboBoxMenu"},_4ab);break;case "select1List":return new betterform.ui.select1.Plain({name:_4ac+"-value",size:dojo.attr(_4ab,"size"),"class":_4ad,title:dojo.attr(_4ab,"title"),xfControlId:_4ac},_4ab);break;case "select1RadioButton":return new betterform.ui.select1.RadioGroup({name:_4ac+"-value","class":_4ad,title:dojo.attr(_4ab,"title"),xfControlId:_4ac},_4ab);break;case "radio":var _4ae=_4ab.name;var _4af=_4ab.value;var _4b0=new betterform.ui.select1.RadioButton({"class":_4ad,name:_4ae,value:_4af,title:dojo.attr(_4ab,"title"),xfControlId:_4ac},_4ab);_4b0.startup();return _4b0;break;default:undefined;}}});}if(!dojo._hasResource["betterform.ui.factory.UIElementFactoryImpl"]){dojo._hasResource["betterform.ui.factory.UIElementFactoryImpl"]=true;dojo.provide("betterform.ui.factory.UIElementFactoryImpl");dojo.declare("betterform.ui.factory.UIElementFactoryImpl",null,{outputFactory:null,constructor:function $DBqw_(){this.outputFactory=new betterform.ui.factory.OutputElementFactory();this.inputFactory=new betterform.ui.factory.InputElementFactory();this.rangeFactory=new betterform.ui.factory.RangeElementFactory();this.selectFactory=new betterform.ui.factory.SelectElementFactory();},createWidget:function $DBqx_(_4b1,_4b2){var _4b3=dojo.attr(_4b1,"controlType");var _4b4=dojo.attr(_4b1,"dataType");_4b4=betterform.ui.util.removeNamespace(_4b4);var _4b5=dojo.attr(_4b1,"class");if(_4b5==undefined){_4b5="xfValue";}else{if(_4b5.indexOf("xfValue")==-1){_4b5="xfValue "+_4b5;}}var _4b6=undefined;if(_4b3==undefined){return _4b1;}var _4b7=dojo.attr(_4b1,"mediatype");var _4b8=dojo.attr(_4b1,"appearance");switch(_4b3){case "input":_4b6=this.inputFactory.createInputWidget(_4b1,_4b2,_4b4,_4b7,_4b8,_4b5);break;case "output":_4b6=this.outputFactory.createOutputWidget(_4b1,_4b2,_4b4,_4b7,_4b8,_4b5);break;case "range":_4b6=this.rangeFactory.createRangeWidget(_4b1,_4b2,_4b5,_4b8);break;case "secret":_4b6=this.createSecretWidget(_4b1,_4b2,_4b5);break;case "selectCheckBoxGroup":case "selectList":case "checkBoxEntry":return this.selectFactory.createSelectMultipleWidget(_4b3,_4b1,_4b2,_4b5);break;case "select1":case "select1ComboBox":case "select1ComboBoxOpen":case "select1List":case "select1RadioButton":case "radio":return this.selectFactory.createSelectSingleWidget(_4b3,_4b1,_4b2,_4b5);break;case "textarea":return this.createTextareaWidget(_4b1,_4b2,_4b7,_4b8,_4b5);break;case "minimalTrigger":case "trigger":return this.createTriggerWidget(_4b1,_4b2,_4b8,_4b5);break;case "submit":undefined;break;case "upload":return this.createUploadWidget(_4b1,_4b2,_4b4,_4b5);break;case "dialog":_4b6=new betterform.ui.container.Dialog({"class":_4b5,name:dojo.attr(_4b1,"name"),value:dojo.attr(_4b1,"value"),title:dojo.attr(_4b1,"title"),xfControlId:_4b2},_4b1);break;default:undefined;break;}return _4b6;},createUploadWidget:function $DBqy_(_4b9,_4ba,_4bb,_4bc){if(_4bb=="base64"||_4bb=="base64Binary"||_4bb=="hexBinary"||_4bb=="anyURI"){return new betterform.ui.upload.UploadPlain({"class":_4bc,title:dojo.attr(_4b9,"title"),xfControlId:_4ba},_4b9);}else{console.error("Upload ("+_4ba+"): unsupported datatype: ",_4bb);return null;}},createTriggerWidget:function $DBqz_(_4bd,_4be,_4bf,_4c0){if(_4bf=="minimal"){return new betterform.ui.trigger.LinkButton({id:dojo.attr(_4bd,"id"),name:dojo.attr(_4bd,"name")+"-value",label:dojo.attr(_4bd,"label"),"class":_4c0,title:dojo.attr(_4bd,"title"),xfControlId:_4be},_4bd);}else{if(_4bf=="imageTrigger"){return new betterform.ui.trigger.ImageButton({id:dojo.attr(_4bd,"id"),name:dojo.attr(_4bd,"name")+"-value",label:dojo.attr(_4bd,"label"),"class":_4c0,title:dojo.attr(_4bd,"title"),xfControlId:_4be},_4bd);}else{return new betterform.ui.trigger.Button({id:dojo.attr(_4bd,"id"),name:dojo.attr(_4bd,"name")+"-value",label:dojo.attr(_4bd,"label"),"class":_4c0,title:dojo.attr(_4bd,"title"),xfControlId:_4be},_4bd);}}},createTextareaWidget:function $DBq0_(_4c1,_4c2,_4c3,_4c4,_4c5){if(_4c3&&_4c3.toLowerCase()=="text/html"){if(!dojo.hasClass(_4c1,"xfTextareaHTMLValue")){dojo.addClass(_4c1,"");}return new betterform.ui.textarea.HtmlEditor({name:_4c2+"-value","class":_4c5,title:dojo.attr(_4c1,"title"),xfControlId:_4c2,height:"100%",extraPlugins:[]},_4c1);}else{if(_4c4&&_4c4.toLowerCase()=="growing"){if(!dojo.hasClass(_4c1,"xfTextareaGrowingValue")){dojo.addClass(_4c1,"");}return new betterform.ui.textarea.DojoEditor({name:_4c2+"-value","class":_4c5,rows:5,cols:30,title:dojo.attr(_4c1,"title"),xfControlId:_4c2},_4c1);}else{if(!dojo.hasClass(_4c1,"xfTextareaValue")){dojo.addClass(_4c1,"");}return new betterform.ui.textarea.SimpleTextarea({name:_4c2+"-value","class":_4c5,title:dojo.attr(_4c1,"title"),xfControlId:_4c2},_4c1);}}},createSecretWidget:function $DBq1_(_4c6,_4c7,_4c8){var _4c9=_4c6.innerHTML;return new betterform.ui.secret.Secret({name:_4c7+"-value",value:_4c9,"class":_4c8,title:dojo.attr(_4c6,"title"),xfControlId:_4c7},_4c6);}});}if(!dojo._hasResource["betterform.ui.UIElementFactory"]){dojo._hasResource["betterform.ui.UIElementFactory"]=true;dojo.provide("betterform.ui.UIElementFactory");dojo.declare("betterform.ui.UIElementFactory",null,{factoryImpl:null,constructor:function $DBlv_(){this.factoryImpl=new betterform.ui.factory.UIElementFactoryImpl();},createWidget:function $DBlw_(_4ca,_4cb){return this.factoryImpl.createWidget(_4ca,_4cb);}});}if(!dojo._hasResource["betterform.ui.common.InlineRoundBordersAlert"]){dojo._hasResource["betterform.ui.common.InlineRoundBordersAlert"]=true;dojo.provide("betterform.ui.common.InlineRoundBordersAlert");dojo.declare("betterform.ui.common.InlineRoundBordersAlert",betterform.ui.common.InlineAlert,{_show:function $DBj7_(id,_4cc){var _4cd=dojo.byId(id+"-"+_4cc);if(_4cd==undefined){return;}this._render(id,_4cc,"block");},_hide:function $DBj8_(id,_4ce){var _4cf=dojo.byId(id+"-"+_4ce);if(_4cf==undefined){return;}this._render(id,_4ce,"none");},_displayAlert:function $DBj9_(id){this._handleBorders(id,this.alert);this.inherited(arguments);},_displayHint:function $DBkA_(id){this._handleBorders(id,this.hint);this.inherited(arguments);},_displayInfo:function $DBkB_(id){this._handleBorders(id,this.info);this.inherited(arguments);},_displayNone:function $DBkC_(id){this._handleBorders(id,this.none);this.inherited(arguments);},_handleBorders:function $DBkD_(id,_4d0){if(_4d0==this.info||_4d0==this.hint||_4d0==this.alert){this._angularBorders(id,_4d0);}else{this._roundBorders(id,_4d0);}},_roundBorders:function $DBkE_(id,_4d1){var _4d2=dijit.byId(id+"-value");if(_4d2!=undefined){dojo.style(_4d2.domNode,"MozBorderRadiusTopright","8px");dojo.style(_4d2.domNode,"MozBorderRadiusBottomright","8px");dojo.style(_4d2.domNode,"WebkitBorderTopRightRadius","8px");dojo.style(_4d2.domNode,"WebkitBorderBottomRightRadius","8px");}},_angularBorders:function $DBkF_(id,_4d3){var _4d4=dijit.byId(id+"-value");if(_4d4!=undefined){dojo.style(_4d4.domNode,"MozBorderRadiusTopright","0px");dojo.style(_4d4.domNode,"MozBorderRadiusBottomright","0px");dojo.style(_4d4.domNode,"WebkitBorderTopRightRadius","0px");dojo.style(_4d4.domNode,"WebkitBorderBottomRightRadius","0px");}else{this._roundBorders(_4d3);}}});}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:dojo.cache("dijit.form","templates/CheckBox.html","<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onclick:_onClick\"\n/></div>\n"),baseClass:"dijitCheckBox",type:"checkbox",value:"on",readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{readOnly:"focusNode"}),_setReadOnlyAttr:function $DF7_(_4d5){this._set("readOnly",_4d5);dojo.attr(this.focusNode,"readOnly",_4d5);dijit.setWaiState(this.focusNode,"readonly",_4d5);},_setValueAttr:function $DF8_(_4d6,_4d7){if(typeof _4d6=="string"){this._set("value",_4d6);dojo.attr(this.focusNode,"value",_4d6);_4d6=true;}if(this._created){this.set("checked",_4d6,_4d7);}},_getValueAttr:function $DF9_(){return (this.checked?this.value:false);},_setLabelAttr:undefined,postMixInProperties:function $DGA_(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function $DGB_(_4d8){},reset:function $DGC_(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);this._set("value",this.params.value||"on");dojo.attr(this.focusNode,"value",this.value);},_onFocus:function $DGD_(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function $DGE_(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);},_onClick:function $DGF_(e){if(this.readOnly){dojo.stopEvent(e);return false;}return this.inherited(arguments);}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function $DGG_(_4d9){this.inherited(arguments);if(!this._created){return;}if(_4d9){var _4da=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_4db){if(_4db.name==_4da.name&&_4db!=_4da.focusNode&&_4db.form==_4da.focusNode.form){var _4dc=dijit.getEnclosingWidget(_4db);if(_4dc&&_4dc.checked){_4dc.set("checked",false);}}});}},_clicked:function $DGH_(e){if(!this.checked){this.set("checked",true);}}});}if(!dojo._hasResource["betterform.ui.input.Boolean"]){dojo._hasResource["betterform.ui.input.Boolean"]=true;dojo.provide("betterform.ui.input.Boolean");dojo.declare("betterform.ui.input.Boolean",[betterform.ui.ControlValue,dijit.form.CheckBox],{postMixInProperties:function $DBpl_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBpm_(){this.inherited(arguments);this.setCurrentValue();},onClick:function $DBpn_(){this.inherited(arguments);this.setControlValue();},_onFocus:function $DBpo_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBpp_(){this.inherited(arguments);this.handleOnBlur();},_handleSetControlValue:function $DBpq_(_4dd){if(_4dd=="true"||_4dd=="false"){this.set("checked",eval(_4dd));}},getControlValue:function $DBpr_(){var _4de=this.get("checked");var _4df;if(_4de=="true"||_4de==true){_4df=true;}else{if(_4de=="false"||_4de==false){_4df=false;}}if(_4df==undefined){var _4e0=this.get("value");if(_4e0=="true"||_4e0==true){_4df=true;}else{if(_4e0=="false"||_4e0==false){_4df=false;}}}if(_4df!=undefined&&_4df){return true;}else{return false;}},setTextValue:function $DBps_(_4e1){this.xfControl.setControlValue(this.checked);},getTextValue:function $DBpt_(){return this.checked;}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function $DBU_(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function $DBV_(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function $DBW_(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function $DBX_(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function $DBY_(_4e2,_4e3,_4e4){var _4e5;if(_4e2!==undefined){_4e5=this.filter(_4e2);if(typeof _4e4!="string"){if(_4e5!==null&&((typeof _4e5!="number")||!isNaN(_4e5))){_4e4=this.filter(this.format(_4e5,this.constraints));}else{_4e4="";}}}if(_4e4!=null&&_4e4!=undefined&&((typeof _4e4)!="number"||!isNaN(_4e4))&&this.textbox.value!=_4e4){this.textbox.value=_4e4;this._set("displayedValue",this.get("displayedValue"));}this._updatePlaceHolder();this.inherited(arguments,[_4e5,_4e3]);},displayedValue:"",getDisplayedValue:function $DBZ_(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function $DBa_(){return this.filter(this.textbox.value);},setDisplayedValue:function $DBb_(_4e6){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_4e6);},_setDisplayedValueAttr:function $DBc_(_4e7){if(_4e7===null||_4e7===undefined){_4e7="";}else{if(typeof _4e7!="string"){_4e7=String(_4e7);}}this.textbox.value=_4e7;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function $DBd_(_4e8,_4e9){return ((_4e8==null||_4e8==undefined)?"":(_4e8.toString?_4e8.toString():_4e8));},parse:function $DBe_(_4ea,_4eb){return _4ea;},_refreshState:function $DBf_(){},_onInput:function $DBg_(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _4ec=this;setTimeout(function(){_4ec._handleOnChange(_4ec.get("value"),false);},0);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function $DBh_(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _4ed=this.domNode.getElementsByTagName("INPUT");if(_4ed){for(var i=0;i<_4ed.length;i++){_4ed[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput","_onInput");}else{this.connect(this.textbox,"onkeydown","_onInput");this.connect(this.textbox,"onkeyup","_onInput");this.connect(this.textbox,"onpaste","_onInput");this.connect(this.textbox,"oncut","_onInput");}},_blankValue:"",filter:function $DBi_(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function $DBj_(){this._setValueAttr(this.get("value"),true);},_onBlur:function $DBk_(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function $DBl_(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _4ee;if(dojo.isIE){var _4ef=dojo.doc.selection.createRange();var _4f0=_4ef.parentElement();_4ee=_4f0==this.textbox&&_4ef.text.length==0;}else{_4ee=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_4ee){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this.inherited(arguments);this._refreshState();},reset:function $DBm_(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function $DBn_(_4f1,_4f2,stop){var _4f3=dojo.global;var _4f4=dojo.doc;_4f1=dojo.byId(_4f1);if(isNaN(_4f2)){_4f2=0;}if(isNaN(stop)){stop=_4f1.value?_4f1.value.length:0;}dijit.focus(_4f1);if(_4f4["selection"]&&dojo.body()["createTextRange"]){if(_4f1.createTextRange){var r=_4f1.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_4f2);r.moveEnd("character",stop-_4f2);r.select();}}else{if(_4f3["getSelection"]){if(_4f1.setSelectionRange){_4f1.setSelectionRange(_4f2,stop);}}}};}if(!dojo._hasResource["dojox.html.entities"]){dojo._hasResource["dojox.html.entities"]=true;dojo.provide("dojox.html.entities");(function(){var _4f5=function(str,map){var _4f6,_4f7;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_4f6=map._encCache.mapper;_4f7=map._encCache.regexp;}else{_4f6={};_4f7=["["];var i;for(i=0;i<map.length;i++){_4f6[map[i][0]]="&"+map[i][1]+";";_4f7.push(map[i][0]);}_4f7.push("]");_4f7=new RegExp(_4f7.join(""),"g");map._encCache={mapper:_4f6,regexp:_4f7,length:map.length};}str=str.replace(_4f7,function(c){return _4f6[c];});return str;};var _4f8=function(str,map){var _4f9,_4fa;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_4f9=map._decCache.mapper;_4fa=map._decCache.regexp;}else{_4f9={};_4fa=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_4fa.push("|");}_4f9[e]=map[i][0];_4fa.push(e);}_4fa.push(")");_4fa=new RegExp(_4fa.join(""),"g");map._decCache={mapper:_4f9,regexp:_4fa,length:map.length};}str=str.replace(_4fa,function(c){return _4f9[c];});return str;};dojox.html.entities.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];dojox.html.entities.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","Elig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];dojox.html.entities.encode=function $DAqB_(str,m){if(str){if(!m){str=_4f5(str,dojox.html.entities.html);str=_4f5(str,dojox.html.entities.latin);}else{str=_4f5(str,m);}}return str;};dojox.html.entities.decode=function $DAqC_(str,m){if(str){if(!m){str=_4f8(str,dojox.html.entities.html);str=_4f8(str,dojox.html.entities.latin);}else{str=_4f8(str,m);}}return str;};})();}if(!dojo._hasResource["betterform.ui.input.TextField"]){dojo._hasResource["betterform.ui.input.TextField"]=true;dojo.provide("betterform.ui.input.TextField");dojo.declare("betterform.ui.input.TextField",[betterform.ui.ControlValue,dijit.form.TextBox],{intermediateChanges:true,delay:300,postMixInProperties:function $DBp4_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"delay")!=undefined&&dojo.attr(this.srcNodeRef,"delay")!=""){this.delay=eval(dojo.attr(this.srcNodeRef,"delay"));}},postCreate:function $DBp5_(){this.inherited(arguments);this.setCurrentValue();var _4fb=this;dojo.connect(this.domNode,"onkeypress",function(evt){if(evt.keyCode){switch(evt.keyCode){case dojo.keys.ENTER:_4fb.setControlValue();fluxProcessor.dispatchEvent(_4fb.xfControlId);}}});this._handleSetControlValue(dojox.html.entities.decode(this._getValueAttr()));},_onFocus:function $DBp6_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBp7_(){this.inherited(arguments);this.handleOnBlur();},_delayTimer:undefined,onChange:function $DBp8_(_4fc,_4fd){if(this.incremental){if(this.delay>0){if(this._delayTimer!=undefined){clearTimeout(this._delayTimer);}this._delayTimer=setTimeout(dojo.hitch(this,"setControlValueDelayed"),this.delay);}else{this.setControlValue();}}},setControlValueDelayed:function $DBp9_(){this.setControlValue();},getControlValue:function $DBqA_(){return this._getValueAttr();},_handleSetControlValue:function $DBqB_(_4fe){this.focusNode.value=_4fe;this.set("displayedValue",_4fe);},setTextValue:function $DBqC_(_4ff){this.setControlValue(this.getControlValue());},getTextValue:function $DBqD_(){return this.getControlValue();}});}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.getObject("cldr.supplemental",true,dojo);dojo.cldr.supplemental.getFirstDayOfWeek=function $DCED_(_500){var _501={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};var _502=dojo.cldr.supplemental._region(_500);var dow=_501[_502];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function $DCEE_(_503){_503=dojo.i18n.normalizeLocale(_503);var tags=_503.split("-");var _504=tags[1];if(!_504){_504={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_504.length==4){_504=tags[2];}}return _504;};dojo.cldr.supplemental.getWeekend=function $DCEF_(_505){var _506={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5};var _507={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6};var _508=dojo.cldr.supplemental._region(_505);var _509=_506[_508];var end=_507[_508];if(_509===undefined){_509=6;}if(end===undefined){end=0;}return {start:_509,end:end};};}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.getObject("date",true,dojo);dojo.date.getDaysInMonth=function $DCET_(_50a){var _50b=_50a.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_50b==1&&dojo.date.isLeapYear(_50a)){return 29;}return days[_50b];};dojo.date.isLeapYear=function $DCEU_(_50c){var year=_50c.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function $DCEV_(_50d){var str=_50d.toString();var tz="";var _50e;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_50e=str.match(pat))){tz=_50e[1];}else{str=_50d.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_50e=str.match(pat))){tz=_50e[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function $DCEW_(_50f,_510,_511){_50f=new Date(+_50f);_510=new Date(+(_510||new Date()));if(_511=="date"){_50f.setHours(0,0,0,0);_510.setHours(0,0,0,0);}else{if(_511=="time"){_50f.setFullYear(0,0,0);_510.setFullYear(0,0,0);}}if(_50f>_510){return 1;}if(_50f<_510){return -1;}return 0;};dojo.date.add=function $DCEX_(date,_512,_513){var sum=new Date(+date);var _514=false;var _515="Date";switch(_512){case "day":break;case "weekday":var days,_516;var mod=_513%5;if(!mod){days=(_513>0)?5:-5;_516=(_513>0)?((_513-5)/5):((_513+5)/5);}else{days=mod;_516=parseInt(_513/5);}var strt=date.getDay();var adj=0;if(strt==6&&_513>0){adj=1;}else{if(strt==0&&_513<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_513>0)?2:-2;}_513=(7*_516)+days+adj;break;case "year":_515="FullYear";_514=true;break;case "week":_513*=7;break;case "quarter":_513*=3;case "month":_514=true;_515="Month";break;default:_515="UTC"+_512.charAt(0).toUpperCase()+_512.substring(1)+"s";}if(_515){sum["set"+_515](sum["get"+_515]()+_513);}if(_514&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function $DCEY_(_517,_518,_519){_518=_518||new Date();_519=_519||"day";var _51a=_518.getFullYear()-_517.getFullYear();var _51b=1;switch(_519){case "quarter":var m1=_517.getMonth();var m2=_518.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_51a*4);_51b=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_517,_518,"day"));var _51c=parseInt(dojo.date.difference(_517,_518,"week"));var mod=days%7;if(mod==0){days=_51c*5;}else{var adj=0;var aDay=_517.getDay();var bDay=_518.getDay();_51c=parseInt(days/7);mod=days%7;var _51d=new Date(_517);_51d.setDate(_51d.getDate()+(_51c*7));var _51e=_51d.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_51e+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_51e+mod)<0:adj=2;}}}days+=adj;days-=(_51c*2);}_51b=days;break;case "year":_51b=_51a;break;case "month":_51b=(_518.getMonth()-_517.getMonth())+(_51a*12);break;case "week":_51b=parseInt(dojo.date.difference(_517,_518,"day")/7);break;case "day":_51b/=24;case "hour":_51b/=60;case "minute":_51b/=60;case "second":_51b/=1000;case "millisecond":_51b*=_518.getTime()-_517.getTime();}return Math.round(_51b);};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.getObject("regexp",true,dojo);dojo.regexp.escapeString=function $DCDH_(str,_51f){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_51f&&_51f.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function $DCDI_(arr,re,_520){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_520);};dojo.regexp.group=function $DCDJ_(_521,_522){return "("+(_522?"?:":"")+_521+")";};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");dojo.getObject("date.locale",true,dojo);(function(){function _523(_524,_525,_526,_527){return _527.replace(/([a-z])\1*/ig,function(_528){var s,pad,c=_528.charAt(0),l=_528.length,_529=["abbr","wide","narrow"];switch(c){case "G":s=_525[(l<4)?"eraAbbr":"eraNames"][_524.getFullYear()<0?0:1];break;case "y":s=_524.getFullYear();switch(l){case 1:break;case 2:if(!_526.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_524.getMonth()+1)/3);pad=true;break;case "M":var m=_524.getMonth();if(l<3){s=m+1;pad=true;}else{var _52a=["months","format",_529[l-3]].join("-");s=_525[_52a][m];}break;case "w":var _52b=0;s=dojo.date.locale._getWeekOfYear(_524,_52b);pad=true;break;case "d":s=_524.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_524);pad=true;break;case "E":var d=_524.getDay();if(l<3){s=d+1;pad=true;}else{var _52c=["days","format",_529[l-3]].join("-");s=_525[_52c][d];}break;case "a":var _52d=(_524.getHours()<12)?"am":"pm";s=_526[_52d]||_525["dayPeriods-format-wide-"+_52d];break;case "h":case "H":case "K":case "k":var h=_524.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_524.getMinutes();pad=true;break;case "s":s=_524.getSeconds();pad=true;break;case "S":s=Math.round(_524.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.locale._getZone(_524,true,_526);if(s){break;}l=4;case "Z":var _52e=dojo.date.locale._getZone(_524,false,_526);var tz=[(_52e<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_52e)/60),2),dojo.string.pad(Math.abs(_52e)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_527);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale._getZone=function $DCDL_(_52f,_530,_531){if(_530){return dojo.date.getTimezoneName(_52f);}else{return _52f.getTimezoneOffset();}};dojo.date.locale.format=function $DCDM_(_532,_533){_533=_533||{};var _534=dojo.i18n.normalizeLocale(_533.locale),_535=_533.formatLength||"short",_536=dojo.date.locale._getGregorianBundle(_534),str=[],_537=dojo.hitch(this,_523,_532,_536,_533);if(_533.selector=="year"){return _538(_536["dateFormatItem-yyyy"]||"yyyy",_537);}var _539;if(_533.selector!="date"){_539=_533.timePattern||_536["timeFormat-"+_535];if(_539){str.push(_538(_539,_537));}}if(_533.selector!="time"){_539=_533.datePattern||_536["dateFormat-"+_535];if(_539){str.push(_538(_539,_537));}}return str.length==1?str[0]:_536["dateTimeFormat-"+_535].replace(/\{(\d+)\}/g,function(_53a,key){return str[key];});};dojo.date.locale.regexp=function $DCDN_(_53b){return dojo.date.locale._parseInfo(_53b).regexp;};dojo.date.locale._parseInfo=function $DCDO_(_53c){_53c=_53c||{};var _53d=dojo.i18n.normalizeLocale(_53c.locale),_53e=dojo.date.locale._getGregorianBundle(_53d),_53f=_53c.formatLength||"short",_540=_53c.datePattern||_53e["dateFormat-"+_53f],_541=_53c.timePattern||_53e["timeFormat-"+_53f],_542;if(_53c.selector=="date"){_542=_540;}else{if(_53c.selector=="time"){_542=_541;}else{_542=_53e["dateTimeFormat-"+_53f].replace(/\{(\d+)\}/g,function(_543,key){return [_541,_540][key];});}}var _544=[],re=_538(_542,dojo.hitch(this,_545,_544,_53e,_53c));return {regexp:re,tokens:_544,bundle:_53e};};dojo.date.locale.parse=function $DCDP_(_546,_547){var _548=/[\u200E\u200F\u202A\u202E]/g,info=dojo.date.locale._parseInfo(_547),_549=info.tokens,_54a=info.bundle,re=new RegExp("^"+info.regexp.replace(_548,"")+"$",info.strict?"":"i"),_54b=re.exec(_546&&_546.replace(_548,""));if(!_54b){return null;}var _54c=["abbr","wide","narrow"],_54d=[1970,0,1,0,0,0,0],amPm="",_54e=dojo.every(_54b,function(v,i){if(!i){return true;}var _54f=_549[i-1];var l=_54f.length;switch(_54f.charAt(0)){case "y":if(l!=2&&_547.strict){_54d[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_550=year.substring(0,2)*100,_551=Math.min(Number(year.substring(2,4))+20,99),num=(v<_551)?_550+v:_550-100+v;_54d[0]=num;}else{if(_547.strict){return false;}_54d[0]=v;}}break;case "M":if(l>2){var _552=_54a["months-format-"+_54c[l-3]].concat();if(!_547.strict){v=v.replace(".","").toLowerCase();_552=dojo.map(_552,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_552,v);if(v==-1){return false;}}else{v--;}_54d[1]=v;break;case "E":case "e":var days=_54a["days-format-"+_54c[l-3]].concat();if(!_547.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_54d[1]=0;case "d":_54d[2]=v;break;case "a":var am=_547.am||_54a["dayPeriods-format-wide-am"],pm=_547.pm||_54a["dayPeriods-format-wide-pm"];if(!_547.strict){var _553=/\./g;v=v.replace(_553,"").toLowerCase();am=am.replace(_553,"").toLowerCase();pm=pm.replace(_553,"").toLowerCase();}if(_547.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_54d[3]=v;break;case "m":_54d[4]=v;break;case "s":_54d[5]=v;break;case "S":_54d[6]=v;}return true;});var _554=+_54d[3];if(amPm==="p"&&_554<12){_54d[3]=_554+12;}else{if(amPm==="a"&&_554==12){_54d[3]=0;}}var _555=new Date(_54d[0],_54d[1],_54d[2],_54d[3],_54d[4],_54d[5],_54d[6]);if(_547.strict){_555.setFullYear(_54d[0]);}var _556=_549.join(""),_557=_556.indexOf("d")!=-1,_558=_556.indexOf("M")!=-1;if(!_54e||(_558&&_555.getMonth()>_54d[1])||(_557&&_555.getDate()>_54d[2])){return null;}if((_558&&_555.getMonth()<_54d[1])||(_557&&_555.getDate()<_54d[2])){_555=dojo.date.add(_555,"hour",1);}return _555;};function _538(_559,_55a,_55b,_55c){var _55d=function(x){return x;};_55a=_55a||_55d;_55b=_55b||_55d;_55c=_55c||_55d;var _55e=_559.match(/(''|[^'])+/g),_55f=_559.charAt(0)=="'";dojo.forEach(_55e,function(_560,i){if(!_560){_55e[i]="";}else{_55e[i]=(_55f?_55b:_55a)(_560.replace(/''/g,"'"));_55f=!_55f;}});return _55c(_55e.join(""));};function _545(_561,_562,_563,_564){_564=dojo.regexp.escapeString(_564);if(!_563.strict){_564=_564.replace(" a"," ?a");}return _564.replace(/([a-z])\1*/ig,function(_565){var s,c=_565.charAt(0),l=_565.length,p2="",p3="";if(_563.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p3+"[1-9][0-9]|"+p2+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":s="\\S+";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_563.am||_562["dayPeriods-format-wide-am"],pm=_563.pm||_562["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_563.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_561){_561.push(_565);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _566=[];dojo.date.locale.addCustomFormats=function $DCDQ_(_567,_568){_566.push({pkg:_567,name:_568});};dojo.date.locale._getGregorianBundle=function $DCDR_(_569){var _56a={};dojo.forEach(_566,function(desc){var _56b=dojo.i18n.getLocalization(desc.pkg,desc.name,_569);_56a=dojo.mixin(_56a,_56b);},this);return _56a;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function $DCDS_(item,type,_56c,_56d){var _56e,_56f=dojo.date.locale._getGregorianBundle(_56d),_570=[item,_56c,type];if(_56c=="standAlone"){var key=_570.join("-");_56e=_56f[key];if(_56e[0]==1){_56e=undefined;}}_570[1]="format";return (_56e||_56f[_570.join("-")]).concat();};dojo.date.locale.isWeekend=function $DCDT_(_571,_572){var _573=dojo.cldr.supplemental.getWeekend(_572),day=(_571||new Date()).getDay();if(_573.end<_573.start){_573.end+=7;if(day<_573.start){day+=7;}}return day>=_573.start&&day<=_573.end;};dojo.date.locale._getDayOfYear=function $DCDU_(_574){return dojo.date.difference(new Date(_574.getFullYear(),0,1,_574.getHours()),_574)+1;};dojo.date.locale._getWeekOfYear=function $DCDV_(_575,_576){if(arguments.length==1){_576=0;}var _577=new Date(_575.getFullYear(),0,1).getDay(),adj=(_577-_576+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_575)+adj-1)/7);if(_577==_576){week++;}return week;};}if(!dojo._hasResource["dijit.form.DropDownButton"]){dojo._hasResource["dijit.form.DropDownButton"]=true;dojo.provide("dijit.form.DropDownButton");}if(!dojo._hasResource["dijit.Calendar"]){dojo._hasResource["dijit.Calendar"]=true;dojo.provide("dijit.Calendar");dojo.declare("dijit.Calendar",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Calendar.html","<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" dojoAttachEvent=\"onkeypress: _onKeyPress\" aria-labelledby=\"${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoType=\"dijit.form.DropDownButton\" dojoAttachPoint=\"monthDropDownButton\"\n\t\t\t\t\tid=\"${id}_mddb\" tabIndex=\"-1\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\" role=\"gridcell\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"),widgetsInTemplate:true,value:new Date(""),datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},_isValidDate:function $DKU_(_578){return _578&&!isNaN(_578)&&typeof _578=="object"&&_578.toString()!=this.constructor.prototype.value.toString();},setValue:function $DKV_(_579){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_579);},_getValueAttr:function $DKW_(){var _57a=new this.dateClassObj(this.value);_57a.setHours(0,0,0,0);if(_57a.getDate()<this.value.getDate()){_57a=this.dateFuncObj.add(_57a,"hour",1);}return _57a;},_setValueAttr:function $DKX_(_57b,_57c){if(_57b){_57b=new this.dateClassObj(_57b);}if(this._isValidDate(_57b)){if(!this._isValidDate(this.value)||this.dateFuncObj.compare(_57b,this.value)){_57b.setHours(1,0,0,0);if(!this.isDisabledDate(_57b,this.lang)){this._set("value",_57b);this.set("currentFocus",_57b);if(_57c||typeof _57c=="undefined"){this.onChange(this.get("value"));this.onValueSelected(this.get("value"));}}}}else{this._set("value",null);this.set("currentFocus",this.currentFocus);}},_setText:function $DKY_(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(dojo.doc.createTextNode(text));},_populateGrid:function $DKZ_(){var _57d=new this.dateClassObj(this.currentFocus);_57d.setDate(1);var _57e=_57d.getDay(),_57f=this.dateFuncObj.getDaysInMonth(_57d),_580=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_57d,"month",-1)),_581=new this.dateClassObj(),_582=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_582>_57e){_582-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_583,i){i+=_582;var date=new this.dateClassObj(_57d),_584,_585="dijitCalendar",adj=0;if(i<_57e){_584=_580-_57e+i+1;adj=-1;_585+="Previous";}else{if(i>=(_57e+_57f)){_584=i-_57e-_57f+1;adj=1;_585+="Next";}else{_584=i-_57e+1;_585+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_584);if(!this.dateFuncObj.compare(date,_581,"date")){_585="dijitCalendarCurrentDate "+_585;}if(this._isSelectedDate(date,this.lang)){_585="dijitCalendarSelectedDate "+_585;}if(this.isDisabledDate(date,this.lang)){_585="dijitCalendarDisabledDate "+_585;}var _586=this.getClassForDate(date,this.lang);if(_586){_585=_586+" "+_585;}_583.className=_585+"Month dijitCalendarDateTemplate";_583.dijitDateValue=date.valueOf();dojo.attr(_583,"dijitDateValue",date.valueOf());var _587=dojo.query(".dijitCalendarDateLabel",_583)[0],text=date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate();this._setText(_587,text);},this);var _588=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_57d);this.monthDropDownButton.dropDown.set("months",_588);this.monthDropDownButton.containerNode.innerHTML=(dojo.isIE==6?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_588[_57d.getMonth()]+"</div>";var y=_57d.getFullYear()-1;var d=new this.dateClassObj();dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function $DKa_(){this.set("value",new this.dateClassObj());},constructor:function $DKb_(args){var _589=(args.datePackage&&(args.datePackage!="dojo.date"))?args.datePackage+".Date":"Date";this.dateClassObj=dojo.getObject(_589,false);this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=dojo.getObject(this.datePackage,false);this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);},postMixInProperties:function $DKc_(){if(isNaN(this.value)){delete this.value;}this.inherited(arguments);},buildRendering:function $DKd_(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);var _58a=dojo.hitch(this,function(_58b,n){var _58c=dojo.query(_58b,this.domNode)[0];for(var i=0;i<n;i++){_58c.parentNode.appendChild(_58c.cloneNode(true));}});_58a(".dijitCalendarDayLabelTemplate",6);_58a(".dijitCalendarDateTemplate",6);_58a(".dijitCalendarWeekTemplate",5);var _58d=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang);var _58e=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_58f,i){this._setText(_58f,_58d[(i+_58e)%7]);},this);var _590=new this.dateClassObj(this.currentFocus);this.monthDropDownButton.dropDown=new dijit.Calendar._MonthDropDown({id:this.id+"_mdd",onChange:dojo.hitch(this,"_onMonthSelect")});this.set("currentFocus",_590,false);var _591=this;var _592=function(_593,_594,adj){_591._connects.push(dijit.typematic.addMouseListener(_591[_593],_591,function(_595){if(_595>=0){_591._adjustDisplay(_594,adj);}},0.8,500));};_592("incrementMonth","month",1);_592("decrementMonth","month",-1);_592("nextYearLabelNode","year",1);_592("previousYearLabelNode","year",-1);},_adjustDisplay:function $DKe_(part,_596){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_596));},_setCurrentFocusAttr:function $DKf_(date,_597){var _598=this.currentFocus,_599=_598?dojo.query("[dijitDateValue="+_598.valueOf()+"]",this.domNode)[0]:null;date=new this.dateClassObj(date);date.setHours(1,0,0,0);this._set("currentFocus",date);this._populateGrid();var _59a=dojo.query("[dijitDateValue="+date.valueOf()+"]",this.domNode)[0];_59a.setAttribute("tabIndex",this.tabIndex);if(this._focused||_597){_59a.focus();}if(_599&&_599!=_59a){if(dojo.isWebKit){_599.setAttribute("tabIndex","-1");}else{_599.removeAttribute("tabIndex");}}},focus:function $DKg_(){this._setCurrentFocusAttr(this.currentFocus,true);},_onMonthSelect:function $DKh_(_59b){this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",_59b-this.currentFocus.getMonth());this._populateGrid();},_onDayClick:function $DKi_(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_onDayMouseOver:function $DKj_(evt){var node=dojo.hasClass(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function $DKk_(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(dojo.hasClass(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}dojo.removeClass(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function $DKl_(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.addClass(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function $DKm_(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.removeClass(node,"dijitCalendarActiveDate");}},handleKey:function $DKn_(evt){var dk=dojo.keys,_59c=-1,_59d,_59e=this.currentFocus;switch(evt.keyCode){case dk.RIGHT_ARROW:_59c=1;case dk.LEFT_ARROW:_59d="day";if(!this.isLeftToRight()){_59c*=-1;}break;case dk.DOWN_ARROW:_59c=1;case dk.UP_ARROW:_59d="week";break;case dk.PAGE_DOWN:_59c=1;case dk.PAGE_UP:_59d=evt.ctrlKey||evt.altKey?"year":"month";break;case dk.END:_59e=this.dateFuncObj.add(_59e,"month",1);_59d="day";case dk.HOME:_59e=new this.dateClassObj(_59e);_59e.setDate(1);break;case dk.ENTER:case dk.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_59d){_59e=this.dateFuncObj.add(_59e,_59d,_59c);}this._setCurrentFocusAttr(_59e);return false;},_onKeyPress:function $DKo_(evt){if(!this.handleKey(evt)){dojo.stopEvent(evt);}},onValueSelected:function $DKp_(date){},onChange:function $DKq_(date){},_isSelectedDate:function $DKr_(_59f,_5a0){return this._isValidDate(this.value)&&!this.dateFuncObj.compare(_59f,this.value,"date");},isDisabledDate:function $DKs_(_5a1,_5a2){},getClassForDate:function $DKt_(_5a3,_5a4){}});dojo.declare("dijit.Calendar._MonthDropDown",[dijit._Widget,dijit._Templated],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function $DKu_(_5a5){this.domNode.innerHTML=dojo.map(_5a5,function(_5a6,idx){return _5a6?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_5a6+"</div>":"";}).join("");},_onClick:function $DKv_(evt){this.onChange(dojo.attr(evt.target,"month"));},onChange:function $DKw_(_5a7){},_onMenuHover:function $DKx_(evt){dojo.toggleClass(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function $DAA_(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function $DAB_(_5a8,_5a9,_5aa,rtl){if(this.aroundNode&&this.aroundNode===_5a9){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_5a8;var pos=dijit.placeOnScreenAroundElement(this.domNode,_5a9,dijit.getPopupAroundAlignment((_5aa&&_5aa.length)?_5aa:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_5a9;},orient:function $DAC_(node,_5ab,_5ac,_5ad,_5ae){this.connectorNode.style.top="";var _5af=_5ad.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_5ab+"-"+_5ac];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _5b0=Math.min((Math.max(_5af,1)),size.w);var _5b1=_5b0<size.w;this.domNode.style.width=_5b0+"px";if(_5b1){this.containerNode.style.overflow="auto";var _5b2=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_5b2>_5b0){_5b2=_5b2+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_5b2+"px";}}if(_5ac.charAt(0)=="B"&&_5ab.charAt(0)=="B"){var mb=dojo.marginBox(node);var _5b3=this.connectorNode.offsetHeight;if(mb.h>_5ad.h){var _5b4=_5ad.h-(_5ae.h/2)-(_5b3/2);this.connectorNode.style.top=_5b4+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_5ae.h/2-_5b3/2,0),mb.h-_5b3)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_5af);},_onShow:function $DAD_(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function $DAE_(_5b5){if(this._onDeck&&this._onDeck[1]==_5b5){this._onDeck=null;}else{if(this.aroundNode===_5b5){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function $DAF_(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function $DAW_(_5b6,_5b7,_5b8,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_5b6,_5b7,_5b8,rtl);};dijit.hideTooltip=function $DAX_(_5b9){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_5b9);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function $DAG_(_5ba){dojo.forEach(this._connections||[],function(_5bb){dojo.forEach(_5bb,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_5ba)?_5ba:(_5ba?[_5ba]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_5ba);this._connectIds=ary;},addTarget:function $DAH_(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function $DAI_(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function $DAJ_(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function $DAK_(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function $DAL_(e){this._onHover(e);},_onTargetMouseLeave:function $DAM_(e){this._onUnHover(e);},_onTargetFocus:function $DAN_(e){this._focus=true;this._onHover(e);},_onTargetBlur:function $DAO_(e){this._focus=false;this._onUnHover(e);},_onHover:function $DAP_(e){if(!this._showTimer){var _5bc=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_5bc);}),this.showDelay);}},_onUnHover:function $DAQ_(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function $DAR_(_5bd){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_5bd,this.position,!this.isLeftToRight());this._connectNode=_5bd;this.onShow(_5bd,this.position);},close:function $DAS_(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function $DAT_(_5be,_5bf){},onHide:function $DAU_(){},uninitialize:function $DAV_(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function $DAY_(_5c0){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function $DAZ_(){this.inherited(arguments);this.validate(this._focused);},validator:function $DAa_(_5c1,_5c2){return (new RegExp("^(?:"+this.regExpGen(_5c2)+")"+(this.required?"":"?")+"$")).test(_5c1)&&(!this.required||!this._isEmpty(_5c1))&&(this._isEmpty(_5c1)||this.parse(_5c1,_5c2)!==undefined);},_isValidSubset:function $DAb_(){return this.textbox.value.search(this._partialre)==0;},isValid:function $DAc_(_5c3){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function $DAd_(_5c4){return (this.trim?/^\s*$/:/^$/).test(_5c4);},getErrorMessage:function $DAe_(_5c5){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function $DAf_(_5c6){return this.promptMessage;},_maskValidSubsetError:true,validate:function $DAg_(_5c7){var _5c8="";var _5c9=this.disabled||this.isValid(_5c7);if(_5c9){this._maskValidSubsetError=true;}var _5ca=this._isEmpty(this.textbox.value);var _5cb=!_5c9&&_5c7&&this._isValidSubset();this._set("state",_5c9?"":(((((!this._hasBeenBlurred||_5c7)&&_5ca)||_5cb)&&this._maskValidSubsetError)?"Incomplete":"Error"));dijit.setWaiState(this.focusNode,"invalid",_5c9?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_5c7&&_5cb;_5c8=this.getErrorMessage(_5c7);}else{if(this.state=="Incomplete"){_5c8=this.getPromptMessage(_5c7);this._maskValidSubsetError=!this._hasBeenBlurred||_5c7;}else{if(_5ca){_5c8=this.getPromptMessage(_5c7);}}}this.set("message",_5c8);return _5c9;},displayMessage:function $DAh_(_5cc){dijit.hideTooltip(this.domNode);if(_5cc&&this._focused){dijit.showTooltip(_5cc,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function $DAi_(){this.validate(this._focused);this.inherited(arguments);},constructor:function $DAj_(){this.constraints={};},_setConstraintsAttr:function $DAk_(_5cd){if(!_5cd.locale&&this.lang){_5cd.locale=this.lang;}this._set("constraints",_5cd);this._computePartialRE();},_computePartialRE:function $DAl_(){var p=this.regExpGen(this.constraints);this.regExp=p;var _5ce="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_5ce+=re;break;case ")":_5ce+="|$)";break;default:_5ce+="(?:"+re+"|$)";break;}});}try{"".search(_5ce);}catch(e){_5ce=this.regExp;}this._partialre="^(?:"+_5ce+")$";},postMixInProperties:function $DAm_(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function $DAn_(_5cf){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function $DAo_(_5d0){this._set("required",_5d0);dijit.setWaiState(this.focusNode,"required",_5d0);this._refreshState();},_setMessageAttr:function $DAp_(_5d1){this._set("message",_5d1);this.displayMessage(_5d1);},reset:function $DAq_(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function $DAr_(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function $DAs_(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function $DAt_(val,_5d2){return val.toString?val.toString():"";},toString:function $DAu_(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function $DAv_(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function $DAw_(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function $DAx_(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function $DAy_(_5d3,_5d4){return ("min" in _5d4?(this.compare(_5d3,_5d4.min)>=0):true)&&("max" in _5d4?(this.compare(_5d3,_5d4.max)<=0):true);},isInRange:function $DAz_(_5d5){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function $DA0_(){var val=this.get("value");var _5d6=false;var _5d7=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_5d6=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_5d7=(typeof max=="number")&&max>0;}return _5d6||_5d7;},_isValidSubset:function $DA1_(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function $DA2_(_5d8){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_5d8));},getErrorMessage:function $DA3_(_5d9){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_5d9)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function $DA4_(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function $DA5_(_5da){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function $DA6_(_5db,_5dc){dijit.setWaiState(this.focusNode,"valuenow",_5db);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){dojo._hasResource["dijit.form._DateTimeTextBox"]=true;dojo.provide("dijit.form._DateTimeTextBox");new Date("X");dojo.declare("dijit.form._DateTimeTextBox",[dijit.form.RangeBoundTextBox,dijit._HasDropDown],{templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),hasDownArrow:true,openOnClick:true,regExpGen:dojo.date.locale.regexp,datePackage:"dojo.date",compare:function $DA9_(val1,val2){var _5dd=this._isInvalidDate(val1);var _5de=this._isInvalidDate(val2);return _5dd?(_5de?0:-1):(_5de?1:dojo.date.compare(val1,val2,this._selector));},forceWidth:true,format:function $DBA_(_5df,_5e0){if(!_5df){return "";}return this.dateLocaleModule.format(_5df,_5e0);},"parse":function(_5e1,_5e2){return this.dateLocaleModule.parse(_5e1,_5e2)||(this._isEmpty(_5e1)?null:undefined);},serialize:function $DBB_(val,_5e3){if(val.toGregorian){val=val.toGregorian();}return dojo.date.stamp.toISOString(val,_5e3);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function $DBC_(args){var _5e4=args.datePackage?args.datePackage+".Date":"Date";this.dateClassObj=dojo.getObject(_5e4,false);this.value=new this.dateClassObj("");this.datePackage=args.datePackage||this.datePackage;this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);this.regExpGen=this.dateLocaleModule.regexp;this._invalidDate=dijit.form._DateTimeTextBox.prototype.value.toString();},buildRendering:function $DBD_(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(this.openOnClick||!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function $DBE_(_5e5){_5e5.selector=this._selector;_5e5.fullYear=true;var _5e6=dojo.date.stamp.fromISOString;if(typeof _5e5.min=="string"){_5e5.min=_5e6(_5e5.min);}if(typeof _5e5.max=="string"){_5e5.max=_5e6(_5e5.max);}this.inherited(arguments);},_isInvalidDate:function $DBF_(_5e7){return !_5e7||isNaN(_5e7)||typeof _5e7!="object"||_5e7.toString()==this._invalidDate;},_setValueAttr:function $DBG_(_5e8,_5e9,_5ea){if(_5e8!==undefined){if(typeof _5e8=="string"){_5e8=dojo.date.stamp.fromISOString(_5e8);}if(this._isInvalidDate(_5e8)){_5e8=null;}if(_5e8 instanceof Date&&!(this.dateClassObj instanceof Date)){_5e8=new this.dateClassObj(_5e8);}}this.inherited(arguments);if(this.dropDown){this.dropDown.set("value",_5e8,false);}},_set:function $DBH_(attr,_5eb){if(attr=="value"&&this.value instanceof Date&&this.compare(_5eb,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function $DBI_(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function $DBJ_(_5ec){if(this.dropDown){this.dropDown.destroy();}var _5ed=dojo.getObject(this.popupClass,false),_5ee=this,_5ef=this.get("value");this.dropDown=new _5ed({onChange:function $DBK_(_5f0){dijit.form._DateTimeTextBox.superclass._setValueAttr.call(_5ee,_5f0,true);},id:this.id+"_popup",dir:_5ee.dir,lang:_5ee.lang,value:_5ef,currentFocus:!this._isInvalidDate(_5ef)?_5ef:this.dropDownDefaultValue,constraints:_5ee.constraints,filterString:_5ee.filterString,datePackage:_5ee.datePackage,isDisabledDate:function $DBL_(date){return !_5ee.rangeCheck(date,_5ee.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function $DBM_(){return this.textbox.value;},_setDisplayedValueAttr:function $DBN_(_5f1,_5f2){this._setValueAttr(this.parse(_5f1,this.constraints),_5f2,_5f1);}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:"dijit.Calendar",_selector:"date",value:new Date("")});}if(!dojo._hasResource["betterform.ui.input.Date"]){dojo._hasResource["betterform.ui.input.Date"]=true;dojo.provide("betterform.ui.input.Date");dojo.declare("betterform.ui.input.Date",[betterform.ui.ControlValue,dijit.form.DateTextBox],{postMixInProperties:function $DBpD_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);this.incremental=false;},postCreate:function $DBpE_(){this.inherited(arguments);this.setCurrentValue();},onChange:function $DBpF_(_5f3,_5f4){this.inherited(arguments);if(this.incremental){this.setControlValue();}},_onFocus:function $DBpG_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBpH_(){this.handleOnBlur();this.inherited(arguments);},validate:function $DBpI_(_5f5){},getControlValue:function $DBpJ_(){var _5f6;var _5f7=this.get("value");if(_5f7==undefined){_5f6=this.focusNode.value;}else{_5f6=dojo.date.stamp.toISOString(_5f7,this.constraint);}if(_5f6.indexOf("T")!=-1){_5f6=_5f6.split("T")[0];}return _5f6;},_handleSetControlValue:function $DBpK_(date){if(date==undefined||date==""){dojo.attr(this.textbox,"value","");}else{this._setValueAttr(dojo.date.stamp.fromISOString(date,this.constraint));}},_handleDOMFocusIn:function $DBpL_(){this.bfFocus=true;var _5f8=dijit.byId(this.id);if(_5f8!=undefined){_5f8.focus();}}});}if(!dojo._hasResource["dijit._TimePicker"]){dojo._hasResource["dijit._TimePicker"]=true;dojo.provide("dijit._TimePicker");dojo.declare("dijit._TimePicker",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("dijit","templates/TimePicker.html","<div id=\"widget_${id}\" class=\"dijitMenu\"\n    ><div dojoAttachPoint=\"upArrow\" class=\"dijitButtonNode dijitUpArrowButton\" dojoAttachEvent=\"onmouseenter:_buttonMouse,onmouseleave:_buttonMouse\"\n\t\t><div class=\"dijitReset dijitInline dijitArrowButtonInner\" role=\"presentation\">&nbsp;</div\n\t\t><div class=\"dijitArrowButtonChar\">&#9650;</div></div\n    ><div dojoAttachPoint=\"timeMenu,focusNode\" dojoAttachEvent=\"onclick:_onOptionSelected,onmouseover,onmouseout\"></div\n    ><div dojoAttachPoint=\"downArrow\" class=\"dijitButtonNode dijitDownArrowButton\" dojoAttachEvent=\"onmouseenter:_buttonMouse,onmouseleave:_buttonMouse\"\n\t\t><div class=\"dijitReset dijitInline dijitArrowButtonInner\" role=\"presentation\">&nbsp;</div\n\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div></div\n></div>\n"),baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:dojo.date.stamp.toISOString,setValue:function $DWu_(_5f9){dojo.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_5f9);},_setValueAttr:function $DWv_(date){this._set("value",date);this._showText();},_setFilterStringAttr:function $DWw_(val){this._set("filterString",val);this._showText();},isDisabledDate:function $DWx_(_5fa,_5fb){return false;},_getFilteredNodes:function $DWy_(_5fc,_5fd,_5fe,_5ff){var _600=[],_601=_5ff?_5ff.date:this._refDate,n,i=_5fc,max=this._maxIncrement+Math.abs(i),chk=_5fe?-1:1,dec=_5fe?1:0,inc=1-dec;do{i=i-dec;n=this._createOption(i);if(n){if((_5fe&&n.date>_601)||(!_5fe&&n.date<_601)){break;}_600[_5fe?"unshift":"push"](n);_601=n.date;}i=i+inc;}while(_600.length<_5fd&&(i*chk)<max);return _600;},_showText:function $DWz_(){var _602=dojo.date.stamp.fromISOString;this.timeMenu.innerHTML="";this._clickableIncrementDate=_602(this.clickableIncrement);this._visibleIncrementDate=_602(this.visibleIncrement);this._visibleRangeDate=_602(this.visibleRange);var _603=function $DXF_(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();},_604=_603(this._clickableIncrementDate),_605=_603(this._visibleIncrementDate),_606=_603(this._visibleRangeDate),time=(this.value||this.currentFocus).getTime();this._refDate=new Date(time-time%(_605*1000));this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._totalIncrements=_606/_604;this._visibleIncrement=_605/_604;this._maxIncrement=(60*60*24)/_604;var _607=this._getFilteredNodes(0,Math.min(this._totalIncrements>>1,10)-1),_608=this._getFilteredNodes(0,Math.min(this._totalIncrements,10)-_607.length,true,_607[0]);dojo.forEach(_608.concat(_607),function(n){this.timeMenu.appendChild(n);},this);},constructor:function $DW0_(){this.constraints={};},postMixInProperties:function $DW1_(){this.inherited(arguments);this._setConstraintsAttr(this.constraints);},_setConstraintsAttr:function $DW2_(_609){dojo.mixin(this,_609);if(!_609.locale){_609.locale=this.lang;}},postCreate:function $DW3_(){this.connect(this.timeMenu,dojo.isIE?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(dijit.typematic.addMouseListener(this.upArrow,this,"_onArrowUp",33,250));this._connects.push(dijit.typematic.addMouseListener(this.downArrow,this,"_onArrowDown",33,250));this.inherited(arguments);},_buttonMouse:function $DW4_(e){dojo.toggleClass(e.currentTarget,e.currentTarget==this.upArrow?"dijitUpArrowHover":"dijitDownArrowHover",e.type=="mouseenter"||e.type=="mouseover");},_createOption:function $DW5_(_60a){var date=new Date(this._refDate);var _60b=this._clickableIncrementDate;date.setHours(date.getHours()+_60b.getHours()*_60a,date.getMinutes()+_60b.getMinutes()*_60a,date.getSeconds()+_60b.getSeconds()*_60a);if(this.constraints.selector=="time"){date.setFullYear(1970,0,1);}var _60c=dojo.date.locale.format(date,this.constraints);if(this.filterString&&_60c.toLowerCase().indexOf(this.filterString)!==0){return null;}var div=dojo.create("div",{"class":this.baseClass+"Item"});div.date=date;div.index=_60a;dojo.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_60c},div);if(_60a%this._visibleIncrement<1&&_60a%this._visibleIncrement>-1){dojo.addClass(div,this.baseClass+"Marker");}else{if(!(_60a%this._clickableIncrement)){dojo.addClass(div,this.baseClass+"Tick");}}if(this.isDisabledDate(date)){dojo.addClass(div,this.baseClass+"ItemDisabled");}if(this.value&&!dojo.date.compare(this.value,date,this.constraints.selector)){div.selected=true;dojo.addClass(div,this.baseClass+"ItemSelected");if(dojo.hasClass(div,this.baseClass+"Marker")){dojo.addClass(div,this.baseClass+"MarkerSelected");}else{dojo.addClass(div,this.baseClass+"TickSelected");}this._highlightOption(div,true);}return div;},_onOptionSelected:function $DW6_(tgt){var _60d=tgt.target.date||tgt.target.parentNode.date;if(!_60d||this.isDisabledDate(_60d)){return;}this._highlighted_option=null;this.set("value",_60d);this.onChange(_60d);},onChange:function $DW7_(time){},_highlightOption:function $DW8_(node,_60e){if(!node){return;}if(_60e){if(this._highlighted_option){this._highlightOption(this._highlighted_option,false);}this._highlighted_option=node;}else{if(this._highlighted_option!==node){return;}else{this._highlighted_option=null;}}dojo.toggleClass(node,this.baseClass+"ItemHover",_60e);if(dojo.hasClass(node,this.baseClass+"Marker")){dojo.toggleClass(node,this.baseClass+"MarkerHover",_60e);}else{dojo.toggleClass(node,this.baseClass+"TickHover",_60e);}},onmouseover:function $DW9_(e){this._keyboardSelected=null;var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;if(!dojo.hasClass(tgr,this.baseClass+"Item")){return;}this._highlightOption(tgr,true);},onmouseout:function $DXA_(e){this._keyboardSelected=null;var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;this._highlightOption(tgr,false);},_mouseWheeled:function $DXB_(e){this._keyboardSelected=null;dojo.stopEvent(e);var _60f=(dojo.isIE?e.wheelDelta:-e.detail);this[(_60f>0?"_onArrowUp":"_onArrowDown")]();},_onArrowUp:function $DXC_(_610){if(typeof _610=="number"&&_610==-1){return;}if(!this.timeMenu.childNodes.length){return;}var _611=this.timeMenu.childNodes[0].index;var divs=this._getFilteredNodes(_611,1,true,this.timeMenu.childNodes[0]);if(divs.length){this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);this.timeMenu.insertBefore(divs[0],this.timeMenu.childNodes[0]);}},_onArrowDown:function $DXD_(_612){if(typeof _612=="number"&&_612==-1){return;}if(!this.timeMenu.childNodes.length){return;}var _613=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1;var divs=this._getFilteredNodes(_613,1,false,this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);if(divs.length){this.timeMenu.removeChild(this.timeMenu.childNodes[0]);this.timeMenu.appendChild(divs[0]);}},handleKey:function $DXE_(e){var dk=dojo.keys;if(e.charOrCode==dk.DOWN_ARROW||e.charOrCode==dk.UP_ARROW){dojo.stopEvent(e);if(this._highlighted_option&&!this._highlighted_option.parentNode){this._highlighted_option=null;}var _614=this.timeMenu,tgt=this._highlighted_option||dojo.query("."+this.baseClass+"ItemSelected",_614)[0];if(!tgt){tgt=_614.childNodes[0];}else{if(_614.childNodes.length){if(e.charOrCode==dk.DOWN_ARROW&&!tgt.nextSibling){this._onArrowDown();}else{if(e.charOrCode==dk.UP_ARROW&&!tgt.previousSibling){this._onArrowUp();}}if(e.charOrCode==dk.DOWN_ARROW){tgt=tgt.nextSibling;}else{tgt=tgt.previousSibling;}}}this._highlightOption(tgt,true);this._keyboardSelected=tgt;return false;}else{if(e.charOrCode==dk.ENTER||e.charOrCode===dk.TAB){if(!this._keyboardSelected&&e.charOrCode===dk.TAB){return true;}if(this._highlighted_option){this._onOptionSelected({target:this._highlighted_option});}return e.charOrCode===dk.TAB;}}}});}if(!dojo._hasResource["dijit.form.TimeTextBox"]){dojo._hasResource["dijit.form.TimeTextBox"]=true;dojo.provide("dijit.form.TimeTextBox");dojo.declare("dijit.form.TimeTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:"dijit._TimePicker",_selector:"time",value:new Date(""),_onKey:function $DEt_(evt){this.inherited(arguments);switch(evt.keyCode){case dojo.keys.ENTER:case dojo.keys.TAB:case dojo.keys.ESCAPE:case dojo.keys.DOWN_ARROW:case dojo.keys.UP_ARROW:break;default:setTimeout(dojo.hitch(this,function(){var val=this.get("displayedValue");this.filterString=(val&&!this.parse(val,this.constraints))?val.toLowerCase():"";if(this._opened){this.closeDropDown();}this.openDropDown();}),0);}}});}if(!dojo._hasResource["betterform.ui.input.Time"]){dojo._hasResource["betterform.ui.input.Time"]=true;dojo.provide("betterform.ui.input.Time");dojo.declare("betterform.ui.input.Time",[betterform.ui.ControlValue,dijit.form.TimeTextBox],{intermediateChanges:true,delay:300,constraints:null,postMixInProperties:function $DBqE_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"delay")!=undefined&&dojo.attr(this.srcNodeRef,"delay")!=""){this.delay=eval(dojo.attr(this.srcNodeRef,"delay"));}},postCreate:function $DBqF_(){this.inherited(arguments);dojo.attr(this.domNode,"value",this.value);this.applyValues(this.value);},applyValues:function $DBqG_(){},_onFocus:function $DBqH_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBqI_(){this.inherited(arguments);this.handleOnBlur();},_delayTimer:undefined,onChange:function $DBqJ_(_615,_616){if(this.incremental){if(this.delay>0){if(this._delayTimer!=undefined){clearTimeout(this._delayTimer);}this._delayTimer=setTimeout(dojo.hitch(this,"setControlValueDelayed"),this.delay);}else{this.setControlValue();}}},setControlValueDelayed:function $DBqK_(){this.setControlValue();},getControlValue:function $DBqL_(){var _617;var _618=this.get("value");if(_618==undefined){_617=this.focusNode.value;}else{_617=dojo.date.stamp.toISOString(_618,this.constraints);}if(_617.indexOf("T")!=-1){_617=_617.split("T")[1];}return _617;},_handleSetControlValue:function $DBqM_(date){if(date==undefined||date==""){dojo.attr(this.textbox,"value","");}else{this._setValueAttr(dojo.date.stamp.fromISOString(date,this.constraint));}}});}if(!dojo._hasResource["betterform.ui.input.DropDownTime"]){dojo._hasResource["betterform.ui.input.DropDownTime"]=true;dojo.provide("betterform.ui.input.DropDownTime");dojo.declare("betterform.ui.input.DropDownTime",[betterform.ui.ControlValue],{templateString:dojo.cache("betterform","ui/templates/DropDownTime.html","<div class=\"xfTimeControl xfValue\"\n    ><input\n        type=\"text\" dojoAttachPoint=\"hoursFacet\" value=\"\" class=\"xfTimeHours\" style=\"padding-right:4px;width:18px\" maxlength=\"2\"\n    />:<input\n        type=\"text\" dojoAttachPoint=\"minutesFacet\" value=\"\" class=\"xfTimeMinutes\" style=\"padding-right:4px;width:18px\" maxlength=\"2\"\n    />:<input type=\"text\" dojoAttachPoint=\"secondsFacet\" value=\"\" class=\"xfTimeSeconds\" style=\"padding-right:4px;width:18px\" maxlength=\"2\"\n/></div>\n"),constructor:function $DBpM_(){},postMixInProperties:function $DBpN_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBpO_(){this.inherited(arguments);dojo.attr(this.domNode,"value",this.value);this.applyValues();dojo.connect(this.hoursFacet,"onkeyup",this,"onHoursChanged");dojo.connect(this.minutesFacet,"onkeyup",this,"onMinutesChanged");},applyValues:function $DBpP_(){var _619=this.value.split(":");if(_619.length!=3){return;}dojo.attr(this.hoursFacet,"value",_619[0]);dojo.attr(this.minutesFacet,"value",_619[1]);dojo.attr(this.secondsFacet,"value",_619[2]);},onHoursChanged:function $DBpQ_(evt){var _61a=dojo.attr(this.hoursFacet,"value");if(evt.keyCode!=16&&evt.keyCode!=9&&_61a.length=="2"){this.minutesFacet.focus();}},onMinutesChanged:function $DBpR_(evt){var _61b=dojo.attr(this.minutesFacet,"value");if(evt.keyCode!=16&&evt.keyCode!=9&&_61b.length=="2"){this.secondsFacet.focus();}},_onFocus:function $DBpS_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBpT_(){this.inherited(arguments);this.handleOnBlur();},onChange:function $DBpU_(_61c,_61d){},getControlValue:function $DBpV_(){var _61e=dojo.attr(this.hoursFacet,"value");if(_61e==undefined||_61e==""){_61e="00";}var _61f=dojo.attr(this.minutesFacet,"value");if(_61f==undefined||_61f==""){_61f="00";}var _620=dojo.attr(this.secondsFacet,"value");if(_620==undefined||_620==""){_620="00";}var _621=_61e+":"+_61f+":"+_620;return _621;},_handleSetControlValue:function $DBpW_(_622){}});}if(!dojo._hasResource["betterform.ui.input.DropDownDate"]){dojo._hasResource["betterform.ui.input.DropDownDate"]=true;dojo.provide("betterform.ui.input.DropDownDate");dojo.declare("betterform.ui.input.DropDownDate",[betterform.ui.ControlValue],{templateString:dojo.cache("betterform","ui/templates/DropDownDate.html","<div class=\"xfDropDownDateControl\"\n    ><input class=\"xfValue\" type=\"hidden\" dojoAttachPoint=\"valueNode\" value=\"\"\n    />\n    <span class=\"xfDropDownDate\">\n    <select size=\"1\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"daysFacet\" class=\"xfDropDownDateDays\">\n        <option></option>\n        <option>01</option>\n        <option>02</option>\n        <option>03</option>\n        <option>04</option>\n        <option>05</option>\n        <option>06</option>\n        <option>07</option>\n        <option>08</option>\n        <option>09</option>\n        <option>10</option>\n        <option>11</option>\n        <option>12</option>\n        <option>13</option>\n        <option>14</option>\n        <option>15</option>\n        <option>16</option>\n        <option>17</option>\n        <option>18</option>\n        <option>19</option>\n        <option>20</option>\n        <option>21</option>\n        <option>22</option>\n        <option>23</option>\n        <option>24</option>\n        <option>25</option>\n        <option>26</option>\n        <option>27</option>\n        <option>28</option>\n        <option>29</option>\n        <option>30</option>\n        <option>31</option>\n    </select>\n    <select size=\"1\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"monthsFacet\" class=\"xfDropDownDateMonths\">\n        <option value=\"\"></option>\n        <option value=\"01\">January</option>\n        <option value=\"02\">February</option>\n        <option value=\"03\">March</option>\n        <option value=\"04\">April</option>\n        <option value=\"05\">May</option>\n        <option value=\"06\">June</option>\n        <option value=\"07\">July</option>\n        <option value=\"08\">August</option>\n        <option value=\"09\">September</option>\n        <option value=\"10\">October</option>\n        <option value=\"11\">November</option>\n        <option value=\"12\">December</option>\n    </select>\n    <select size=\"1\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"yearsFacet\" class=\"xfDropDownDateYears\">\n        <option></option>\n        <option>2010</option>\n        <option>2011</option>\n        <option>2012</option>\n    </select>\n    </span>\n</div>\n"),widgetsInTemplate:true,minimumYear:1900,maximumYear:2100,years:"",months:"",days:"",monthsArray:new Array("January","February","March","April","May","June","July","August","September","October","November","December"),postMixInProperties:function $DBpX_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBpY_(){this.inherited(arguments);dojo.attr(this.valueNode,"value",this.value);this.applyValues(this.value);dojo.connect(dijit.byId(this.daysFacet.id),"onChange",this,"onDaysChanged");dojo.connect(dijit.byId(this.monthsFacet.id),"onChange",this,"onMonthsChanged");dojo.connect(dijit.byId(this.yearsFacet.id),"onChange",this,"onYearsChanged");},applyValues:function $DBpZ_(_623){if(_623!=undefined){var _624=_623.split("-");if(_624.length!=3){return;}this.years=_624[0];this.months=_624[1];this.days=_624[2];dijit.byId(this.daysFacet.id).set("value",this.days);dijit.byId(this.monthsFacet.id).set("value",this.monthsArray[parseInt(this.months,"10")-1]);dijit.byId(this.yearsFacet.id).set("value",this.years);}},onDaysChanged:function $DBpa_(evt){var _625=dijit.byId(this.daysFacet.id).get("item");if(_625!=undefined&&_625.value!=""){this.days=_625.value;}else{this.days=dijit.byId(this.daysFacet.id).getValue();}this.setCurrentDate();},onMonthsChanged:function $DBpb_(evt){var _626=dijit.byId(this.monthsFacet.id).get("item");var _627;if(_626!=undefined){_627=parseInt(_626.value,"10");}else{var _628=dijit.byId(this.monthsFacet.id).getValue();if(isNaN(_628)){_627=parseInt(dojo.indexOf(this.monthsArray,_628)+1,"10");}else{_627=parseInt(_628,"10");}}if(_627<10){_627="0"+_627;}this.months=_627;this.setCurrentDate();},onYearsChanged:function $DBpc_(evt){var _629=dijit.byId(this.yearsFacet.id).get("item");var year;if(_629!=undefined&&_629.value!=""){year=_629.value;}else{year=dijit.byId(this.yearsFacet.id).getValue();}if(year>this.maximumYear){this.years=this.maximumYear;dijit.byId(this.yearsFacet.id).setDisplayedValue(this.years);}else{if(year<this.minimumYear){this.years=this.minimumYear;dijit.byId(this.yearsFacet.id).setDisplayedValue(this.years);}else{this.years=year;}}this.setCurrentDate();},onYearsBlur:function $DBpd_(evt){this.setControlValue();},_onFocus:function $DBpe_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBpf_(){this.inherited(arguments);this.handleOnBlur();},onChange:function $DBpg_(_62a,_62b){},_handleSetControlValue:function $DBph_(_62c){this.applyValues(_62c);},getControlValue:function $DBpi_(){return this.value;},setCurrentDate:function $DBpj_(){var _62d=this.years+"-"+this.months+"-"+this.days;dojo.attr(this.valueNode,"value",_62d);this.value=_62d;this.setControlValue();},applyState:function $DBpk_(){dijit.byId(this.daysFacet.id).attr("readOnly",this.xfControl.isReadonly());dijit.byId(this.monthsFacet.id).attr("readOnly",this.xfControl.isReadonly());dijit.byId(this.yearsFacet.id).attr("readOnly",this.xfControl.isReadonly());}});}if(!dojo._hasResource["betterform.ui.input.DateTime"]){dojo._hasResource["betterform.ui.input.DateTime"]=true;dojo.provide("betterform.ui.input.DateTime");dojo.declare("betterform.ui.input.DateTime",betterform.ui.ControlValue,{templateString:dojo.cache("betterform","ui/templates/DateTime.html","<div class=\"xfDateTimeControl\"\n    ><input\n        type=\"text\" dojoAttachPoint=\"dateFacet\" value=\"\" class=\"xfValue xfDateTextBox\" dojoType=\"dijit.form.DateTextBox\" required=\"true\" style=\"width:100px\"\n    /><input type=\"text\" dojoAttachPoint=\"timeFacet\" value=\"\" class=\"xfValue xfTimeTextBox\" dojoType=\"dijit.form.TimeTextBox\" required=\"true\" style=\"width:100px\"\n            constraints=\"{ timePattern:'HH:mm:ss'}\"\n/></div>\n"),id:null,widgetsInTemplate:true,dateDijit:null,timeDijit:null,constraints:null,timezone:null,currentDateValue:null,timeValue:null,postMixInProperties:function $DBpu_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBpv_(){this.inherited(arguments);dojo.attr(this.domNode,"value",this.value);this.applyValues(this.value);},_onFocus:function $DBpw_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBpx_(){this.incremental=false;this.handleOnBlur();},applyValues:function $DBpy_(_62e){if(_62e.indexOf("+")!=-1){this.timezone=_62e.substring(_62e.indexOf("+"),_62e.length);_62e=_62e.substring(0,_62e.indexOf("+"));}if(_62e.indexOf("Z")!=-1){this.timezone="Z";_62e=_62e.substring(0,_62e.indexOf("Z"));}var _62f;var _630;if(_62e!=undefined&&_62e!=""){var _631=_62e.split("T");_62f=dojo.date.locale.format(dojo.date.stamp.fromISOString(_631[0],this.constraints),{datePattern:this.constraints.datePattern,selector:"date"});_630=dojo.date.stamp.fromISOString("T"+_631[1],this.constraints);}else{_62f="";_630="";}this.currentDateValue=_62f;this.timeValue=_630;if(this.dateDijit==undefined){this.dateDijit=dijit.byId(this.dateFacet.id);if(this.constraints.formatLength!=undefined){}if(this.constraints.locale!=undefined){}if(this.constraints.datePattern!=undefined){}}dojo.attr(this.dateDijit.textbox,"value",_62f);if(this.timeDijit==undefined){this.timeDijit=dijit.byId(this.timeFacet.id);if(this.constraints.formatLength!=undefined){}if(this.constraints.locale!=undefined){}if(this.constraints.timePattern!=undefined){}}this.dateDijit.validate=function $DBp2_(_632){return true;};this.timeDijit.validate=function $DBp3_(_633){return true;};if(_630.length>0){this.timeDijit._setValueAttr(_630);}this.setCurrentValue(_62e);},getControlValue:function $DBpz_(){var _634;var _635=this.dateDijit.get("value");if(_635==undefined){_634=this.dateDijit.focusNode.value;}else{_634=dojo.date.stamp.toISOString(_635,this.constraints);}if(_634==undefined){_634="";}else{if(_634.length==25&&_634.indexOf("T")==10){_634=_634.substring(0,11);}}var _636=this.timeDijit.textbox.value;if(_636==undefined){_636="";}else{if(_636.length==5&&_636.indexOf(":")==2){_636+=":00";}}if(_636.length==8&&_636.indexOf(":")==2&&this.miliseconds){_636+=".000";}if((_636.length==12||_636.length==8)&&_636.indexOf(":")==2&&this.value.indexOf("Z")!=-1){_636+="Z";}else{if(this.timezone!=undefined){_636+=this.timezone;}}this.value=_634+_636;return this.value;},_handleSetControlValue:function $DBp0_(_637){if(this.miliseconds&&_637.indexOf(".")!=-1){_637=_637.substring(0,_637.indexOf("."));}this.applyValues(_637);},applyState:function $DBp1_(){this.dateDijit.set("readOnly",this.xfControl.isReadonly());this.timeDijit.set("readOnly",this.xfControl.isReadonly());}});}if(!dojo._hasResource["betterform.ui.output.Link"]){dojo._hasResource["betterform.ui.output.Link"]=true;dojo.provide("betterform.ui.output.Link");dojo.declare("betterform.ui.output.Link",[betterform.ui.ControlValue],{href:"",label:null,templateString:"<span><a href=\"javascript:void(0)\" value=\"${href}\"  dojoAttachPoint=\"containerNode\"></a></span>",postMixInProperties:function $DBno_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBnp_(){this.label=dojo.byId(this.xfControl.id+"-label");if(this.label!=undefined){this.containerNode.innerHTML=this.label.innerHTML;this.containerNode.onclick=dojo.hitch(this,this._onClick);this.label.innerHTML="";}},_onFocus:function $DBnq_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBnr_(){this.inherited(arguments);this.handleOnBlur();},_onClick:function $DBns_(){if(!this.xfControl.isReadonly()){window.open(dojo.attr(this.containerNode,"value"),"_blank");}},getControlValue:function $DBnt_(){return this.containerNode.innerHTML;},applyState:function $DBnu_(){},_handleSetControlValue:function $DBnv_(_638){dojo.attr(this.containerNode,"href",_638);if(_638.indexOf("/")>0){_638=_638.substring(_638.lastIndexOf("/")+1,_638.length);}if(_638.indexOf(".")>0){_638=_638.substring(0,_638.lastIndexOf("."));}this.containerNode.innerHTML=_638;},_setLabel:function $DBnw_(_639){if(this.containerNode.innerHTML==""){var _63a=document.createTextNode(_639);dojo.place(_63a,this.containerNode);}else{this.containerNode.innerHTML=_639;}}});}if(!dojo._hasResource["betterform.ui.output.Image"]){dojo._hasResource["betterform.ui.output.Image"]=true;dojo.provide("betterform.ui.output.Image");dojo.declare("betterform.ui.output.Image",betterform.ui.ControlValue,{src:"",alt:"",templateString:"<img src=\"${src}\" alt=\"${alt}\" class=\"xfValue\"/>",postMixInProperties:function $DBnP_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},_onFocus:function $DBnQ_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBnR_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBnS_(){return dojo.attr(this.domNode,"src");},_handleSetControlValue:function $DBnT_(_63b){dojo.attr(this.domNode,"src",_63b);},applyState:function $DBnU_(){}});}if(!dojo._hasResource["betterform.ui.output.Html"]){dojo._hasResource["betterform.ui.output.Html"]=true;dojo.provide("betterform.ui.output.Html");dojo.declare("betterform.ui.output.Html",betterform.ui.ControlValue,{templateString:"<span id=\"${id}\" dojoAttachPoint=\"containerNode\"></span>",postMixInProperties:function $DBnZ_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBna_(){this.containerNode.innerHTML=this.value;},_onFocus:function $DBnb_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBnc_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBnd_(){return this.containerNode.innerHTML;},applyState:function $DBne_(){},_handleSetControlValue:function $DBnf_(_63c){this.containerNode.innerHTML=_63c;}});}if(!dojo._hasResource["betterform.ui.output.InputLook"]){dojo._hasResource["betterform.ui.output.InputLook"]=true;dojo.provide("betterform.ui.output.InputLook");dojo.declare("betterform.ui.output.InputLook",betterform.ui.ControlValue,{id:"",value:"",templateString:"<span id=\"${id}\" class=\"dijit dijitTextBox dijitReset dijitLeft\" dojoAttachPoint=\"containerNode\"></span>",postMixInProperties:function $DBnI_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBnJ_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DBnK_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBnL_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBnM_(){return this.containerNode.innerHTML;},_handleSetControlValue:function $DBnN_(_63d){this.containerNode.innerHTML=_63d;},applyState:function $DBnO_(){}});}if(!dojo._hasResource["betterform.ui.output.Plain"]){dojo._hasResource["betterform.ui.output.Plain"]=true;dojo.provide("betterform.ui.output.Plain");dojo.declare("betterform.ui.output.Plain",betterform.ui.ControlValue,{id:"",value:"",templateString:"<span id=\"${id}\" dojoAttachPoint=\"containerNode\"></span>",postMixInProperties:function $DBng_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBnh_(){this.inherited(arguments);this.setCurrentValue();},focus:function $DBni_(){if(dojo.attr(this.containerNode,"tabindex")==undefined){dojo.attr(this.containerNode,"tabindex",0);}this.containerNode.focus();},_onFocus:function $DBnj_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBnk_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBnl_(){return this.containerNode.innerHTML;},_handleSetControlValue:function $DBnm_(_63e){this.containerNode.innerHTML=_63e;},applyState:function $DBnn_(){}});}if(!dojo._hasResource["betterform.ui.secret.Secret"]){dojo._hasResource["betterform.ui.secret.Secret"]=true;dojo.provide("betterform.ui.secret.Secret");dojo.declare("betterform.ui.secret.Secret",[betterform.ui.ControlValue,betterform.ui.input.TextField],{type:"password"});}if(!dojo._hasResource["betterform.ui.trigger.Button"]){dojo._hasResource["betterform.ui.trigger.Button"]=true;dojo.provide("betterform.ui.trigger.Button");dojo.declare("betterform.ui.trigger.Button",[betterform.ui.ControlValue,dijit.form.Button],{buildRendering:function $DBmc_(){this.inherited(arguments);var _63f=dojo.attr(this.srcNodeRef,"source");var _640=dojo.attr(this.srcNodeRef,"labelmediatype");if((_63f==undefined||_63f=="")&&_640!=undefined&&_640.indexOf("image")!=-1){_63f=dojo.attr(this.srcNodeRef,"label");}if(_63f!=undefined&&_63f!=""){var _641=document.createElement("img");dojo.attr(_641,"src",_63f);this.iconNode.appendChild(_641);this.showLabel=false;dojo.style(this.containerNode,"display","none");}},postMixInProperties:function $DBmd_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},getControlValue:function $DBme_(){return dojo.attr(this.domNode,"value");},_handleSetControlValue:function $DBmf_(_642){},onClick:function $DBmg_(e){fluxProcessor.dispatchEvent(this.xfControlId);},_setLabel:function $DBmh_(_643){dojo.byId(this.id+"_label").innerHTML=_643;}});}if(!dojo._hasResource["betterform.ui.trigger.LinkButton"]){dojo._hasResource["betterform.ui.trigger.LinkButton"]=true;dojo.provide("betterform.ui.trigger.LinkButton");dojo.declare("betterform.ui.trigger.LinkButton",betterform.ui.ControlValue,{label:"",templateString:dojo.cache("betterform","ui/templates/HtmlLinkButton.html","<span class=\"xfValue\"\n    ><a href=\"#\" dojoAttachPoint=\"linknode\" onclick=\"return false;\" dojoAttachEvent=\"onclick:onClick\"></a\n></span>\n"),postMixInProperties:function $DBmW_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);this.label=dojo.attr(this.srcNodeRef,"label");},postCreate:function $DBmX_(){this.linknode.innerHTML=this.label;},onClick:function $DBmY_(e){if(!(dojo.attr(this.domNode,"disabled")=="disabled")){e.cancelBubble=true;fluxProcessor.dispatchEvent(this.xfControlId);}},getControlValue:function $DBmZ_(){return dojo.attr(this.domNode,"value");},_handleSetControlValue:function $DBma_(_644){},_setLabel:function $DBmb_(_645){dojo.query("a",this.domNode)[0].innerHTML=_645;}});}if(!dojo._hasResource["betterform.ui.trigger.ImageButton"]){dojo._hasResource["betterform.ui.trigger.ImageButton"]=true;dojo.provide("betterform.ui.trigger.ImageButton");dojo.declare("betterform.ui.trigger.ImageButton",[betterform.ui.trigger.Button],{buildRendering:function $DBmU_(){this.inherited(arguments);var _646=dojo.query(".xfValue",this.srcNodeRef)[0].innerHTML;if(_646!=undefined&&_646!=""){var _647=document.createElement("img");dojo.attr(_647,"src",_646);dojo.attr(this.iconNode,"id",this.imageId);this.iconNode.appendChild(_647);this.showLabel=false;}},_handleSetControlValue:function $DBmV_(_648){var _649=dojo.query(("span[id="+this.id+"][dojoattachpoint=iconNode] > img"));if(_649.length==1){_649[0].src=_648;}else{}}});}if(!dojo._hasResource["dojox.highlight._base"]){dojo._hasResource["dojox.highlight._base"]=true;dojo.provide("dojox.highlight._base");(function(){var dh=dojox.highlight,_64a="\\b(0x[A-Za-z0-9]+|\\d+(\\.\\d+)?)";dh.constants={IDENT_RE:"[a-zA-Z][a-zA-Z0-9_]*",UNDERSCORE_IDENT_RE:"[a-zA-Z_][a-zA-Z0-9_]*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:_64a,APOS_STRING_MODE:{className:"string",begin:"'",end:"'",illegal:"\\n",contains:["escape"],relevance:0},QUOTE_STRING_MODE:{className:"string",begin:"\"",end:"\"",illegal:"\\n",contains:["escape"],relevance:0},BACKSLASH_ESCAPE:{className:"escape",begin:"\\\\.",end:"^",relevance:0},C_LINE_COMMENT_MODE:{className:"comment",begin:"//",end:"$",relevance:0},C_BLOCK_COMMENT_MODE:{className:"comment",begin:"/\\*",end:"\\*/"},HASH_COMMENT_MODE:{className:"comment",begin:"#",end:"$"},C_NUMBER_MODE:{className:"number",begin:_64a,end:"^",relevance:0}};function esc(_64b){return _64b.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;");};function _64c(_64d){return dojo.every(_64d.childNodes,function(node){return node.nodeType==3||String(node.nodeName).toLowerCase()=="br";});};function _64e(_64f){var _650=[];dojo.forEach(_64f.childNodes,function(node){if(node.nodeType==3){_650.push(node.nodeValue);}else{if(String(node.nodeName).toLowerCase()=="br"){_650.push("\n");}else{throw "Complex markup";}}});return _650.join("");};function _651(mode){if(!mode.keywordGroups){for(var key in mode.keywords){var kw=mode.keywords[key];if(kw instanceof Object){mode.keywordGroups=mode.keywords;}else{mode.keywordGroups={keyword:mode.keywords};}break;}}};function _652(lang){if(lang.defaultMode&&lang.modes){_651(lang.defaultMode);dojo.forEach(lang.modes,_651);}};var _653=function(_654,_655){this.langName=_654;this.lang=dh.languages[_654];this.modes=[this.lang.defaultMode];this.relevance=0;this.keywordCount=0;this.result=[];if(!this.lang.defaultMode.illegalRe){this.buildRes();_652(this.lang);}try{this.highlight(_655);this.result=this.result.join("");}catch(e){if(e=="Illegal"){this.relevance=0;this.keywordCount=0;this.partialResult=this.result.join("");this.result=esc(_655);}else{throw e;}}};dojo.extend(_653,{buildRes:function $DYG_(){dojo.forEach(this.lang.modes,function(mode){if(mode.begin){mode.beginRe=this.langRe("^"+mode.begin);}if(mode.end){mode.endRe=this.langRe("^"+mode.end);}if(mode.illegal){mode.illegalRe=this.langRe("^(?:"+mode.illegal+")");}},this);this.lang.defaultMode.illegalRe=this.langRe("^(?:"+this.lang.defaultMode.illegal+")");},subMode:function $DYH_(_656){var _657=this.modes[this.modes.length-1].contains;if(_657){var _658=this.lang.modes;for(var i=0;i<_657.length;++i){var _659=_657[i];for(var j=0;j<_658.length;++j){var mode=_658[j];if(mode.className==_659&&mode.beginRe.test(_656)){return mode;}}}}return null;},endOfMode:function $DYI_(_65a){for(var i=this.modes.length-1;i>=0;--i){var mode=this.modes[i];if(mode.end&&mode.endRe.test(_65a)){return this.modes.length-i;}if(!mode.endsWithParent){break;}}return 0;},isIllegal:function $DYJ_(_65b){var _65c=this.modes[this.modes.length-1].illegalRe;return _65c&&_65c.test(_65b);},langRe:function $DYK_(_65d,_65e){var mode="m"+(this.lang.case_insensitive?"i":"")+(_65e?"g":"");return new RegExp(_65d,mode);},buildTerminators:function $DYL_(){var mode=this.modes[this.modes.length-1],_65f={};if(mode.contains){dojo.forEach(this.lang.modes,function(_660){if(dojo.indexOf(mode.contains,_660.className)>=0){_65f[_660.begin]=1;}});}for(var i=this.modes.length-1;i>=0;--i){var m=this.modes[i];if(m.end){_65f[m.end]=1;}if(!m.endsWithParent){break;}}if(mode.illegal){_65f[mode.illegal]=1;}var t=[];for(i in _65f){t.push(i);}mode.terminatorsRe=this.langRe("("+t.join("|")+")");},eatModeChunk:function $DYM_(_661,_662){var mode=this.modes[this.modes.length-1];if(!mode.terminatorsRe){this.buildTerminators();}_661=_661.substr(_662);var _663=mode.terminatorsRe.exec(_661);if(!_663){return {buffer:_661,lexeme:"",end:true};}return {buffer:_663.index?_661.substr(0,_663.index):"",lexeme:_663[0],end:false};},keywordMatch:function $DYN_(mode,_664){var _665=_664[0];if(this.lang.case_insensitive){_665=_665.toLowerCase();}for(var _666 in mode.keywordGroups){if(_665 in mode.keywordGroups[_666]){return _666;}}return "";},buildLexemes:function $DYO_(mode){var _667={};dojo.forEach(mode.lexems,function(_668){_667[_668]=1;});var t=[];for(var i in _667){t.push(i);}mode.lexemsRe=this.langRe("("+t.join("|")+")",true);},processKeywords:function $DYP_(_669){var mode=this.modes[this.modes.length-1];if(!mode.keywords||!mode.lexems){return esc(_669);}if(!mode.lexemsRe){this.buildLexemes(mode);}mode.lexemsRe.lastIndex=0;var _66a=[],_66b=0,_66c=mode.lexemsRe.exec(_669);while(_66c){_66a.push(esc(_669.substr(_66b,_66c.index-_66b)));var _66d=this.keywordMatch(mode,_66c);if(_66d){++this.keywordCount;_66a.push("<span class=\""+_66d+"\">"+esc(_66c[0])+"</span>");}else{_66a.push(esc(_66c[0]));}_66b=mode.lexemsRe.lastIndex;_66c=mode.lexemsRe.exec(_669);}_66a.push(esc(_669.substr(_66b,_669.length-_66b)));return _66a.join("");},processModeInfo:function $DYQ_(_66e,_66f,end){var mode=this.modes[this.modes.length-1];if(end){this.result.push(this.processKeywords(mode.buffer+_66e));return;}if(this.isIllegal(_66f)){throw "Illegal";}var _670=this.subMode(_66f);if(_670){mode.buffer+=_66e;this.result.push(this.processKeywords(mode.buffer));if(_670.excludeBegin){this.result.push(_66f+"<span class=\""+_670.className+"\">");_670.buffer="";}else{this.result.push("<span class=\""+_670.className+"\">");_670.buffer=_66f;}this.modes.push(_670);this.relevance+=typeof _670.relevance=="number"?_670.relevance:1;return;}var _671=this.endOfMode(_66f);if(_671){mode.buffer+=_66e;if(mode.excludeEnd){this.result.push(this.processKeywords(mode.buffer)+"</span>"+_66f);}else{this.result.push(this.processKeywords(mode.buffer+_66f)+"</span>");}while(_671>1){this.result.push("</span>");--_671;this.modes.pop();}this.modes.pop();this.modes[this.modes.length-1].buffer="";return;}},highlight:function $DYR_(_672){var _673=0;this.lang.defaultMode.buffer="";do{var _674=this.eatModeChunk(_672,_673);this.processModeInfo(_674.buffer,_674.lexeme,_674.end);_673+=_674.buffer.length+_674.lexeme.length;}while(!_674.end);if(this.modes.length>1){throw "Illegal";}}});function _675(node,_676,text){if(String(node.tagName).toLowerCase()=="code"&&String(node.parentNode.tagName).toLowerCase()=="pre"){var _677=document.createElement("div"),_678=node.parentNode.parentNode;_677.innerHTML="<pre><code class=\""+_676+"\">"+text+"</code></pre>";_678.replaceChild(_677.firstChild,node.parentNode);}else{node.className=_676;node.innerHTML=text;}};function _679(lang,str){var _67a=new _653(lang,str);return {result:_67a.result,langName:lang,partialResult:_67a.partialResult};};function _67b(_67c,lang){var _67d=_679(lang,_64e(_67c));_675(_67c,_67c.className,_67d.result);};function _67e(str){var _67f="",_680="",_681=2,_682=str;for(var key in dh.languages){if(!dh.languages[key].defaultMode){continue;}var _683=new _653(key,_682),_684=_683.keywordCount+_683.relevance,_685=0;if(!_67f||_684>_685){_685=_684;_67f=_683.result;_680=_683.langName;}}return {result:_67f,langName:_680};};function _686(_687){var _688=_67e(_64e(_687));if(_688.result){_675(_687,_688.langName,_688.result);}};dojox.highlight.processString=function $DYS_(str,lang){return lang?_679(lang,str):_67e(str);};dojox.highlight.init=function $DYT_(node){node=dojo.byId(node);if(dojo.hasClass(node,"no-highlight")){return;}if(!_64c(node)){return;}var _689=node.className.split(/\s+/),flag=dojo.some(_689,function(_68a){if(_68a.charAt(0)!="_"&&dh.languages[_68a]){_67b(node,_68a);return true;}return false;});if(!flag){_686(node);}};dh.Code=function $DYV_(p,n){dh.init(n);};})();}if(!dojo._hasResource["dojox.highlight"]){dojo._hasResource["dojox.highlight"]=true;dojo.provide("dojox.highlight");}if(!dojo._hasResource["dojox.highlight.languages.xml"]){dojo._hasResource["dojox.highlight.languages.xml"]=true;dojo.provide("dojox.highlight.languages.xml");(function(){var _68b={className:"comment",begin:"<!--",end:"-->"};var _68c={className:"attribute",begin:" [a-zA-Z-]+=",end:"^",contains:["value"]};var _68d={className:"value",begin:"\"",end:"\""};var dh=dojox.highlight,dhc=dh.constants;dh.languages.xml={defaultMode:{contains:["pi","comment","cdata","tag"]},case_insensitive:true,modes:[{className:"pi",begin:"<\\?",end:"\\?>",relevance:10},_68b,{className:"cdata",begin:"<\\!\\[CDATA\\[",end:"\\]\\]>"},{className:"tag",begin:"</?",end:">",contains:["title","tag_internal"],relevance:1.5},{className:"title",begin:"[A-Za-z:_][A-Za-z0-9\\._:-]+",end:"^",relevance:0},{className:"tag_internal",begin:"^",endsWithParent:true,contains:["attribute"],relevance:0,illegal:"[\\+\\.]"},_68c,_68d],XML_COMMENT:_68b,XML_ATTR:_68c,XML_VALUE:_68d};})();}if(!dojo._hasResource["betterform.ui.output.SourceCode"]){dojo._hasResource["betterform.ui.output.SourceCode"]=true;dojo.provide("betterform.ui.output.SourceCode");dojo.declare("betterform.ui.output.SourceCode",betterform.ui.output.Html,{postCreate:function $DBnV_(){this.containerNode.innerHTML=this.value;this.load_css("/betterform/resources/scripts/release/dojo/dojox/highlight/resources/highlight.css");this.load_css("/betterform/resources/scripts/release/dojo/dojox/highlight/resources/pygments/pastie.css");this.highlight();},_handleSetControlValue:function $DBnW_(_68e){this.inherited(arguments);this.containerNode.innerHTML=_68e;this.highlight();},highlight:function $DBnX_(){dojo.query("code",this.containerNode).forEach(dojox.highlight.init);},load_css:function $DBnY_(_68f){var _690=document.createElement("link");_690.href=_68f;_690.rel="stylesheet";_690.type="text/css";document.body.appendChild(_690);}});}if(!dojo._hasResource["betterform.ui.container.ContentPaneGroup"]){dojo._hasResource["betterform.ui.container.ContentPaneGroup"]=true;dojo.provide("betterform.ui.container.ContentPaneGroup");dojo.declare("betterform.ui.container.ContentPaneGroup",[betterform.ui.container.Container,dijit.layout.ContentPane],{buildRendering:function $DBoO_(){this.inherited(arguments);betterform.ui.util.setDefaultClasses(this.domNode);},handleStateChanged:function $DBoP_(_691){this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.container.OuterGroup"]){dojo._hasResource["betterform.ui.container.OuterGroup"]=true;dojo.provide("betterform.ui.container.OuterGroup");dojo.declare("betterform.ui.container.OuterGroup",dijit.layout.ContentPane,{onLoad:function $DBoE_(e){this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.container.Dialog"]){dojo._hasResource["betterform.ui.container.Dialog"]=true;dojo.provide("betterform.ui.container.Dialog");dojo.declare("betterform.ui.container.Dialog",[betterform.ui.container.Container,dijit.Dialog],{handleStateChanged:function $DBo6_(_692){var _693=eval(_692["enabled"]);if(_693){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");}},handleShow:function $DBo7_(_694){},handleHide:function $DBo8_(_695){}});}if(!dojo._hasResource["dojox.widget.Toaster"]){dojo._hasResource["dojox.widget.Toaster"]=true;dojo.provide("dojox.widget.Toaster");dojo.declare("dojox.widget.Toaster",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToasterClip\" dojoAttachPoint=\"clipNode\"><div class=\"dijitToasterContainer\" dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onclick:onSelect\"><div class=\"dijitToasterContent\" dojoAttachPoint=\"contentNode\"></div></div></div>",messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:2000,slideDuration:500,separator:"<hr></hr>",postCreate:function $DA1X_(){this.inherited(arguments);this.hide();dojo.body().appendChild(this.domNode);if(this.messageTopic){dojo.subscribe(this.messageTopic,this,"_handleMessage");}},_handleMessage:function $DA1Y_(_696){if(dojo.isString(_696)){this.setContent(_696);}else{this.setContent(_696.message,_696.type,_696.duration);}},_capitalize:function $DA1Z_(w){return w.substring(0,1).toUpperCase()+w.substring(1);},setContent:function $DA1a_(_697,_698,_699){_699=_699||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop();}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(dojo.hitch(this,function(){this.setContent(_697,_698,_699);}),50);return;}}for(var type in this.messageTypes){dojo.removeClass(this.containerNode,"dijitToaster"+this._capitalize(this.messageTypes[type]));}dojo.style(this.containerNode,"opacity",1);this._setContent(_697);dojo.addClass(this.containerNode,"dijitToaster"+this._capitalize(_698||this.defaultType));this.show();var _69a=dojo.marginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible){this._placeClip();if(!this._stickyMessage){this._setHideTimer(_699);}}else{var _69b=this.containerNode.style;var pd=this.positionDirection;if(pd.indexOf("-up")>=0){_69b.left=0+"px";_69b.top=_69a.h+10+"px";}else{if(pd.indexOf("-left")>=0){_69b.left=_69a.w+10+"px";_69b.top=0+"px";}else{if(pd.indexOf("-right")>=0){_69b.left=0-_69a.w-10+"px";_69b.top=0+"px";}else{if(pd.indexOf("-down")>=0){_69b.left=0+"px";_69b.top=0-_69a.h-10+"px";}else{throw new Error(this.id+".positionDirection is invalid: "+pd);}}}}this.slideAnim=dojo.fx.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(_69c,anim){this.fadeAnim=dojo.fadeOut({node:this.containerNode,duration:1000});this.connect(this.fadeAnim,"onEnd",function(evt){this.isVisible=false;this.hide();});this._setHideTimer(_699);this.connect(this,"onSelect",function(evt){this._cancelHideTimer();this._stickyMessage=false;this.fadeAnim.play();});this.isVisible=true;});this.slideAnim.play();}},_setContent:function $DA1b_(_69d){if(dojo.isFunction(_69d)){_69d(this);return;}if(_69d&&this.isVisible){_69d=this.contentNode.innerHTML+this.separator+_69d;}this.contentNode.innerHTML=_69d;},_cancelHideTimer:function $DA1c_(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null;}},_setHideTimer:function $DA1d_(_69e){this._cancelHideTimer();if(_69e>0){this._cancelHideTimer();this._hideTimer=setTimeout(dojo.hitch(this,function(evt){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this._hideTimer=null;this._stickyMessage=false;this.fadeAnim.play();}),_69e);}else{this._stickyMessage=true;}},_placeClip:function $DA1e_(){var view=dojo.window.getBox();var _69f=dojo.marginBox(this.containerNode);var _6a0=this.clipNode.style;_6a0.height=_69f.h+"px";_6a0.width=_69f.w+"px";var pd=this.positionDirection;if(pd.match(/^t/)){_6a0.top=view.t+"px";}else{if(pd.match(/^b/)){_6a0.top=(view.h-_69f.h-2+view.t)+"px";}}if(pd.match(/^[tb]r-/)){_6a0.left=(view.w-_69f.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_6a0.left=0+"px";}}_6a0.clip="rect(0px, "+_69f.w+"px, "+_69f.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id=dijit.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new dijit.BackgroundIframe(this.clipNode);}var _6a1=this.bgIframe.iframe;if(_6a1){_6a1.style.display="block";}}},onSelect:function $DA1f_(e){},show:function $DA1g_(){dojo.style(this.domNode,"display","block");this._placeClip();if(!this._scrollConnected){this._scrollConnected=dojo.connect(window,"onscroll",this,this._placeClip);}},hide:function $DA1h_(){dojo.style(this.domNode,"display","none");if(this._scrollConnected){dojo.disconnect(this._scrollConnected);this._scrollConnected=false;}dojo.style(this.containerNode,"opacity",1);}});}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var _6a2=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _6a3=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _6a4=dojox.html._adjustCssPaths=function(_6a5,_6a6){if(!_6a6||!_6a5){return;}if(_6a2){_6a6=_6a6.replace(_6a2,function(_6a7,pre,_6a8,url,post){return pre+(new dojo._Url(_6a5,"./"+url).toString())+post;});}return _6a6.replace(_6a3,function(_6a9,_6aa,_6ab,_6ac,_6ad,_6ae){if(_6ab){return "@import \""+(new dojo._Url(_6a5,"./"+_6ab).toString())+"\""+_6ae;}else{return "url("+(new dojo._Url(_6a5,"./"+_6ad).toString())+")"+_6ae;}});};var _6af=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _6b0=dojox.html._adjustHtmlPaths=function(_6b1,cont){var url=_6b1||"./";return cont.replace(_6af,function(tag,_6b2,name,_6b3,_6b4,_6b5,_6b6,end){return _6b2+(name?(name+"="+_6b3+(new dojo._Url(url,_6b4).toString())+_6b3):("style="+_6b5+_6a4(url,_6b6)+_6b5))+end;});};var _6b7=dojox.html._snarfStyles=function(_6b8,cont,_6b9){_6b9.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_6ba,_6bb,_6bc,_6bd,_6be,href){var i,attr=(_6bb||_6bd||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_6bc){i=_6b9.push(_6b8?_6a4(_6b8,_6bc):_6bc);}else{i=_6b9.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _6bf={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_6bf[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_6b9.attributes[i-1]=_6bf;}return "";});};var _6c0=dojox.html._snarfScripts=function(cont,_6c1){_6c1.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_6c2){return _6c2.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _6c3(src){if(_6c1.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});dojo.xhrGet({url:src,sync:true,load:function $DAp1_(code){_6c1.code+=code+";";},error:_6c1.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_6c4,_6c5,src,code){if(src){_6c3(src);}else{_6c1.code+=code;}return "";});};var _6c6=dojox.html.evalInGlobal=function(code,_6c7){_6c7=_6c7||dojo.doc.body;var n=_6c7.ownerDocument.createElement("script");n.type="text/javascript";_6c7.appendChild(n);n.text=code;};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function $DAp2_(_6c8){this._styleNodes=[];var st,att,_6c9,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_6c8.length;i<e;i++){_6c9=_6c8[i];att=_6c8.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_6c9;}else{st.appendChild(doc.createTextNode(_6c9));}}},empty:function $DAp3_(){this.inherited("empty",arguments);this._styles=[];},onBegin:function $DAp4_(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _6ca=this._styles;if(dojo.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_6b0(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_6b7(this.referencePath,cont,_6ca);}if(this.executeScripts){var _6cb=this;var _6cc={downloadRemote:true,errBack:function $DAp5_(e){_6cb._onError.call(_6cb,"Exec","Error downloading remote script in \""+_6cb.id+"\"",e);}};cont=_6c0(cont,_6cc);this._code=_6cc.code;}}this.content=cont;},onEnd:function $DAp6_(){var code=this._code,_6cd=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_6cd&&_6cd.length){this._renderStyles(_6cd);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_6c6(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function $DAp7_(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);}});dojox.html.set=function $DAp8_(node,cont,_6ce){if(!_6ce){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojox.html._ContentSetter(dojo.mixin(_6ce,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function $Dy9_(){this.ioArgs={};this.ioMethod=dojo.xhrGet;},onExecError:function $DzA_(e){},_setContent:function $DzB_(cont){var _6cf=this._contentSetter;if(!(_6cf&&_6cf instanceof dojox.html._ContentSetter)){_6cf=this._contentSetter=new dojox.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _6d0=this.onContentError(e);try{this.containerNode.innerHTML=_6d0;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});}if(!dojo._hasResource["dojox.layout.ResizeHandle"]){dojo._hasResource["dojox.layout.ResizeHandle"]=true;dojo.provide("dojox.layout.ResizeHandle");dojo.experimental("dojox.layout.ResizeHandle");dojo.declare("dojox.layout.ResizeHandle",[dijit._Widget,dijit._Templated],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function $DxP_(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=dijit.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new dojox.layout._ResizeHelper({id:"dojoxGlobalResizeHelper"}).placeAt(dojo.body());dojo.addClass(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _6d1=dojo.partial(dojo.addClass,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_6d1("dojoxResizeNW");break;case "x":this._resizeX=true;_6d1("dojoxResizeW");break;case "y":this._resizeY=true;_6d1("dojoxResizeN");break;}},_beginSizing:function $DxQ_(e){if(this._isSizing){return false;}dojo.publish(this.startTopic,[this]);this.targetWidget=dijit.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:dojo.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return false;}if(!this.activeResize){var c=dojo.position(this.targetDomNode,true);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var mb=this.targetWidget?dojo.marginBox(this.targetDomNode):dojo.contentBox(this.targetDomNode);this.startSize={w:mb.w,h:mb.h};if(this.fixedAspect){var max,val;if(mb.w>mb.h){max="w";val=mb.w/mb.h;}else{max="h";val=mb.h/mb.w;}this._aspect={prop:max};this._aspect[max]=val;}this._pconnects=[];this._pconnects.push(dojo.connect(dojo.doc,"onmousemove",this,"_updateSizing"));this._pconnects.push(dojo.connect(dojo.doc,"onmouseup",this,"_endSizing"));dojo.stopEvent(e);},_updateSizing:function $DxR_(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function $DxS_(e){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=(this.isLeftToRight()?this.startPoint.x-e.clientX:e.clientX-this.startPoint.x),dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0);return this._checkConstraints(newW,newH);},_checkConstraints:function $DxT_(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var ta=this._aspect[this._aspect.prop];if(newW<newH){newH=newW*ta;}else{if(newH<newW){newW=newH*ta;}}}return {w:newW,h:newH};},_changeSizing:function $DxU_(e){var tmp=this._getNewCoords(e);if(tmp===false){return;}if(this.targetWidget&&dojo.isFunction(this.targetWidget.resize)){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=dojo.fx[this.animateMethod]([dojo.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w}},duration:this.animateDuration}),dojo.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h}},duration:this.animateDuration})]);anim.play();}else{dojo.style(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function $DxV_(e){dojo.forEach(this._pconnects,dojo.disconnect);var pub=dojo.partial(dojo.publish,this.endTopic,[this]);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);setTimeout(pub,this.animateDuration+15);}else{pub();}this._isSizing=false;this.onResize(e);},onResize:function $DxW_(e){}});dojo.declare("dojox.layout._ResizeHelper",dijit._Widget,{show:function $DxX_(){dojo.fadeIn({node:this.domNode,duration:120,beforeBegin:function $DxY_(n){dojo.style(n,"display","");}}).play();},hide:function $DxZ_(){dojo.fadeOut({node:this.domNode,duration:250,onEnd:function $Dxa_(n){dojo.style(n,"display","none");}}).play();},resize:function $Dxb_(dim){dojo.marginBox(this.domNode,dim);}});}if(!dojo._hasResource["dojox.layout.FloatingPane"]){dojo._hasResource["dojox.layout.FloatingPane"]=true;dojo.provide("dojox.layout.FloatingPane");dojo.experimental("dojox.layout.FloatingPane");dojo.declare("dojox.layout.FloatingPane",[dojox.layout.ContentPane,dijit._Templated],{closable:true,dockable:true,resizable:false,maxable:false,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:dojo.cache("dojox.layout","resources/FloatingPane.html","<div class=\"dojoxFloatingPane\" id=\"${id}\">\n\t<div tabindex=\"0\" role=\"button\" class=\"dojoxFloatingPaneTitle\" dojoAttachPoint=\"focusNode\">\n\t\t<span dojoAttachPoint=\"closeNode\" dojoAttachEvent=\"onclick: close\" class=\"dojoxFloatingCloseIcon\"></span>\n\t\t<span dojoAttachPoint=\"maxNode\" dojoAttachEvent=\"onclick: maximize\" class=\"dojoxFloatingMaximizeIcon\">&thinsp;</span>\n\t\t<span dojoAttachPoint=\"restoreNode\" dojoAttachEvent=\"onclick: _restore\" class=\"dojoxFloatingRestoreIcon\">&thinsp;</span>\t\n\t\t<span dojoAttachPoint=\"dockNode\" dojoAttachEvent=\"onclick: minimize\" class=\"dojoxFloatingMinimizeIcon\">&thinsp;</span>\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitInline dijitTitleNode\"></span>\n\t</div>\n\t<div dojoAttachPoint=\"canvas\" class=\"dojoxFloatingPaneCanvas\">\n\t\t<div dojoAttachPoint=\"containerNode\" role=\"region\" tabindex=\"-1\" class=\"${contentClass}\">\n\t\t</div>\n\t\t<span dojoAttachPoint=\"resizeHandle\" class=\"dojoxFloatingResizeHandle\"></span>\n\t</div>\n</div>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:{type:"innerHTML",node:"titleNode"}}),postCreate:function $DwX_(){this.inherited(arguments);new dojo.dnd.Moveable(this.domNode,{handle:this.focusNode});if(!this.dockable){this.dockNode.style.display="none";}if(!this.closable){this.closeNode.style.display="none";}if(!this.maxable){this.maxNode.style.display="none";this.restoreNode.style.display="none";}if(!this.resizable){this.resizeHandle.style.display="none";}else{this.domNode.style.width=dojo.marginBox(this.domNode).w+"px";}this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new dijit.BackgroundIframe(this.domNode);this._naturalState=dojo.coords(this.domNode);},startup:function $DwY_(){if(this._started){return;}this.inherited(arguments);if(this.resizable){if(dojo.isIE){this.canvas.style.overflow="auto";}else{this.containerNode.style.overflow="auto";}this._resizeHandle=new dojox.layout.ResizeHandle({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle);}if(this.dockable){var _6d2=this.dockTo;if(this.dockTo){this.dockTo=dijit.byId(this.dockTo);}else{this.dockTo=dijit.byId("dojoxGlobalFloatingDock");}if(!this.dockTo){var _6d3,_6d4;if(_6d2){_6d3=_6d2;_6d4=dojo.byId(_6d2);}else{_6d4=dojo.create("div",null,dojo.body());dojo.addClass(_6d4,"dojoxFloatingDockDefault");_6d3="dojoxGlobalFloatingDock";}this.dockTo=new dojox.layout.Dock({id:_6d3,autoPosition:"south"},_6d4);this.dockTo.startup();}if((this.domNode.style.display=="none")||(this.domNode.style.visibility=="hidden")){this.minimize();}}this.connect(this.focusNode,"onmousedown","bringToTop");this.connect(this.domNode,"onmousedown","bringToTop");this.resize(dojo.coords(this.domNode));this._started=true;},setTitle:function $DwZ_(_6d5){dojo.deprecated("pane.setTitle","Use pane.set('title', someTitle)","2.0");this.set("title",_6d5);},close:function $Dwa_(){if(!this.closable){return;}dojo.unsubscribe(this._listener);this.hide(dojo.hitch(this,function(){this.destroyRecursive();}));},hide:function $Dwb_(_6d6){dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null);}if(_6d6){_6d6();}})}).play();},show:function $Dwc_(_6d7){var anim=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility="visible";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null);}if(typeof _6d7=="function"){_6d7();}this._isDocked=false;if(this._dockNode){this._dockNode.destroy();this._dockNode=null;}})}).play();this.resize(dojo.coords(this.domNode));this._onShow();},minimize:function $Dwd_(){if(!this._isDocked){this.hide(dojo.hitch(this,"_dock"));}},maximize:function $Dwe_(){if(this._maximized){return;}this._naturalState=dojo.position(this.domNode);if(this._isDocked){this.show();setTimeout(dojo.hitch(this,"maximize"),this.duration);}dojo.addClass(this.focusNode,"floatingPaneMaximized");this.resize(dojo.window.getBox());this._maximized=true;},_restore:function $Dwf_(){if(this._maximized){this.resize(this._naturalState);dojo.removeClass(this.focusNode,"floatingPaneMaximized");this._maximized=false;}},_dock:function $Dwg_(){if(!this._isDocked&&this.dockable){this._dockNode=this.dockTo.addNode(this);this._isDocked=true;}},resize:function $Dwh_(dim){dim=dim||this._naturalState;this._currentState=dim;var dns=this.domNode.style;if("t" in dim){dns.top=dim.t+"px";}if("l" in dim){dns.left=dim.l+"px";}dns.width=dim.w+"px";dns.height=dim.h+"px";var _6d8={l:0,t:0,w:dim.w,h:(dim.h-this.focusNode.offsetHeight)};dojo.marginBox(this.canvas,_6d8);this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){this._singleChild.resize(_6d8);}},bringToTop:function $Dwi_(){var _6d9=dojo.filter(this._allFPs,function(i){return i!==this;},this);_6d9.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_6d9.push(this);dojo.forEach(_6d9,function(w,x){w.domNode.style.zIndex=this._startZ+(x*2);dojo.removeClass(w.domNode,"dojoxFloatingPaneFg");},this);dojo.addClass(this.domNode,"dojoxFloatingPaneFg");},destroy:function $Dwj_(){this._allFPs.splice(dojo.indexOf(this._allFPs,this),1);if(this._resizeHandle){this._resizeHandle.destroy();}this.inherited(arguments);}});dojo.declare("dojox.layout.Dock",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dojoxDock\"><ul dojoAttachPoint=\"containerNode\" class=\"dojoxDockList\"></ul></div>",_docked:[],_inPositioning:false,autoPosition:false,addNode:function $Dwk_(_6da){var div=dojo.create("li",null,this.containerNode),node=new dojox.layout._DockNode({title:_6da.title,paneRef:_6da},div);node.startup();return node;},startup:function $Dwl_(){if(this.id=="dojoxGlobalFloatingDock"||this.isFixedDock){this.connect(window,"onresize","_positionDock");this.connect(window,"onscroll","_positionDock");if(dojo.isIE){this.connect(this.domNode,"onresize","_positionDock");}}this._positionDock(null);this.inherited(arguments);},_positionDock:function $Dwm_(e){if(!this._inPositioning){if(this.autoPosition=="south"){setTimeout(dojo.hitch(this,function(){this._inPositiononing=true;var _6db=dojo.window.getBox();var s=this.domNode.style;s.left=_6db.l+"px";s.width=(_6db.w-2)+"px";s.top=(_6db.h+_6db.t)-this.domNode.offsetHeight+"px";this._inPositioning=false;}),125);}}}});dojo.declare("dojox.layout._DockNode",[dijit._Widget,dijit._Templated],{title:"",paneRef:null,templateString:"<li dojoAttachEvent=\"onclick: restore\" class=\"dojoxDockNode\">"+"<span dojoAttachPoint=\"restoreNode\" class=\"dojoxDockRestoreButton\" dojoAttachEvent=\"onclick: restore\"></span>"+"<span class=\"dojoxDockTitleNode\" dojoAttachPoint=\"titleNode\">${title}</span>"+"</li>",restore:function $Dwn_(){this.paneRef.show();this.paneRef.bringToTop();this.destroy();}});}if(!dojo._hasResource["betterform.BfRequiredMinimal"]){dojo._hasResource["betterform.BfRequiredMinimal"]=true;dojo.provide("betterform.BfRequiredMinimal");}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function $DB39_(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function $DB4A_(_6dc,_6dd){var _6de=[];function _6df(attr,dir,comp,s){return function(_6e0,_6e1){var a=s.getValue(_6e0,attr);var b=s.getValue(_6e1,attr);return dir*comp(a,b);};};var _6e2;var map=_6dd.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_6dc.length;i++){_6e2=_6dc[i];var attr=_6e2.attribute;if(attr){var dir=(_6e2.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_6de.push(_6df(attr,dir,comp,_6dd));}}return function(rowA,rowB){var i=0;while(i<_6de.length){var ret=_6de[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function $DB4B_(_6e3){_6e3=_6e3||{};if(!_6e3.store){_6e3.store=this;}var self=this;var _6e4=function(_6e5,_6e6){if(_6e6.onError){var _6e7=_6e6.scope||dojo.global;_6e6.onError.call(_6e7,_6e5,_6e6);}};var _6e8=function(_6e9,_6ea){var _6eb=_6ea.abort||null;var _6ec=false;var _6ed=_6ea.start?_6ea.start:0;var _6ee=(_6ea.count&&(_6ea.count!==Infinity))?(_6ed+_6ea.count):_6e9.length;_6ea.abort=function $DB4C_(){_6ec=true;if(_6eb){_6eb.call(_6ea);}};var _6ef=_6ea.scope||dojo.global;if(!_6ea.store){_6ea.store=self;}if(_6ea.onBegin){_6ea.onBegin.call(_6ef,_6e9.length,_6ea);}if(_6ea.sort){_6e9.sort(dojo.data.util.sorter.createSortFunction(_6ea.sort,self));}if(_6ea.onItem){for(var i=_6ed;(i<_6e9.length)&&(i<_6ee);++i){var item=_6e9[i];if(!_6ec){_6ea.onItem.call(_6ef,item,_6ea);}}}if(_6ea.onComplete&&!_6ec){var _6f0=null;if(!_6ea.onItem){_6f0=_6e9.slice(_6ed,_6ee);}_6ea.onComplete.call(_6ef,_6f0,_6ea);}};this._fetchItems(_6e3,_6e8,_6e4);return _6e3;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function $DB4D_(_6f1,_6f2){var rxp="^";var c=null;for(var i=0;i<_6f1.length;i++){c=_6f1.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_6f1.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_6f2){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",dijit._HasDropDown,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",dropDownClass:"dijit.form._ComboBoxMenu",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},maxHeight:-1,_stopClickEvents:false,_getCaretPos:function $DDA_(_6f3){var pos=0;if(typeof (_6f3.selectionStart)=="number"){pos=_6f3.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_6f3.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function $DDB_(_6f4,_6f5){_6f5=parseInt(_6f5);dijit.selectInputText(_6f4,_6f5,_6f5);},_setDisabledAttr:function $DDC_(_6f6){this.inherited(arguments);dijit.setWaiState(this.domNode,"disabled",_6f6);},_abortQuery:function $DDD_(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onInput:function $DDE_(evt){if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){this.searchTimer=setTimeout(dojo.hitch(this,function(){this._onKey({charOrCode:229});}),100);}this.inherited(arguments);},_onKey:function $DDF_(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _6f7=false;var pw=this.dropDown;var dk=dojo.keys;var _6f8=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_6f8=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(this._opened){this._announceOption(_6f8);}dojo.stopEvent(evt);break;case dk.ENTER:if(_6f8){if(_6f8==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_6f8==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){evt.preventDefault();}case dk.TAB:var _6f9=this.get("displayedValue");if(pw&&(_6f9==pw._messages["previousMessage"]||_6f9==pw._messages["nextMessage"])){break;}if(_6f8){this._selectOption();}if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case " ":if(_6f8){dojo.stopEvent(evt);this._selectOption();this.closeDropDown();}else{_6f7=true;}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_6f7=true;break;default:_6f7=typeof key=="string"||key==229;}if(_6f7){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function $DDG_(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _6fa=this.ignoreCase?"toLowerCase":"substr";if(text[_6fa](0).indexOf(this.focusNode.value[_6fa](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function $DDH_(_6fb,_6fc){this._fetchHandle=null;if(this.disabled||this.readOnly||(_6fc.query[this.searchAttr]!=this._lastQuery)){return;}var _6fd=this.dropDown._highlighted_option&&dojo.hasClass(this.dropDown._highlighted_option,"dijitMenuItemSelected");this.dropDown.clearResultList();if(!_6fb.length&&!this._maxOptions){this.closeDropDown();return;}_6fc._maxOptions=this._maxOptions;var _6fe=this.dropDown.createOptions(_6fb,_6fc,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_6fc.direction){if(1==_6fc.direction){this.dropDown.highlightFirstOption();}else{if(-1==_6fc.direction){this.dropDown.highlightLastOption();}}if(_6fd){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_6fc.query[this.searchAttr])){this._announceOption(_6fe[1]);}}},_showResultList:function $DDI_(){this.closeDropDown(true);this.displayMessage("");this.openDropDown();dijit.setWaiState(this.domNode,"expanded","true");},loadDropDown:function $DDJ_(_6ff){this._startSearchAll();},isLoaded:function $DDK_(){return false;},closeDropDown:function $DDL_(){this._abortQuery();if(this._opened){this.inherited(arguments);dijit.setWaiState(this.domNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function $DDM_(){var _700=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_700==pw._messages["previousMessage"]||_700==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_700);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function $DDN_(){this.closeDropDown();this.inherited(arguments);},_setItemAttr:function $DDO_(item,_701,_702){if(!_702){_702=this.store.getValue(item,this.searchAttr);}var _703=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_702;this._set("item",item);dijit.form.ComboBox.superclass._setValueAttr.call(this,_703,_701,_702);},_announceOption:function $DDP_(node){if(!node){return;}var _704;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_704=node.innerHTML;this.item=undefined;this.value="";}else{_704=this.store.getValue(node.item,this.searchAttr).toString();this.set("item",node.item,false,_704);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_704);},_selectOption:function $DDQ_(evt){if(evt){this._announceOption(evt.target);}this.closeDropDown();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_startSearchAll:function $DDR_(){this._startSearch("");},_startSearchFromInput:function $DDS_(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function $DDT_(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function $DDU_(key){if(!this.dropDown){var _705=this.id+"_popup",_706=dojo.getObject(this.dropDownClass,false);this.dropDown=new _706({onChange:dojo.hitch(this,this._selectOption),id:_705,dir:this.dir});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_705);}var _707=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_707[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_708,_709){this.searchTimer=null;var _70a={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_708,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function $DDV_(_70b){_709._fetchHandle=null;console.error("dijit.form.ComboBox: "+_70b);_709.closeDropDown();},start:0,count:this.pageSize};dojo.mixin(_70a,_709.fetchProperties);this._fetchHandle=_709.store.fetch(_70a);var _70c=function(_70d,_70e){_70d.start+=_70d.count*_70e;_70d.direction=_70e;this._fetchHandle=this.store.fetch(_70d);this.focus();};this._nextSearch=this.dropDown.onPage=dojo.hitch(this,_70c,this._fetchHandle);},_707,this),this.searchDelay);},_setMaxOptions:function $DDW_(size,_70f){this._maxOptions=size;},_getValueField:function $DDX_(){return this.searchAttr;},constructor:function $DDY_(){this.query={};this.fetchProperties={};},postMixInProperties:function $DDZ_(){if(!this.store){var _710=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_710);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _711=this._getValueField();this.value=this.store.getValue(item,_711);}}}this.inherited(arguments);},postCreate:function $DDa_(){var _712=dojo.query("label[for=\""+this.id+"\"]");if(_712.length){_712[0].id=(this.id+"_label");dijit.setWaiState(this.domNode,"labelledby",_712[0].id);}this.inherited(arguments);},_setHasDownArrowAttr:function $DDb_(val){this.hasDownArrow=val;this._buttonNode.style.display=val?"":"none";},_getMenuLabelFromItem:function $DDc_(item){var _713=this.labelFunc(item,this.store),_714=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_713=this.doHighlight(_713,this._escapeHtml(this._lastInput));_714="html";}return {html:_714=="html",label:_713};},doHighlight:function $DDd_(_715,find){var _716=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=dojo.regexp.escapeString(find);return this._escapeHtml(_715).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_716),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function $DDe_(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function $DDf_(){this.item=null;this.inherited(arguments);},labelFunc:function $DDg_(item,_717){return _717.getValue(item,this.labelAttr||this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function $DDh_(){this.inherited(arguments);this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function $DDi_(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function $DDj_(_718){this.value=_718;this.onChange(_718);},onChange:function $DDk_(_719){},onPage:function $DDl_(_71a){},onClose:function $DDm_(){this._blurOptionNode();},_createOption:function $DDn_(item,_71b){var _71c=dojo.create("li",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});var _71d=_71b(item);if(_71d.html){_71c.innerHTML=_71d.label;}else{_71c.appendChild(dojo.doc.createTextNode(_71d.label));}if(_71c.innerHTML==""){_71c.innerHTML="&nbsp;";}_71c.item=item;return _71c;},createOptions:function $DDo_(_71e,_71f,_720){this.previousButton.style.display=(_71f.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_71e,function(item,i){var _721=this._createOption(item,_720);dojo.attr(_721,"id",this.id+i);this.domNode.insertBefore(_721,this.nextButton);},this);var _722=false;if(_71f._maxOptions&&_71f._maxOptions!=-1){if((_71f.start+_71f.count)<_71f._maxOptions){_722=true;}else{if((_71f.start+_71f.count)>_71f._maxOptions&&_71f.count==_71e.length){_722=true;}}}else{if(_71f.count==_71e.length){_722=true;}}this.nextButton.style.display=_722?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function $DDp_(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}this._blurOptionNode();},_onMouseDown:function $DDq_(evt){dojo.stopEvent(evt);},_onMouseUp:function $DDr_(evt){if(evt.target===this.domNode||!this._highlighted_option){return;}else{if(evt.target==this.previousButton){this._blurOptionNode();this.onPage(-1);}else{if(evt.target==this.nextButton){this._blurOptionNode();this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function $DDs_(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function $DDt_(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function $DDu_(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function $DDv_(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function $DDw_(){if(!this.getHighlightedOption()){var fc=this.domNode.firstChild;this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}else{this.highlightFirstOption();}}dojo.window.scrollIntoView(this._highlighted_option);},highlightFirstOption:function $DDx_(){var _723=this.domNode.firstChild;var _724=_723.nextSibling;this._focusOptionNode(_724.style.display=="none"?_723:_724);dojo.window.scrollIntoView(this._highlighted_option);},highlightLastOption:function $DDy_(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dojo.window.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function $DDz_(){if(!this.getHighlightedOption()){var lc=this.domNode.lastChild;this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}else{this.highlightLastOption();}}dojo.window.scrollIntoView(this._highlighted_option);},_page:function $DD0_(up){var _725=0;var _726=this.domNode.scrollTop;var _727=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_725<_727){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _728=this.domNode.scrollTop;_725+=(_728-_726)*(up?-1:1);_726=_728;}},pageUp:function $DD1_(){this._page(true);},pageDown:function $DD2_(){this._page(false);},getHighlightedOption:function $DD3_(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function $DD4_(evt){switch(evt.charOrCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();return false;case dojo.keys.PAGE_DOWN:this.pageDown();return false;case dojo.keys.UP_ARROW:this._highlightPrevOption();return false;case dojo.keys.PAGE_UP:this.pageUp();return false;default:return true;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function $DD5_(_729,_72a,_72b){this._set("item",null);if(!_729){_729="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_729,_72a,_72b);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function $DD6_(root){this.root=root;if(root.tagName!="SELECT"&&root.firstChild){root=dojo.query("select",root);if(root.length>0){root=root[0];}else{this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";root=this.root.firstChild;}this.root=root;}dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function $DD7_(item,_72c,_72d){return (_72c=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function $DD8_(_72e){return true;},getFeatures:function $DD9_(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function $DEA_(args,_72f,_730){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _731=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_732=dojo.query("> option",this.root).filter(function(_733){return (_733.innerText||_733.textContent||"").match(_731);});if(args.sort){_732.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_72f(_732,args);},close:function $DEB_(_734){return;},getLabel:function $DEC_(item){return item.innerHTML;},getIdentity:function $DED_(item){return dojo.attr(item,"value");},fetchItemByIdentity:function $DEE_(args){var item=dojo.query("> option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function $DEF_(){var root=this.root,si=root.selectedIndex;return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0]:null;}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{required:true,_lastDisplayedValue:"",_isValidSubset:function $DFs_(){return this._opened;},isValid:function $DFt_(){return this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function $DFu_(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function $DFv_(_735,_736,_737){if((_736&&_736.query[this.searchAttr]!=this._lastQuery)||(!_736&&_735.length&&this.store.getIdentity(_735[0])!=this._lastQuery)){return;}if(!_735.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_737||(_737===undefined&&!this._focused));this._set("item",null);this.validate(this._focused);}else{this.set("item",_735[0],_737);}},_openResultList:function $DFw_(_738,_739){if(_739.query[this.searchAttr]!=this._lastQuery){return;}dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function $DFx_(){return this.valueNode.value;},_getValueField:function $DFy_(){return "value";},_setValueAttr:function $DFz_(_73a,_73b){if(!this._onChangeActive){_73b=null;}this._lastQuery=_73a;if(_73a===null||_73a===""){this._setDisplayedValueAttr("",_73b);return;}var self=this;this.store.fetchItemByIdentity({identity:_73a,onItem:function $DF0_(item){self._callbackSetLabel(item?[item]:[],undefined,_73b);}});},_setItemAttr:function $DF1_(item,_73c,_73d){this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function $DF2_(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function $DF3_(_73e,_73f){if(_73e==null){_73e="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_73f=false;}if(this.store){this.closeDropDown();var _740=dojo.clone(this.query);this._lastQuery=_740[this.searchAttr]=this._getDisplayQueryString(_73e);this.textbox.value=_73e;this._lastDisplayedValue=_73e;this._set("displayedValue",_73e);var _741=this;var _742={query:_740,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function $DF4_(_743,_744){_741._fetchHandle=null;dojo.hitch(_741,"_callbackSetLabel")(_743,_744,_73f);},onError:function $DF5_(_745){_741._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_745);dojo.hitch(_741,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_742,this.fetchProperties);this._fetchHandle=this.store.fetch(_742);}},undo:function $DF6_(){this.set("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["betterform.ui.select.CheckBox"]){dojo._hasResource["betterform.ui.select.CheckBox"]=true;dojo.provide("betterform.ui.select.CheckBox");dojo.declare("betterform.ui.select.CheckBox",[dijit.form.CheckBox],{postMixInProperties:function $DBlQ_(){if(this.srcNodeRef!=undefined){this.currentValue=dojo.attr(this.srcNodeRef,"value");}this.checked=dojo.attr(this.srcNodeRef,"checked");this.inherited(arguments);if(this.selectWidgetId==undefined){this.selectWidgetId=dojo.attr(this.srcNodeRef,"selectWidgetId");}this.selectWidget=dijit.byId(this.selectWidgetId);},_onClick:function $DBlR_(e){this.inherited(arguments);if(this.selectWidget==undefined){var _746=this.domNode.parentNode;while(!dojo.hasClass(_746,"bfCheckBoxGroup")){_746=_746.parentNode;}this.selectWidget=dijit.byId(dojo.attr(_746,"id"));}if(this.selectWidget==undefined){console.error("CheckBox.onClick: Select (CheckBoxGroup) "+this.selectWidgetId+" could not be found");return;}this.selectWidget._setCheckBoxGroupValue();},getControlValue:function $DBlS_(){return this.currentValue;}});}if(!dojo._hasResource["betterform.ui.select.CheckBoxGroup"]){dojo._hasResource["betterform.ui.select.CheckBoxGroup"]=true;dojo.provide("betterform.ui.select.CheckBoxGroup");dojo.declare("betterform.ui.select.CheckBoxGroup",[betterform.ui.ControlValue],{widgetsInTemplate:true,buildRendering:function $DBlT_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DBlU_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);var _747=dojo.attr(this.srcNodeRef,"incremental");this.incremental=_747||_747==undefined||_747==""||_747=="true";var _748=dojo.query(".xfSelectorItem .xfCheckBoxValue",this.srcNodeRef);dojo.forEach(_748,function(item,_749,_74a){var _74b=dojo.attr(item,"id");if(_74b!=undefined&&(dojo.attr(item,"widgetId")==undefined||dojo.attr(item,"widgetId")=="")){fluxProcessor.factory.createWidget(item,_74b.split("-value")[0]);}});},_onFocus:function $DBlV_(){this.inherited(arguments);this.handleOnFocus();},focus:function $DBlW_(){var _74c=dojo.query(".dijitCheckBoxChecked",this.domNode);if(_74c.length>0){dojo.query(".xfCheckBoxLabel",_74c[0].parentNode)[0].focus();}else{dojo.query(".xfSelectorItem .xfCheckBoxLabel",this.domNode)[0].focus();}},_onBlur:function $DBlX_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBlY_(){var _74d="";var _74e=dojo.query(".dijitCheckBoxChecked .dijitCheckBoxInput",this.domNode);for(var _74f=_74e.length-1;_74f>=0;_74f--){var _750=_74e[_74f];var _751=dijit.byId(dojo.attr(_750,"id"));_74d=_751.getControlValue()+" "+_74d;}return _74d.replace(/\s+$/g,"");},_handleSetControlValue:function $DBlZ_(_752){var _753=new Array();_753=_752.split(" ");dojo.query(".dijitCheckBoxInput",this.domNode).forEach(function(_754){if(dojo.indexOf(_753,dijit.byId(_754.id).currentValue)!=-1){dijit.byId(_754.id).set("checked",true);}else{dijit.byId(_754.id).set("checked",false);}});},_setCheckBoxGroupValue:function $DBla_(){var _755=dojo.query(".dijitCheckBoxChecked .dijitCheckBoxInput",this.domNode);var ids=undefined;dojo.forEach(_755,function(item,_756,_757){var id=dojo.attr(item,"id");id=id.substring(0,id.length-6);if(ids==undefined){ids=id;}else{ids=ids+";"+id;}});if(ids==undefined){ids="";}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",ids);if(this.incremental){this.xfControl.setControlValue(this.getControlValue());}},applyState:function $DBlb_(){if(this.xfControl.isReadonly()){this.setDisabled(true);}else{this.setDisabled(false);}},setDisabled:function $DBlc_(_758){dojo.forEach(dojo.query(".xfSelectorItem",this.domNode),function(_759){var _75a=dojo.attr(_759,"id");var _75b=dijit.byId(_75a+"-value");if(_75b!=undefined){_75b.set("disabled",_758);}else{_75b=dojo.byId(_75a+"-value");if(_758){dojo.attr(_75b,"disabled",_758);}else{dojo.removeAttr(_75b,"disabled");}}});}});}if(!dojo._hasResource["dojox.xml.parser"]){dojo._hasResource["dojox.xml.parser"]=true;dojo.provide("dojox.xml.parser");dojox.xml.parser.parse=function $DBaY_(str,_75c){var _75d=dojo.doc;var doc;_75c=_75c||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _75e=new DOMParser();doc=_75e.parseFromString(str,_75c);var de=doc.documentElement;var _75f="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_75f){var _760=de.getElementsByTagNameNS(_75f,"sourcetext")[0];if(_760){_760=_760.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_760);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_75d.implementation&&_75d.implementation.createDocument){if(str&&dojo.trim(str)&&_75d.createElement){var tmp=_75d.createElement("xml");tmp.innerHTML=str;var _761=_75d.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_762){_761.importNode(_762,true);});return _761;}else{return _75d.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function $DBaZ_(node,text){if(arguments.length>1){var _763=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_763.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _764="";if(node){dojo.forEach(node.childNodes,function(_765){switch(_765.nodeType){case 1:case 5:_764+=dojox.xml.parser.textContent(_765);break;case 3:case 2:case 4:_764+=_765.nodeValue;}});}return _764;}};dojox.xml.parser.replaceChildren=function $DBaa_(node,_766){var _767=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_768){_767.push(_768);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_767,dojo.destroy);if(!dojo.isArray(_766)){node.appendChild(_766);}else{dojo.forEach(_766,function(_769){node.appendChild(_769);});}};dojox.xml.parser.removeChildren=function $DBab_(node){var _76a=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _76a;};dojox.xml.parser.innerXML=function $DBac_(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};}if(!dojo._hasResource["betterform.ui.select.OptGroup"]){dojo._hasResource["betterform.ui.select.OptGroup"]=true;dojo.provide("betterform.ui.select.OptGroup");dojo.declare("betterform.ui.select.OptGroup",dijit._Widget,{values:"",handleStateChanged:function $DBlK_(_76b){var _76c=dojo.byId(_76b.parentId);if(_76b.targetName=="label"&&_76c!=undefined){var _76d=dojo.byId(dojo.attr(this.domNode.parentNode,"id"));var i;for(i=0;i<_76d.length;i++){if(_76b.parentId==dojo.attr(_76d.options[i],"id")){_76d.options[i].text=_76b.value;}}}else{if(_76b.targetName=="value"&&_76c!=undefined){dojo.attr(_76c,"value",_76b.value);if(this.domNode!=undefined&&this.domNode.parentNode!=undefined&&this.domNode.parentNode.nodeName!=undefined&&this.domNode.parentNode.nodeName.toLowerCase()=="select"){var _76e=dijit.byId(dojo.attr(this.domNode.parentNode,"id"));if(_76e.currentValue==_76b.value){_76e._handleSetControlValue(_76b.value);}}else{}}else{}}},handleInsert:function $DBlL_(_76f){var _770=document.createElement("option");dojo.addClass(_770,"xfSelectorItem");var _771=_76f.generatedIds;var _772=dojo.query(".xfSelectorPrototype",dojo.byId(_76f.originalId+"-prototype"))[0];if(_771!=undefined){dojo.attr(_770,"id",_771[_76f.prototypeId]);if(_772!=undefined){var _773=_771[dojo.attr(_772,"title")];if(_773!=undefined){dojo.attr(_770,"title",_773);}var _774=_771[dojo.attr(_772,"value")];if(_774!=undefined){dojo.attr(_770,"value",_774);}_770.innerHTML=_772.innerHTML;}}if(_76f.label!=undefined){dojo.query(".xfSelectorItem",_770).addContent(_76f.label);}if(_76f.value!=undefined){dojo.attr(_770,"value",_76f.value);}dojo.place(_770,this.domNode,_76f.position);},handleDelete:function $DBlM_(_775){var _776=dojo.query(".xfSelectorItem",this.domNode)[_775.position-1];this.domNode.removeChild(_776);}});}if(!dojo._hasResource["dijit.form.MultiSelect"]){dojo._hasResource["dijit.form.MultiSelect"]=true;dojo.provide("dijit.form.MultiSelect");dojo.declare("dijit.form.MultiSelect",dijit.form._FormValueWidget,{size:7,templateString:"<select multiple='true' ${!nameAttrSetting} dojoAttachPoint='containerNode,focusNode' dojoAttachEvent='onchange: _onChange'></select>",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{size:"focusNode"}),reset:function $DGI_(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},addSelected:function $DGJ_(_777){_777.getSelected().forEach(function(n){this.containerNode.appendChild(n);this.domNode.scrollTop=this.domNode.offsetHeight;var _778=_777.domNode.scrollTop;_777.domNode.scrollTop=0;_777.domNode.scrollTop=_778;},this);},getSelected:function $DGK_(){return dojo.query("option",this.containerNode).filter(function(n){return n.selected;});},_getValueAttr:function $DGL_(){return this.getSelected().map(function(n){return n.value;});},multiple:true,_setValueAttr:function $DGM_(_779){dojo.query("option",this.containerNode).forEach(function(n){n.selected=(dojo.indexOf(_779,n.value)!=-1);});},invertSelection:function $DGN_(_77a){dojo.query("option",this.containerNode).forEach(function(n){n.selected=!n.selected;});this._handleOnChange(this.get("value"),_77a==true);},_onChange:function $DGO_(e){this._handleOnChange(this.get("value"),true);},resize:function $DGP_(size){if(size){dojo.marginBox(this.domNode,size);}},postCreate:function $DGQ_(){this._onChange();}});}if(!dojo._hasResource["betterform.ui.select.MultiSelect"]){dojo._hasResource["betterform.ui.select.MultiSelect"]=true;dojo.provide("betterform.ui.select.MultiSelect");dojo.declare("betterform.ui.select.MultiSelect",[betterform.ui.ControlValue,dijit.form.MultiSelect],{size:"",value:"",multiple:"",freeTextDijit:null,freeTextValue:"",openSelection:false,isServerUpdate:false,postMixInProperties:function $DBld_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}if(dojo.attr(this.srcNodeRef,"selection")!=undefined&&dojo.attr(this.srcNodeRef,"selection")=="open"){this.openSelection=true;}this.xfControl=dijit.byId(this.xfControlId);if(this.size==""||this.size<1){this.size=5;}},postCreate:function $DBle_(){this.inherited(arguments);var _77b=dojo.query("optgroup[controltype=\"optGroup\"]",this.domNode);if(_77b.length){for(var i=0;i<_77b.length;i++){var _77c=dijit.byId(_77b[i].id);if(!_77c){new betterform.ui.select.OptGroup({},_77b[i]);}}}this.setCurrentValue();if(this.openSelection){dojo.addClass(this.xfControl.domNode,"xfSelectOpen");var _77d=dojo.doc.createElement("div");dojo.addClass(_77d,"xfSelectFreeText");var _77e=dojo.doc.createElement("div");dojo.place(_77e,_77d);dojo.place(this.domNode,_77d);dojo.place(_77d,this.xfControl.domNode,1);this.freeTextDijit=new dijit.form.TextBox({},_77e);var _77f=dojo.attr(this.srcNodeRef,"schemavalue");if(_77f&&_77f!=""){var _780=_77f.split(" ");var _781=this.get("value").join(" ");var _782=new Array();for(i=0;i<_780.length;i++){if(_781.indexOf(_780[i])==-1){_782.push(_780[i]);}}this.freeTextDijit.set("value",_782.join(" "));}dojo.connect(this.freeTextDijit,"_handleOnChange",this,"_textFieldValueChanged");}},_textFieldValueChanged:function $DBlf_(_783,_784){if(this.isServerUpdate){return;}else{this.freeTextValue=_783;this.setControlValue();}},focus:function $DBlg_(){this.inherited(arguments);},_onFocus:function $DBlh_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBli_(){this.inherited(arguments);this.handleOnBlur();},applyState:function $DBlj_(){if(this.xfControl.isReadonly()){this.set("disabled",true);if(this.openSelection){dojo.attr(this.freeTextDijit.domNode,"disabled",true);}}else{this.set("disabled",false);if(this.openSelection){dojo.attr(this.freeTextDijit.domNode,"disabled",false);}}},getControlValue:function $DBlk_(){var _785=this.get("value").join(" ");if(this.openSelection){if(this.freeTextValue==""&&_785==undefined){_785="";}else{if(this.freeTextValue!=""&&_785!=undefined&&_785!=""){_785=_785+" "+this.freeTextValue;}else{if(this.freeTextValue!=""){_785=this.freeTextValue;}}}}return _785;},onChange:function $DBll_(evt){this.inherited(arguments);var _786=this.getSelected();var ids=undefined;dojo.forEach(_786,function(item,_787,_788){var _789=dojo.attr(item,"id");if(ids==undefined){ids=_789;}else{ids=ids+";"+_789;}});if(ids==undefined){ids="";}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",ids);if(this.incremental){this.setControlValue();}},_handleSetControlValue:function $DBlm_(_78a){var _78b=new Array();_78b=_78a.split(" ");if(this.openSelection){var _78c=dojo.query(".xfSelectorItem",this.domNode);var _78d="";dojo.forEach(_78b,function(_78e,_78f,_790){var _791=false;dojo.forEach(_78c,function(_792,_793,_794){if(dojo.attr(_792,"value")==_78e){_791=true;}});if(!_791){if(_78d==undefined){_78d=_78e;}else{_78d=_78d+" "+_78e;}}});this.freeTextValue=_78d;this.isServerUpdate=true;this.freeTextDijit._setValueAttr(_78d);this.isServerUpdate=false;}this._setValueAttr(_78b);}});}if(!dojo._hasResource["betterform.ui.select.CheckBoxItemset"]){dojo._hasResource["betterform.ui.select.CheckBoxItemset"]=true;dojo.provide("betterform.ui.select.CheckBoxItemset");dojo.declare("betterform.ui.select.CheckBoxItemset",[dijit._Widget],{values:"",widgetsInTemplate:true,handleStateChanged:function $DBlN_(_795){if(_795.targetName=="label"){dojo.byId(_795.parentId+"-label").innerHTML=_795.value;}else{if(_795.targetName=="value"){dojo.attr(dojo.byId(_795.parentId+"-value"),"value",_795.value);dijit.byId(_795.parentId+"-value").currentValue=_795.value;if(dojo.hasClass(this.domNode.parentNode,"CheckBoxGroup")){var _796=dijit.byId(dojo.attr(this.domNode.parentNode,"id"));if(_796.currentValue==_795.value){_796._handleSetControlValue(_795.value);}}}else{}}},handleInsert:function $DBlO_(_797){var _798=document.createElement("span");var _799=_797.generatedIds;var _79a=_799[_797.prototypeId];dojo.attr(_798,"id",_79a);dojo.addClass(_798,"xfSelectorItem");var _79b=this.domNode.parentNode;while(!dojo.hasClass(_79b,"bfCheckBoxGroup")){_79b=_79b.parentNode;}var _79c=new betterform.ui.select.CheckBox({id:_79a+"-value","class":"xfCheckBoxValue",type:"checkbox",value:_797.value,selectWidgetId:_79b.id,dojoType:"betterform.ui.select.CheckBox"},document.createElement("div"));dojo.place(_79c.domNode,_798);var _79d=document.createElement("span");dojo.addClass(_79d,"xfCheckBoxLabel");dojo.attr(_79d,"id",_79a+"-label");_79d.innerHTML=_797.label;dojo.place(_79d,_798);dojo.place(_798,this.domNode,_797.position);},handleDelete:function $DBlP_(_79e){var _79f=dojo.query(".xfSelectorItem",this.domNode)[_79e.position-1];this.domNode.removeChild(_79f);}});}if(!dojo._hasResource["betterform.ui.select1.ComboBox"]){dojo._hasResource["betterform.ui.select1.ComboBox"]=true;dojo.provide("betterform.ui.select1.ComboBox");dojo.declare("betterform.ui.select1.ComboBox",betterform.ui.ControlValue,{buildRendering:function $DBks_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DBkt_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);var _7a0=dojo.attr(this.srcNodeRef,"incremental");if(_7a0==undefined||_7a0==""||_7a0=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DBku_(){dojo.connect(this.domNode,"onchange",this,"_onChange");var _7a1=dojo.query("optgroup[controltype=\"optGroup\"]",this.domNode);if(_7a1.length){for(var i=0;i<_7a1.length;i++){var _7a2=dijit.byId(_7a1[i].id);if(!_7a2){new betterform.ui.select.OptGroup({},_7a1[i]);}}}this.setCurrentValue();},focus:function $DBkv_(){this.domNode.focus();},_onFocus:function $DBkw_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBkx_(){this.inherited(arguments);this.handleOnBlur();},_onChange:function $DBky_(){var _7a3=this.domNode.options[this.domNode.selectedIndex];fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_7a3,"id"));if(this.incremental){this.setControlValue();}},getControlValue:function $DBkz_(){if(this.domNode.selectedIndex!=-1&&this.domNode.options!=undefined){var _7a4=this.domNode.options[this.domNode.selectedIndex];return dojo.attr(_7a4,"value");}else{return null;}},_handleSetControlValue:function $DBk0_(_7a5){for(i=0;i<this.domNode.options.length;i++){if(this.domNode.options[i].value==_7a5){this.domNode.selectedIndex=i;}}},applyState:function $DBk1_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"disabled","disabled");}else{this.domNode.removeAttribute("disabled");}}});}if(!dojo._hasResource["betterform.ui.select1._ComboBoxMenu"]){dojo._hasResource["betterform.ui.select1._ComboBoxMenu"]=true;dojo.provide("betterform.ui.select1._ComboBoxMenu");dojo.declare("betterform.ui.select1._ComboBoxMenu",dijit.form._ComboBoxMenu,{createOptions:function $DBkG_(_7a6,_7a7,_7a8){dojo.forEach(_7a6,function(item){var _7a9=dojo.attr(item,"id");if(_7a9){var _7aa=dojo.byId(_7a9);dojo.attr(item,"value",dojo.attr(_7aa,"value"));item.innerHTML=_7aa.innerHTML;}});this.previousButton.style.display=(_7a7.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_7a6,function(item,i){var _7ab=this._createOption(item,_7a8);dojo.attr(_7ab,"id",this.id+i);this.domNode.insertBefore(_7ab,this.nextButton);},this);var _7ac=false;if(_7a7._maxOptions&&_7a7._maxOptions!=-1){if((_7a7.start+_7a7.count)<_7a7._maxOptions){_7ac=true;}else{if((_7a7.start+_7a7.count)>_7a7._maxOptions&&_7a7.count==_7a6.length){_7ac=true;}}}else{if(_7a7.count==_7a6.length){_7ac=true;}}this.nextButton.style.display=_7ac?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;}});}if(!dojo._hasResource["betterform.ui.select1.ComboBoxOpen"]){dojo._hasResource["betterform.ui.select1.ComboBoxOpen"]=true;dojo.provide("betterform.ui.select1.ComboBoxOpen");dojo.declare("betterform.ui.select1.ComboBoxOpen",[betterform.ui.ControlValue,dijit.form.ComboBox],{options:null,optgroups:null,postMixInProperties:function $DBkM_(){this.optgroups=dojo.query(".xfOptGroup",this.srcNodeRef);var _7ad=0;for(_7ad;_7ad<this.optgroups.length;_7ad++){var _7ae=this.optgroups[_7ad];var _7af=dojo.query(".xfSelectorItem",_7ae);var _7b0=this.srcNodeRef;dojo.forEach(_7af,function(item){dojo.place(item,_7b0,"last");});this.srcNodeRef=_7b0;}this.options=dojo.query("*[value]",this.srcNodeRef);var _7b1=dojo.clone(this.srcNodeRef);dojo.attr(_7b1,"id",this.id+"-proto");dojo.style(_7b1,"display","none");dojo.place(_7b1,dojo.body(),"last");this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DBkN_(){this.inherited(arguments);var _7b2=dojo.query("*[selected]",this.srcNodeRef)[0];if(_7b2!=undefined){var _7b3=dojo.attr(_7b2,"value");var _7b4=_7b2.innerHTML;this.setCurrentValue(_7b3);this.focusNode.value=_7b4;}else{var _7b5=dojo.attr(this.srcNodeRef,"schemavalue");this.setCurrentValue(_7b5);this.focusNode.value=_7b5;}},_onFocus:function $DBkO_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBkP_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBkQ_(){var _7b6;var _7b7=dojo.attr(this.focusNode,"value");var _7b8=this.focusNode;dojo.forEach(this.options,function(_7b9){if(!dojo.isIE<=8&&_7b9.innerHTML==_7b7){_7b6=dojo.attr(_7b9,"value");}else{if(dojo.isIE<=8&&dojo.attr(_7b9,"value")==_7b7){_7b6=_7b7;dojo.attr(_7b8,"value",_7b9.innerHTML);}}});if(_7b6!=undefined){return _7b6;}else{if(_7b7!=undefined){return _7b7;}else{return "";}}},onChange:function $DBkR_(evt){this.inherited(arguments);var _7ba;var _7bb=this.focusNode.value;dojo.forEach(this.options,function(_7bc){if(_7bc.innerHTML==_7bb){_7ba=_7bc;}});if(_7ba!=undefined){fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_7ba,"id"));}if(this.incremental){this.setControlValue();}},applyState:function $DBkS_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"disabled","disabled");}else{this.domNode.removeAttribute("disabled");}},_handleSetControlValue:function $DBkT_(_7bd){var _7be;dojo.forEach(this.options,function(_7bf){if(dojo.attr(_7bf,"value")==_7bd){_7be=_7bf.innerHTML;}});if(_7be!=undefined){this.focusNode.value=_7be;}else{if(_7bd!=undefined){this.focusNode.value=_7bd;}else{this.focusNode.value="";}}}});}if(!dojo._hasResource["dijit.form._FormSelectWidget"]){dojo._hasResource["dijit.form._FormSelectWidget"]=true;dojo.provide("dijit.form._FormSelectWidget");dojo.declare("dijit.form._FormSelectWidget",dijit.form._FormValueWidget,{multiple:false,options:null,store:null,query:null,queryOptions:null,onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,getOptions:function $DBr_(_7c0){var _7c1=_7c0,opts=this.options||[],l=opts.length;if(_7c1===undefined){return opts;}if(dojo.isArray(_7c1)){return dojo.map(_7c1,"return this.getOptions(item);",this);}if(dojo.isObject(_7c0)){if(!dojo.some(this.options,function(o,idx){if(o===_7c1||(o.value&&o.value===_7c1.value)){_7c1=idx;return true;}return false;})){_7c1=-1;}}if(typeof _7c1=="string"){for(var i=0;i<l;i++){if(opts[i].value===_7c1){_7c1=i;break;}}}if(typeof _7c1=="number"&&_7c1>=0&&_7c1<l){return this.options[_7c1];}return null;},addOption:function $DBs_(_7c2){if(!dojo.isArray(_7c2)){_7c2=[_7c2];}dojo.forEach(_7c2,function(i){if(i&&dojo.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function $DBt_(_7c3){if(!dojo.isArray(_7c3)){_7c3=[_7c3];}var _7c4=this.getOptions(_7c3);dojo.forEach(_7c4,function(i){if(i){this.options=dojo.filter(this.options,function(node,idx){return (node.value!==i.value||node.label!==i.label);});this._removeOptionItem(i);}},this);this._loadChildren();},updateOption:function $DBu_(_7c5){if(!dojo.isArray(_7c5)){_7c5=[_7c5];}dojo.forEach(_7c5,function(i){var _7c6=this.getOptions(i),k;if(_7c6){for(k in i){_7c6[k]=i[k];}}},this);this._loadChildren();},setStore:function $DBv_(_7c7,_7c8,_7c9){var _7ca=this.store;_7c9=_7c9||{};if(_7ca!==_7c7){dojo.forEach(this._notifyConnections||[],dojo.disconnect);delete this._notifyConnections;if(_7c7&&_7c7.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[dojo.connect(_7c7,"onNew",this,"_onNewItem"),dojo.connect(_7c7,"onDelete",this,"_onDeleteItem"),dojo.connect(_7c7,"onSet",this,"_onSetItem")];}this._set("store",_7c7);}this._onChangeActive=false;if(this.options&&this.options.length){this.removeOption(this.options);}if(_7c7){this._loadingStore=true;_7c7.fetch(dojo.delegate(_7c9,{onComplete:function $DBw_(_7cb,opts){if(this.sortByLabel&&!_7c9.sort&&_7cb.length){_7cb.sort(dojo.data.util.sorter.createSortFunction([{attribute:_7c7.getLabelAttributes(_7cb[0])[0]}],_7c7));}if(_7c9.onFetch){_7cb=_7c9.onFetch.call(this,_7cb,opts);}dojo.forEach(_7cb,function(i){this._addOptionForItem(i);},this);this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_7c8);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_7cb);}this._fetchedWith=opts;this._lastValueReported=this.multiple?[]:null;this._onChangeActive=true;this.onSetStore();this._handleOnChange(this.value);},scope:this}));}else{delete this._fetchedWith;}return _7ca;},_setValueAttr:function $DBx_(_7cc,_7cd){if(this._loadingStore){this._pendingValue=_7cc;return;}var opts=this.getOptions()||[];if(!dojo.isArray(_7cc)){_7cc=[_7cc];}dojo.forEach(_7cc,function(i,idx){if(!dojo.isObject(i)){i=i+"";}if(typeof i==="string"){_7cc[idx]=dojo.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_7cc=dojo.filter(_7cc,function(i){return i&&i.value;});if(!this.multiple&&(!_7cc[0]||!_7cc[0].value)&&opts.length){_7cc[0]=opts[0];}dojo.forEach(opts,function(i){i.selected=dojo.some(_7cc,function(v){return v.value===i.value;});});var val=dojo.map(_7cc,function(i){return i.value;}),disp=dojo.map(_7cc,function(i){return i.label;});this._set("value",this.multiple?val:val[0]);this._setDisplay(this.multiple?disp:disp[0]);this._updateSelection();this._handleOnChange(this.value,_7cd);},_getDisplayedValueAttr:function $DBy_(){var val=this.get("value");if(!dojo.isArray(val)){val=[val];}var ret=dojo.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_loadChildren:function $DBz_(){if(this._loadingStore){return;}dojo.forEach(this._getChildren(),function(_7ce){_7ce.destroyRecursive();});dojo.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function $DB0_(){this._set("value",this._getValueFromOpts());var val=this.value;if(!dojo.isArray(val)){val=[val];}if(val&&val[0]){dojo.forEach(this._getChildren(),function(_7cf){var _7d0=dojo.some(val,function(v){return _7cf.option&&(v===_7cf.option.value);});dojo.toggleClass(_7cf.domNode,this.baseClass+"SelectedOption",_7d0);dijit.setWaiState(_7cf.domNode,"selected",_7d0);},this);}},_getValueFromOpts:function $DB1_(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=dojo.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return dojo.map(dojo.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function $DB2_(item,_7d1){if(!_7d1||!_7d1.parent){this._addOptionForItem(item);}},_onDeleteItem:function $DB3_(item){var _7d2=this.store;this.removeOption(_7d2.getIdentity(item));},_onSetItem:function $DB4_(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function $DB5_(item){var _7d3=this.store,_7d4=_7d3.getLabel(item),_7d5=(_7d4?_7d3.getIdentity(item):null);return {value:_7d5,label:_7d4,item:item};},_addOptionForItem:function $DB6_(item){var _7d6=this.store;if(!_7d6.isItemLoaded(item)){_7d6.loadItem({item:item,onComplete:function(i){this._addOptionForItem(item);},scope:this});return;}var _7d7=this._getOptionObjForItem(item);this.addOption(_7d7);},constructor:function $DB7_(_7d8){this._oValue=(_7d8||{}).value||null;},buildRendering:function $DB8_(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function $DB9_(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?dojo.query(">",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+dojo._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this_set("value",this.value.split(","));}}},postCreate:function $DCA_(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");this.connect(this,"startup","_loadChildren");this._setValueAttr(this.value,null);},startup:function $DCB_(){this.inherited(arguments);var _7d9=this.store,_7da={};dojo.forEach(["query","queryOptions","onFetch"],function(i){if(this[i]){_7da[i]=this[i];}delete this[i];},this);if(_7d9&&_7d9.getFeatures()["dojo.data.api.Identity"]){this.store=null;this.setStore(_7d9,this._oValue,_7da);}},destroy:function $DCC_(){dojo.forEach(this._notifyConnections||[],dojo.disconnect);this.inherited(arguments);},_addOptionItem:function $DCD_(_7db){},_removeOptionItem:function $DCE_(_7dc){},_setDisplay:function $DCF_(_7dd){},_getChildren:function $DCG_(){return [];},_getSelectedOptionsAttr:function $DCH_(){return this.getOptions(this.get("value"));},_pseudoLoadChildren:function $DCI_(_7de){},onSetStore:function $DCJ_(){}});}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",dijit._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function $DGd_(_7df,_7e0){var _7e1=(this._keyNavCodes={});var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_7df,function(code){_7e1[code]=prev;});dojo.forEach(_7e0,function(code){_7e1[code]=next;});_7e1[dojo.keys.HOME]=dojo.hitch(this,"focusFirstChild");_7e1[dojo.keys.END]=dojo.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function $DGe_(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function $DGf_(_7e2,_7e3){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_7e2);},focus:function $DGg_(){this.focusFirstChild();},focusFirstChild:function $DGh_(){var _7e4=this._getFirstFocusableChild();if(_7e4){this.focusChild(_7e4);}},focusLastChild:function $DGi_(){var _7e5=this._getLastFocusableChild();if(_7e5){this.focusChild(_7e5);}},focusNext:function $DGj_(){var _7e6=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_7e6);},focusPrev:function $DGk_(){var _7e7=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_7e7,true);},focusChild:function $DGl_(_7e8,last){if(this.focusedChild&&_7e8!==this.focusedChild){this._onChildBlur(this.focusedChild);}_7e8.set("tabIndex",this.tabIndex);_7e8.focus(last?"end":"start");this._set("focusedChild",_7e8);},_startupChild:function $DGm_(_7e9){_7e9.set("tabIndex","-1");this.connect(_7e9,"_onFocus",function(){_7e9.set("tabIndex",this.tabIndex);});this.connect(_7e9,"_onBlur",function(){_7e9.set("tabIndex","-1");});},_onContainerFocus:function $DGn_(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.attr(this.domNode,"tabIndex","-1");},_onBlur:function $DGo_(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function $DGp_(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onChildBlur:function $DGq_(_7ea){},_getFirstFocusableChild:function $DGr_(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function $DGs_(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function $DGt_(_7eb,dir){if(_7eb){_7eb=this._getSiblingOfChild(_7eb,dir);}var _7ec=this.getChildren();for(var i=0;i<_7ec.length;i++){if(!_7eb){_7eb=_7ec[(dir>0)?0:(_7ec.length-1)];}if(_7eb.isFocusable()){return _7eb;}_7eb=this._getSiblingOfChild(_7eb,dir);}return null;}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/MenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitMenuItem",label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function $DQ7_(_7ed){if(_7ed&&!("label" in this.params)){this.set("label",_7ed.innerHTML);}},buildRendering:function $DQ8_(){this.inherited(arguments);var _7ee=this.id+"_text";dojo.attr(this.containerNode,"id",_7ee);if(this.accelKeyNode){dojo.attr(this.accelKeyNode,"id",this.id+"_accel");_7ee+=" "+this.id+"_accel";}dijit.setWaiState(this.domNode,"labelledby",_7ee);dojo.setSelectable(this.domNode,false);},_onHover:function $DQ9_(){this.getParent().onItemHover(this);},_onUnhover:function $DRA_(){this.getParent().onItemUnhover(this);this._set("hovering",false);},_onClick:function $DRB_(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function $DRC_(evt){},focus:function $DRD_(){try{if(dojo.isIE==8){this.containerNode.focus();}dijit.focus(this.focusNode);}catch(e){}},_onFocus:function $DRE_(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function $DRF_(_7ef){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_7ef);},setLabel:function $DRG_(_7f0){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_7f0);},setDisabled:function $DRH_(_7f1){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_7f1);},_setDisabledAttr:function $DRI_(_7f2){dijit.setWaiState(this.focusNode,"disabled",_7f2?"true":"false");this._set("disabled",_7f2);},_setAccelKeyAttr:function $DRJ_(_7f3){this.accelKeyNode.style.display=_7f3?"":"none";this.accelKeyNode.innerHTML=_7f3;dojo.attr(this.containerNode,"colSpan",_7f3?"1":"2");this._set("accelKey",_7f3);}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function $DUb_(){if(this.srcNodeRef){var _7f4=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_7f4[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function $DUc_(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function $DUd_(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:dojo.cache("dijit","templates/CheckedMenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&nbsp;</td>\n</tr>\n"),checked:false,_setCheckedAttr:function $DWe_(_7f5){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_7f5);dijit.setWaiState(this.domNode,"checked",_7f5);this._set("checked",_7f5);},onChange:function $DWf_(_7f6){},_onClick:function $DWg_(e){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuSeparator.html","<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n"),buildRendering:function $DPy_(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function $DPz_(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function $DRs_(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_7f7){_7f7.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function $DRt_(){},onCancel:function $DRu_(_7f8){},_moveToPopup:function $DRv_(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _7f9=this._getTopMenu();if(_7f9&&_7f9._isMenuBar){_7f9.focusNext();}}},_onPopupHover:function $DRw_(evt){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _7fa=this.currentPopup.parentMenu;if(_7fa.focusedChild){_7fa.focusedChild._setSelected(false);}_7fa.focusedChild=this.currentPopup.from_item;_7fa.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function $DRx_(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function $DRy_(item){this._stopPopupTimer();item._setSelected(false);var _7fb=item.popup;if(_7fb){this._stopPendingCloseTimer(_7fb);_7fb._pendingClose_timer=setTimeout(function(){_7fb._pendingClose_timer=null;if(_7fb.parentMenu){_7fb.parentMenu.currentPopup=null;}dijit.popup.close(_7fb);},this.popupDelay);}},onItemUnhover:function $DRz_(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function $DR0_(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_stopPendingCloseTimer:function $DR1_(_7fc){if(_7fc._pendingClose_timer){clearTimeout(_7fc._pendingClose_timer);_7fc._pendingClose_timer=null;}},_stopFocusTimer:function $DR2_(){if(this._focus_timer){clearTimeout(this._focus_timer);this._focus_timer=null;}},_getTopMenu:function $DR3_(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function $DR4_(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function $DR5_(){this._stopPopupTimer();var _7fd=this.focusedChild;if(!_7fd){return;}var _7fe=_7fd.popup;if(_7fe.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);dijit.popup.close(this.currentPopup);}_7fe.parentMenu=this;_7fe.from_item=_7fd;var self=this;dijit.popup.open({parent:this,popup:_7fe,around:_7fd.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"}:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"}),onCancel:function $DR6_(){self.focusChild(_7fd);self._cleanUp();_7fd._setSelected(true);self.focusedChild=_7fd;},onExecute:dojo.hitch(this,"_cleanUp")});this.currentPopup=_7fe;_7fe.connect(_7fe.domNode,"onmouseenter",dojo.hitch(self,"_onPopupHover"));if(_7fe.focus){_7fe._focus_timer=setTimeout(dojo.hitch(_7fe,function(){this._focus_timer=null;this.focus();}),0);}},_markActive:function $DR7_(){this.isActive=true;dojo.replaceClass(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function $DR8_(e){this.isShowingNow=true;this._markActive();},_markInactive:function $DR9_(){this.isActive=false;dojo.replaceClass(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function $DSA_(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function $DSB_(){this._stopPopupTimer();var _7ff=this.focusedChild&&this.focusedChild.from_item;if(this.currentPopup){if(dijit._curFocus&&dojo.isDescendant(dijit._curFocus,this.currentPopup.domNode)){this.focusedChild.focusNode.focus();}dijit.popup.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}},_onItemFocus:function $DSC_(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function $DSD_(){this._cleanUp();this.inherited(arguments);},_cleanUp:function $DSE_(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function $DSF_(){this._bindings=[];},templateString:dojo.cache("dijit","templates/Menu.html","<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n"),baseClass:"dijitMenu",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function $DSG_(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function $DSH_(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function $DSI_(_800){var win=dojo.window.get(this._iframeContentDocument(_800))||this._iframeContentDocument(_800)["__parent__"]||(_800.name&&dojo.doc.frames[_800.name])||null;return win;},_iframeContentDocument:function $DSJ_(_801){var doc=_801.contentDocument||(_801.contentWindow&&_801.contentWindow.document)||(_801.name&&dojo.doc.frames[_801.name]&&dojo.doc.frames[_801.name].document)||null;return doc;},bindDomNode:function $DSK_(node){node=dojo.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _802=node,win=this._iframeContentWindow(_802);cn=dojo.withGlobal(win,dojo.body);}else{cn=(node==dojo.body()?dojo.doc.documentElement:node);}var _803={node:node,iframe:_802};dojo.attr(node,"_dijitMenu"+this.id,this._bindings.push(_803));var _804=dojo.hitch(this,function(cn){return [dojo.connect(cn,this.leftClickToOpen?"onclick":"oncontextmenu",this,function(evt){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_802,{x:evt.pageX,y:evt.pageY});}),dojo.connect(cn,"onkeydown",this,function(evt){if(evt.shiftKey&&evt.keyCode==dojo.keys.F10){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_802);}})];});_803.connects=cn?_804(cn):[];if(_802){_803.onloadHandler=dojo.hitch(this,function(){var win=this._iframeContentWindow(_802);cn=dojo.withGlobal(win,dojo.body);_803.connects=_804(cn);});if(_802.addEventListener){_802.addEventListener("load",_803.onloadHandler,false);}else{_802.attachEvent("onload",_803.onloadHandler);}}},unBindDomNode:function $DSL_(_805){var node;try{node=dojo.byId(_805);}catch(e){return;}var _806="_dijitMenu"+this.id;if(node&&dojo.hasAttr(node,_806)){var bid=dojo.attr(node,_806)-1,b=this._bindings[bid];dojo.forEach(b.connects,dojo.disconnect);var _807=b.iframe;if(_807){if(_807.removeEventListener){_807.removeEventListener("load",b.onloadHandler,false);}else{_807.detachEvent("onload",b.onloadHandler);}}dojo.removeAttr(node,_806);delete this._bindings[bid];}},_scheduleOpen:function $DSM_(_808,_809,_80a){if(!this._openTimer){this._openTimer=setTimeout(dojo.hitch(this,function(){delete this._openTimer;this._openMyself({target:_808,iframe:_809,coords:_80a});}),1);}},_openMyself:function $DSN_(args){var _80b=args.target,_80c=args.iframe,_80d=args.coords;if(_80d){if(_80c){var od=_80b.ownerDocument,ifc=dojo.position(_80c,true),win=this._iframeContentWindow(_80c),_80e=dojo.withGlobal(win,"_docScroll",dojo);var cs=dojo.getComputedStyle(_80c),tp=dojo._toPixelValue,left=(dojo.isIE&&dojo.isQuirks?0:tp(_80c,cs.paddingLeft))+(dojo.isIE&&dojo.isQuirks?tp(_80c,cs.borderLeftWidth):0),top=(dojo.isIE&&dojo.isQuirks?0:tp(_80c,cs.paddingTop))+(dojo.isIE&&dojo.isQuirks?tp(_80c,cs.borderTopWidth):0);_80d.x+=ifc.x+left-_80e.x;_80d.y+=ifc.y+top-_80e.y;}}else{_80d=dojo.position(_80b,true);_80d.x+=10;_80d.y+=10;}var self=this;var _80f=dijit.getFocus(this);function _810(){if(self.refocus){dijit.focus(_80f);}dijit.popup.close(self);};dijit.popup.open({popup:this,x:_80d.x,y:_80d.y,onExecute:_810,onCancel:_810,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function $DSP_(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function $DSO_(){dojo.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Select"]){dojo._hasResource["dijit.form.Select"]=true;dojo.provide("dijit.form.Select");dojo.declare("dijit.form._SelectMenu",dijit.Menu,{buildRendering:function $DCq_(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=dojo.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}}));if(o.parentNode){o.parentNode.replaceChild(n,o);}dojo.removeClass(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";o.className="dijitReset dijitMenuTable";dijit.setWaiRole(o,"listbox");dijit.setWaiRole(n,"presentation");n.appendChild(o);},postCreate:function $DCr_(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},resize:function $DCs_(mb){if(mb){dojo.marginBox(this.domNode,mb);if("w" in mb){this.menuTableNode.style.width="100%";}}}});dojo.declare("dijit.form.Select",[dijit.form._FormSelectWidget,dijit._HasDropDown],{baseClass:"dijitSelect",templateString:dojo.cache("dijit.form","templates/Select.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdojoAttachPoint=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"combobox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,_popupStateNode\"></span\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\t\tdojoAttachPoint=\"titleNode\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form._FormSelectWidget.prototype.attributeMap),{style:"tableNode"}),required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&nbsp;",_isLoaded:false,_childrenLoaded:false,_fillContent:function $DCt_(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value;}this.dropDown=new dijit.form._SelectMenu({id:this.id+"_menu"});dojo.addClass(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function $DCu_(_811){if(!_811.value&&!_811.label){return new dijit.MenuSeparator();}else{var _812=dojo.hitch(this,"_setValueAttr",_811);var item=new dijit.MenuItem({option:_811,label:_811.label||this.emptyLabel,onClick:_812,disabled:_811.disabled||false});dijit.setWaiRole(item.focusNode,"listitem");return item;}},_addOptionItem:function $DCv_(_813){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_813));}},_getChildren:function $DCw_(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},_loadChildren:function $DCx_(_814){if(_814===true){if(this.dropDown){delete this.dropDown.focusedChild;}if(this.options.length){this.inherited(arguments);}else{dojo.forEach(this._getChildren(),function(_815){_815.destroyRecursive();});var item=new dijit.MenuItem({label:"&nbsp;"});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value);}},_setValueAttr:function $DCy_(_816){this.inherited(arguments);dojo.attr(this.valueNode,"value",this.get("value"));},_setDisplay:function $DCz_(_817){var lbl=_817||this.emptyLabel;this.containerNode.innerHTML="<span class=\"dijitReset dijitInline "+this.baseClass+"Label\">"+lbl+"</span>";dijit.setWaiState(this.focusNode,"valuetext",lbl);},validate:function $DC0_(_818){var _819=this.isValid(_818);this._set("state",_819?"":"Error");dijit.setWaiState(this.focusNode,"invalid",_819?"false":"true");var _81a=_819?"":this._missingMsg;if(this.message!==_81a){this._set("message",_81a);dijit.hideTooltip(this.domNode);if(_81a){dijit.showTooltip(_81a,this.domNode,this.tooltipPosition,!this.isLeftToRight());}}return _819;},isValid:function $DC1_(_81b){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function $DC2_(){this.inherited(arguments);dijit.hideTooltip(this.domNode);this._set("state","");this._set("message","");},postMixInProperties:function $DC3_(){this.inherited(arguments);this._missingMsg=dojo.i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function $DC4_(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},_setStyleAttr:function $DC5_(_81c){this.inherited(arguments);dojo.toggleClass(this.domNode,this.baseClass+"FixedWidth",!!this.tableNode.style.width);},isLoaded:function $DC6_(){return this._isLoaded;},loadDropDown:function $DC7_(_81d){this._loadChildren(true);this._isLoaded=true;_81d();},closeDropDown:function $DC8_(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode){this.dropDown.menuTableNode.style.width="";}},uninitialize:function $DC9_(_81e){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_81e);delete this.dropDown;}this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.select1.Plain"]){dojo._hasResource["betterform.ui.select1.Plain"]=true;dojo.provide("betterform.ui.select1.Plain");dojo.declare("betterform.ui.select1.Plain",betterform.ui.ControlValue,{buildRendering:function $DBkU_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DBkV_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DBkW_(){dojo.connect(this.domNode,"onchange",this,"_onChange");this.setCurrentValue();},_onFocus:function $DBkX_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBkY_(){this.inherited(arguments);this.handleOnBlur();},_onChange:function $DBkZ_(){var _81f=this.domNode.options[this.domNode.selectedIndex];fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_81f,"id"));if(this.incremental){this.setControlValue();}},getControlValue:function $DBka_(){if(this.domNode.selectedIndex==undefined||this.domNode.selectedIndex==-1){return "";}var _820=this.domNode.options[this.domNode.selectedIndex].value;if(_820!=undefined){return _820;}else{return "";}},applyState:function $DBkb_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"disabled","disabled");}else{this.domNode.removeAttribute("disabled");}},_handleSetControlValue:function $DBkc_(_821){for(i=0;i<this.domNode.options.length;i++){if(this.domNode.options[i].value==_821){this.domNode.selectedIndex=i;}}}});}if(!dojo._hasResource["betterform.ui.select1.RadioButton"]){dojo._hasResource["betterform.ui.select1.RadioButton"]=true;dojo.provide("betterform.ui.select1.RadioButton");dojo.declare("betterform.ui.select1.RadioButton",[betterform.ui.ControlValue,dijit.form.RadioButton],{select1Dijit:null,buildRendering:function $DBkH_(){if(dojo.attr(this.srcNodeRef,"selected")==undefined||dojo.attr(this.srcNodeRef,"selected")==""){dojo.attr(this.srcNodeRef,"selected","false");}if(dojo.attr(this.srcNodeRef,"datatype")==undefined||dojo.attr(this.srcNodeRef,"datatype")==""){dojo.attr(this.srcNodeRef,"datatype","radio");}this.currentValue=dojo.attr(this.srcNodeRef,"value");if(dojo.attr(this.srcNodeRef,"parentId")!=undefined&&dojo.attr(this.srcNodeRef,"parentId")!=""){this.parentId=dojo.attr(this.srcNodeRef,"parentId");}var _822=dojo.attr(this.srcNodeRef,"selected");this.inherited(arguments);if(_822!=undefined&&_822=="true"){this.set("checked",true);}},postMixInProperties:function $DBkI_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DBkJ_(){this.inherited(arguments);if(dijit.byId(this.parentId+"-value")==undefined&&this.parentId!=undefined){dojo.hitch(this,new betterform.ui.Control({},this.parentId));}this.select1Dijit=dijit.byId(this.parentId+"-value");dojo.connect(this,"_onClick",this.select1Dijit,"_setRadioGroupValue");},getControlValue:function $DBkK_(){return this.currentValue;},_handleSetControlValue:function $DBkL_(_823){this.currentValue=_823;dojo.attr(this.focusNode,"value",_823);if(this.select1Dijit!=undefined&&this.select1Dijit.currentValue==_823){this.set("checked",true);}}});}if(!dojo._hasResource["betterform.ui.select1.RadioGroup"]){dojo._hasResource["betterform.ui.select1.RadioGroup"]=true;dojo.provide("betterform.ui.select1.RadioGroup");dojo.declare("betterform.ui.select1.RadioGroup",betterform.ui.ControlValue,{buildRendering:function $DBkd_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DBke_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DBkf_(){var name=this.id;dojo.query("*[controltype='radioButtonEntry']",this.domNode).forEach(function(_824){var _825=dojo.attr(_824,"id");var _826=[0];dojo.query(".xfRadioValue",_824).attr("name",name);var _827=new betterform.ui.Control({id:_825,value:dojo.attr(_824,"value")},_824);_827.startup();});this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DBkg_(){this.inherited(arguments);this.handleOnFocus();},focus:function $DBkh_(){var _828=dojo.query(".dijitRadioChecked",this.domNode);if(_828.length>0){dojo.query(".xfRadioLabel",_828[0].parentNode)[0].focus();}else{dojo.query(".xfEnabled .xfRadioLabel",this.domNode)[0].focus();}},_onBlur:function $DBki_(){this.inherited(arguments);this.handleOnBlur();},_setRadioGroupValue:function $DBkj_(){var _829=dojo.query(".dijitRadioChecked .dijitCheckBoxInput",this.domNode)[0];var _82a;if(_829!=undefined){var _82b=dojo.attr(_829,"id");_82a=_82b.substring(0,_82b.length-6);}else{_82a="";}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",_82a);if(this.incremental){this.setControlValue();}},getControlValue:function $DBkk_(){var _82c=dojo.query(".dijitRadioChecked .dijitCheckBoxInput",this.domNode)[0];if(_82c!=undefined){return dijit.byId(dojo.attr(_82c,"id")).getControlValue();}else{return "";}},_handleSetControlValue:function $DBkl_(_82d){var _82e=dojo.query(".xfRadioValue",this.domNode);for(i=0;i<_82e.length;i++){var _82f=dojo.attr(_82e[i],"widgetId");var _830=dijit.byId(_82f);var _831=_830.getControlValue();if(_831==_82d){_830.attr("checked",true);}else{_830.attr("checked",false);}}},applyState:function $DBkm_(){var _832=this.xfControl.isReadonly();dojo.query(".xfRadioValue",this.domNode).forEach(function(_833){var _834=dijit.byNode(_833);_834.set("readOnly",_832);});}});}if(!dojo._hasResource["betterform.ui.select1.RadioItemset"]){dojo._hasResource["betterform.ui.select1.RadioItemset"]=true;dojo.provide("betterform.ui.select1.RadioItemset");dojo.declare("betterform.ui.select1.RadioItemset",dijit._Widget,{values:"",handleStateChanged:function $DBkn_(_835){if(_835.targetName=="label"){dojo.byId(_835.parentId+"-label").innerHTML=_835.value;}else{if(_835.targetName=="value"){dijit.byId(_835.parentId+"-value")._handleSetControlValue(_835.value);}else{}}},handleInsert:function $DBko_(_836){var _837=document.createElement("span");dojo.addClass(_837,"xfSelectorItem");dojo.addClass(_837,"xfEnabled");dojo.addClass(_837,"xfReadWrite");dojo.addClass(_837,"xfOptional");dojo.addClass(_837,"xfValid");dojo.attr(_837,"controltype","radioButtonEntry");var _838=_836.generatedIds;var _839=_838[_836.prototypeId];dojo.attr(_837,"id",_839);var _83a=document.createElement("label");dojo.addClass(_83a,"xfRadioLabel");dojo.attr(_83a,"id",_839+"-label");dojo.attr(_83a,"for",_839+"-value");_83a.innerHTML=_836.label;var _83b=this.domNode.parentNode;while(!dojo.hasClass(_83b,"xfFullSelect1")&&!dojo.hasClass(_83b,"xfSelect1")){_83b=_83b.parentNode;}var _83c=document.createElement("input");if(dojo.hasClass(_83c,"xfValue")){dojo.removeClass(_83c,"xfValue");}dojo.addClass(_83c,"xfRadioValue");dojo.attr(_83c,"id",_839+"-value");dojo.attr(_83c,"selected","false");dojo.attr(_83c,"parentId",_83b.id);dojo.attr(_83c,"name",_83b.id+"-value");dojo.attr(_83c,"value","");dojo.attr(_83c,"datatype","radio");dojo.attr(_83c,"controltype","radio");dojo.place(_83c,_837);dojo.place(_83a,_837);var _83d=dojo.byId(_836.originalId+"-prototype");var _83e=dojo.query("[controltype='output-control']",_83d);if(_83e!=undefined&&_83e!=""){for(var _83f=0;_83f<=_83e.length;_83f++){var item=_83e[i].cloneNode(true);dojo.attr(item,"id",_838[item.id]);dojo.attr(item,"parentId",_83b.id);dojo.attr(item,"parentid",_83b.id);this._replacePrototypeIds(item,_838);dojo.place(item,_83a);}}var _840=new betterform.ui.Control({contextInfo:_836},_837);dojo.place(_837,this.domNode,_836.position);},_replacePrototypeIds:function $DBkp_(node,_841){dojo.query("*",node).forEach(function(_842){var _843=dojo.attr(_842,"id");if(_843!=undefined&&_841[_843]!=undefined){dojo.attr(_842,"id",_841[_843]);}else{if(_843!=undefined){var _844;var _845;if(_843.indexOf("-value")!=-1){_844=_843.substring(0,_843.indexOf("-value"));_845="-value";}else{if(_843.indexOf("-label")!=-1){_844=_843.substring(0,_843.indexOf("-label"));_845="-label";}else{if(_843.indexOf("-hint")!=-1){_844=_843.substring(0,_843.indexOf("-hint"));_845="-hint";}else{if(_843.indexOf("-help")!=-1){_844=_843.substring(0,_843.indexOf("-help"));_845="-help";}else{if(_843.indexOf("-alert")!=-1){_844=_843.substring(0,_843.indexOf("-alert"));_845="-alert";}else{return;}}}}}var _846=_841[_844]+_845;dojo.attr(_842,"id",_846);}}var _847=dojo.attr(_842,"for");if(_847!=undefined&&_841[_847]!=undefined){dojo.attr(_842,"for",_841[_847]);}else{if(_847!=undefined){var _848;var _849;if(_847.indexOf("-value")!=-1){_848=_847.substring(0,_847.indexOf("-value"));_849="-value";}else{return;}var _846=_841[_848]+_849;dojo.attr(_842,"for",_846);}}});},_replaceRepeatItemClasses:function $DBkq_(node){dojo.removeClass(node,"xfRepeatPrototype");dojo.removeClass(node,"xfDisabled");dojo.addClass(node,"xfRepeatItem");dojo.addClass(node,"xfEnabled");dojo.addClass(node,"xfRepeatIndexPre");},handleDelete:function $DBkr_(_84a){var _84b=dojo.query(".xfSelectorItem",this.domNode)[_84a.position-1];this.domNode.removeChild(_84b);}});}if(!dojo._hasResource["betterform.ui.upload.UploadPlain"]){dojo._hasResource["betterform.ui.upload.UploadPlain"]=true;dojo.provide("betterform.ui.upload.UploadPlain");dojo.declare("betterform.ui.upload.UploadPlain",betterform.ui.ControlValue,{templateString:dojo.cache("betterform","ui/templates/HtmlUpload.html","<div>\n    <input type=\"file\" name=\"\" value=\"\" class=\"xfValue\" dojoAttachPoint=\"inputNode\" dojoAttachEvent=\"onchange:onChange\"/>\n    <div class=\"bfProgressbar\" style=\"display:none;\" dojoAttachPoint=\"progress\">\n        <div class=\"border\">\n            <div dojoAttachPoint=\"progressBackground\" class=\"background\"></div>\n        </div>\n    </div>\n    <input  type=\"hidden\" value=\"\" dojoAttachPoint=\"fileName\" />\n    <iframe  src=\"\" style=\"width:0px;height:0px;border:0\"></iframe>\n</div>\n"),value:"",disabledNodes:new Array(),progress:null,progressBackground:null,fileId:"",fileValue:"",xfControlId:"",progressUpdate:null,postMixInProperties:function $DBqN_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBqO_(){this.inherited(arguments);var _84c=dojo.attr(this.srcNodeRef,"name");var _84d=dojo.attr(this.srcNodeRef,"fileId");var _84e=dojo.attr(this.srcNodeRef,"fileValue");if(_84d==undefined||_84d==""){_84c=fluxProcessor.dataPrefix+this.xfControlId;}dojo.attr(this.inputNode,"name",_84c);dojo.attr(this.fileName,"id",_84d);dojo.attr(this.fileName,"value",_84e);dojo.removeClass(this.domNode,"xfValue");},_onFocus:function $DBqP_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBqQ_(){this.inherited(arguments);},getControlValue:function $DBqR_(){},_handleSetControlValue:function $DBqS_(_84f){},onChange:function $DBqT_(){var _850=confirm("Really upload ?");if(_850){this._submitFile(this.inputNode);}else{this.inputNode.value="";}},updateProgress:function $DBqU_(_851){if(_851!=0){this.progressBackground.style.width=_851+"%";}if(_851<0){alert("Upload failed");}if(_851==100){clearInterval(this.progressUpdate);this.progressBackground.style.width="100%";dojo.fadeOut({node:this.progress,duration:2000,onEnd:dojo.hitch(this,function(){this.progress.style.display="none";})}).play();dojo.query(".xfUpload.xfReadWrite .xfValue:disabled").forEach(function(item){item.removeAttribute("disabled");});}},_submitFile:function $DBqV_(){var me=this.inputNode;dojo.query(".xfUpload.xfReadWrite .xfValue").forEach(function(item){if(item!=me){dojo.attr(item,"disabled","disabled");}});this.progress.style.display="block";this.progress.style.opacity="1";var path=this.inputNode.value;var _852=path.substring(path.lastIndexOf("/")+1);this.progressUpdate=setInterval("fluxProcessor.fetchProgress('"+this.xfControlId+"','"+_852+"')",500);document.forms["betterform"].target="UploadTarget";document.forms["betterform"].submit();return true;},applyState:function $DBqW_(){if(this.xfControl.isReadonly()){dojo.attr(this.inputNode,"disabled","disabled");}else{this.inputNode.removeAttribute("disabled");}}});}if(!dojo._hasResource["betterform.ui.container.RepeatItem"]){dojo._hasResource["betterform.ui.container.RepeatItem"]=true;dojo.provide("betterform.ui.container.RepeatItem");dojo.declare("betterform.ui.container.RepeatItem",[betterform.ui.container.Container,dijit._Templated],{repeatId:"",protoype:"",position:"",animIn:null,animOut:null,dialogId:null,appearance:"",buildRendering:function $DBof_(){this.domNode=this.srcNodeRef;if(dojo.attr(this.srcNodeRef,"appearance")!=undefined){this.appearance=dojo.attr(this.srcNodeRef,"appearance");}},handleStateChanged:function $DBok_(_853){this.inherited(arguments);},_onBlur:function $DBol_(){this.inherited(arguments);},_onFocus:function $DBom_(){if(dojo.hasClass(this.domNode,"bfRepeatIndexMouseOver")){dojo.removeClass(this.domNode,"bfRepeatIndexMouseOver");}this.forceIndex();this.inherited(arguments);},forceIndex:function $DBon_(){if(dojo.hasClass(this.domNode,"xfRepeatIndex")){return;}var _854=this.domNode.parentNode.childNodes;dojo.forEach(_854,function(_855){if(dojo.hasClass(_855,"xfRepeatIndex")){dojo.removeClass(_855,"xfRepeatIndex");}if(dojo.hasClass(_855,"xfRepeatIndexPre")){dojo.removeClass(_855,"xfRepeatIndexPre");}});dojo.addClass(this.domNode,"xfRepeatIndexPre");var _856=this._getXFormsPosition();var _857=this._getRepeat();fluxProcessor.setRepeatIndex(dojo.attr(_857.domNode,"repeatId"),_856);},_getRepeat:function $DBoo_(){var _858=this.domNode.parentNode;while(dojo.attr(_858,"repeatId")==undefined&&_858!=undefined){_858=_858.parentNode;}return dijit.byId(dojo.attr(_858,"id"));},_getXFormsPosition:function $DBop_(){dojo.attr(this.domNode,"selected","true");var _859=this._getRepeat()._getRepeatItems();var _85a=0;dojo.forEach(_859,function(_85b,_85c){if(dojo.attr(_85b,"selected")=="true"){_85b.removeAttribute("selected");_85a=_85c+1;}});return _85a;},nextItem:function $DBoq_(){var next=this._getXFormsPosition()+1;var _85d=this._getRepeat();if(next>_85d._getSize()){next=_85d._getSize();}fluxProcessor.setRepeatIndex(dojo.attr(_85d.domNode,"repeatId"),next);},previousItem:function $DBor_(){var _85e=this._getXFormsPosition()-1;var _85f=this._getRepeat();if(_85e<1){_85e=1;}fluxProcessor.setRepeatIndex(dojo.attr(_85f.domNode,"repeatId"),_85e);},showRepeatItem:function $DBos_(){dojo.style(this.domNode,"opacity","1");},hideRepeatItem:function $DBot_(){dojo.style(this.domNode,"opacity","0");}});}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function $DB6U_(name,_860,_861){var c=document.cookie;if(arguments.length==1){var _862=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _862?decodeURIComponent(_862[1]):undefined;}else{_861=_861||{};var exp=_861.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_861.expires=d;}if(exp&&exp.toUTCString){_861.expires=exp.toUTCString();}_860=encodeURIComponent(_860);var _863=name+"="+_860,_864;for(_864 in _861){_863+="; "+_864;var _865=_861[_864];if(_865!==true){_863+="="+_865;}}document.cookie=_863;}};dojo.cookie.isSupported=function $DB6V_(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.layout.StackController"]){dojo._hasResource["dijit.layout.StackController"]=true;dojo.provide("dijit.layout.StackController");dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span role='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",constructor:function $DIQ_(){this.pane2button={};this.pane2connects={};this.pane2watches={};},buildRendering:function $DIR_(){this.inherited(arguments);dijit.setWaiRole(this.domNode,"tablist");},postCreate:function $DIS_(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");},onStartup:function $DIT_(info){dojo.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}},destroy:function $DIU_(){for(var pane in this.pane2button){this.onRemoveChild(dijit.byId(pane));}this.inherited(arguments);},onAddChild:function $DIV_(page,_866){var cls=dojo.getObject(this.buttonWidget);var _867=new cls({id:this.id+"_"+page.id,label:page.title,dir:page.dir,lang:page.lang,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip});dijit.setWaiState(_867.focusNode,"selected","false");var _868=["title","showTitle","iconClass","closable","tooltip"],_869=["label","showLabel","iconClass","closeButton","title"];this.pane2watches[page.id]=dojo.map(_868,function(_86a,idx){return page.watch(_86a,function(name,_86b,_86c){_867.set(_869[idx],_86c);});});this.pane2connects[page.id]=[this.connect(_867,"onClick",dojo.hitch(this,"onButtonClick",page)),this.connect(_867,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page))];this.addChild(_867,_866);this.pane2button[page.id]=_867;page.controlButton=_867;if(!this._currentChild){_867.focusNode.setAttribute("tabIndex","0");dijit.setWaiState(_867.focusNode,"selected","true");this._currentChild=page;}if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function $DIW_(page){if(this._currentChild===page){this._currentChild=null;}dojo.forEach(this.pane2connects[page.id],dojo.hitch(this,"disconnect"));delete this.pane2connects[page.id];dojo.forEach(this.pane2watches[page.id],function(w){w.unwatch();});delete this.pane2watches[page.id];var _86d=this.pane2button[page.id];if(_86d){this.removeChild(_86d);delete this.pane2button[page.id];_86d.destroy();}delete page.controlButton;},onSelectChild:function $DIX_(page){if(!page){return;}if(this._currentChild){var _86e=this.pane2button[this._currentChild.id];_86e.set("checked",false);dijit.setWaiState(_86e.focusNode,"selected","false");_86e.focusNode.setAttribute("tabIndex","-1");}var _86f=this.pane2button[page.id];_86f.set("checked",true);dijit.setWaiState(_86f.focusNode,"selected","true");this._currentChild=page;_86f.focusNode.setAttribute("tabIndex","0");var _870=dijit.byId(this.containerId);dijit.setWaiState(_870.containerNode,"labelledby",_86f.id);},onButtonClick:function $DIY_(page){var _871=dijit.byId(this.containerId);_871.selectChild(page);},onCloseButtonClick:function $DIZ_(page){var _872=dijit.byId(this.containerId);_872.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){dijit.focus(b.focusNode||b.domNode);}}},adjacent:function $DIa_(_873){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_873=!_873;}var _874=this.getChildren();var _875=dojo.indexOf(_874,this.pane2button[this._currentChild.id]);var _876=_873?1:_874.length-1;return _874[(_875+_876)%_874.length];},onkeypress:function $DIb_(e){if(this.disabled||e.altKey){return;}var _877=null;if(e.ctrlKey||!e._djpage){var k=dojo.keys;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(!e._djpage){_877=false;}break;case k.PAGE_UP:if(e.ctrlKey){_877=false;}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(!e._djpage){_877=true;}break;case k.PAGE_DOWN:if(e.ctrlKey){_877=true;}break;case k.HOME:case k.END:var _878=this.getChildren();if(_878&&_878.length){_878[e.charOrCode==k.HOME?0:_878.length-1].onClick();}dojo.stopEvent(e);break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);break;default:if(e.ctrlKey){if(e.charOrCode===k.TAB){this.adjacent(!e.shiftKey).onClick();dojo.stopEvent(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);}}}}if(_877!==null){this.adjacent(_877).onClick();dojo.stopEvent(e);}}},onContainerKeyPress:function $DIc_(info){info.e._djpage=info.page;this.onkeypress(info.e);}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",buildRendering:function $DId_(evt){this.inherited(arguments);dijit.setWaiRole((this.focusNode||this.domNode),"tab");},onClick:function $DIe_(evt){dijit.focus(this.focusNode);},onClickCloseButton:function $DIf_(evt){evt.stopPropagation();}});}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function $DHr_(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitLayoutContainer");dijit.setWaiRole(this.containerNode,"tabpanel");},postCreate:function $DHs_(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function $DHt_(){if(this._started){return;}var _879=this.getChildren();dojo.forEach(_879,this._setupChild,this);if(this.persist){this.selectedChildWidget=dijit.byId(dojo.cookie(this.id+"_selectedChild"));}else{dojo.some(_879,function(_87a){if(_87a.selected){this.selectedChildWidget=_87a;}return _87a.selected;},this);}var _87b=this.selectedChildWidget;if(!_87b&&_879[0]){_87b=this.selectedChildWidget=_879[0];_87b.selected=true;}dojo.publish(this.id+"-startup",[{children:_879,selected:_87b}]);this.inherited(arguments);},resize:function $DHu_(){var _87c=this.selectedChildWidget;if(_87c&&!this._hasBeenShown){this._hasBeenShown=true;this._showChild(_87c);}this.inherited(arguments);},_setupChild:function $DHv_(_87d){this.inherited(arguments);dojo.replaceClass(_87d.domNode,"dijitHidden","dijitVisible");_87d.domNode.title="";},addChild:function $DHw_(_87e,_87f){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-addChild",[_87e,_87f]);this.layout();if(!this.selectedChildWidget){this.selectChild(_87e);}}},removeChild:function $DHx_(page){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-removeChild",[page]);}if(this._beingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _880=this.getChildren();if(_880.length){this.selectChild(_880[0]);}}}if(this._started){this.layout();}},selectChild:function $DHy_(page,_881){page=dijit.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_881);this._set("selectedChildWidget",page);dojo.publish(this.id+"-selectChild",[page]);if(this.persist){dojo.cookie(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function $DHz_(_882,_883,_884){if(_883){this._hideChild(_883);}var d=this._showChild(_882);if(_882.resize){if(this.doLayout){_882.resize(this._containerContentBox||this._contentBox);}else{_882.resize();}}return d;},_adjacent:function $DH0_(_885){var _886=this.getChildren();var _887=dojo.indexOf(_886,this.selectedChildWidget);_887+=_885?1:_886.length-1;return _886[_887%_886.length];},forward:function $DH1_(){return this.selectChild(this._adjacent(true),true);},back:function $DH2_(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function $DH3_(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}]);},layout:function $DH4_(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox||this._contentBox);}},_showChild:function $DH5_(page){var _888=this.getChildren();page.isFirstChild=(page==_888[0]);page.isLastChild=(page==_888[_888.length-1]);page._set("selected",true);dojo.replaceClass(page.domNode,"dijitVisible","dijitHidden");return page._onShow()||true;},_hideChild:function $DH6_(page){page._set("selected",false);dojo.replaceClass(page.domNode,"dijitHidden","dijitVisible");page.onHide();},closeChild:function $DH7_(page){var _889=page.onClose(this,page);if(_889){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function $DH8_(_88a){dojo.forEach(this.getChildren(),function(_88b){this.removeChild(_88b);_88b.destroyRecursive(_88a);},this);}});dojo.extend(dijit._Widget,{selected:false,closable:false,iconClass:"",showTitle:true});}if(!dojo._hasResource["dijit.layout._TabContainerBase"]){dojo._hasResource["dijit.layout._TabContainerBase"]=true;dojo.provide("dijit.layout._TabContainerBase");dojo.declare("dijit.layout._TabContainerBase",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:dojo.cache("dijit.layout","templates/TabContainer.html","<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" dojoAttachPoint=\"tablistNode\"></div>\n\t<div dojoAttachPoint=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n"),postMixInProperties:function $DIK_(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&dojo.style(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function $DIL_(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){dojo.addClass(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){dojo.addClass(this.domNode,"dijitTabContainerNested");dojo.addClass(this.tablist.containerNode,"dijitTabContainerTabListNested");dojo.addClass(this.tablistSpacer,"dijitTabContainerSpacerNested");dojo.addClass(this.containerNode,"dijitTabPaneWrapperNested");}else{dojo.addClass(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function $DIM_(tab){dojo.addClass(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function $DIN_(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function $DIO_(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _88c=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_88c;var _88d=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_88c},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_88d);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_88d[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var _88e=dojo.contentBox(this.domNode).w;s.width="";this.tablist.resize({w:_88e});}if(sc&&sc.resize){sc.resize();}}},destroy:function $DIP_(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.TabController"]){dojo._hasResource["dijit.layout.TabController"]=true;dojo.provide("dijit.layout.TabController");dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div role='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:"dijit.layout._TabButton",_rectifyRtlTabList:function $DJy_(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _88f=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_88f=Math.max(_88f,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_88f+"px";}}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:dojo.cache("dijit.layout","templates/_TabButton.html","<div role=\"presentation\" dojoAttachPoint=\"titleNode\" dojoAttachEvent='onclick:onClick'>\n    <div role=\"presentation\" class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\n        <div role=\"presentation\" class='dijitTabContent' dojoAttachPoint='tabContent'>\n        \t<div role=\"presentation\" dojoAttachPoint='focusNode'>\n\t\t        <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" dojoAttachPoint='iconNode' />\n\t\t        <span dojoAttachPoint='containerNode' class='tabLabel'></span>\n\t\t        <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" dojoAttachPoint='closeNode'\n\t\t        \t\tdojoAttachEvent='onclick: onClickCloseButton' role=\"presentation\">\n\t\t            <span dojoAttachPoint='closeText' class='dijitTabCloseText'>[x]</span\n\t\t        ></span>\n\t\t\t</div>\n        </div>\n    </div>\n</div>\n"),scrollOnFocus:false,buildRendering:function $DJz_(){this.inherited(arguments);dojo.setSelectable(this.containerNode,false);},startup:function $DJ0_(){this.inherited(arguments);var n=this.domNode;setTimeout(function(){n.className=n.className;},1);},_setCloseButtonAttr:function $DJ1_(disp){this._set("closeButton",disp);dojo.toggleClass(this.innerDiv,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _890=dojo.i18n.getLocalization("dijit","common");if(this.closeNode){dojo.attr(this.closeNode,"title",_890.itemClose);}var _890=dojo.i18n.getLocalization("dijit","common");this._closeMenu=new dijit.Menu({id:this.id+"_Menu",dir:this.dir,lang:this.lang,targetNodeIds:[this.domNode]});this._closeMenu.addChild(new dijit.MenuItem({label:_890.itemClose,dir:this.dir,lang:this.lang,onClick:dojo.hitch(this,"onClickCloseButton")}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},_setLabelAttr:function $DJ2_(_891){this.inherited(arguments);if(this.showLabel==false&&!this.params.title){this.iconNode.alt=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},destroy:function $DJ3_(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.ScrollingTabController"]){dojo._hasResource["dijit.layout.ScrollingTabController"]=true;dojo.provide("dijit.layout.ScrollingTabController");dojo.declare("dijit.layout.ScrollingTabController",dijit.layout.TabController,{templateString:dojo.cache("dijit.layout","templates/ScrollingTabController.html","<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\" containerId=\"${containerId}\" iconClass=\"dijitTabStripMenuIcon\"\n\t\t\tdropDownPosition=\"below-alt, above-alt\"\n\t\t\tdojoAttachPoint=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\"\n\t\t\tdojoAttachPoint=\"_leftBtn\" dojoAttachEvent=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\"\n\t\t\tdojoAttachPoint=\"_rightBtn\" dojoAttachEvent=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\n\t<div class='dijitTabListWrapper' dojoAttachPoint='tablistWrapper'>\n\t\t<div role='tablist' dojoAttachEvent='onkeypress:onkeypress'\n\t\t\t\tdojoAttachPoint='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>\n"),useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{"class":"containerNode"}),buildRendering:function $DJY_(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";dojo.addClass(n,"tabStrip-disabled");}dojo.addClass(this.tablistWrapper,this.tabStripClass);},onStartup:function $DJZ_(){this.inherited(arguments);dojo.style(this.domNode,"visibility","visible");this._postStartup=true;},onAddChild:function $DJa_(page,_892){this.inherited(arguments);dojo.forEach(["label","iconClass"],function(attr){this.pane2watches[page.id].push(this.pane2button[page.id].watch(attr,dojo.hitch(this,function(name,_893,_894){if(this._postStartup&&this._dim){this.resize(this._dim);}})));},this);dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");},onRemoveChild:function $DJb_(page,_895){var _896=this.pane2button[page.id];if(this._selectedTab===_896.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function $DJc_(){this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo._getMarginSize(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);},_getTabsWidth:function $DJd_(){var _897=this.getChildren();if(_897.length){var _898=_897[this.isLeftToRight()?0:_897.length-1].domNode,_899=_897[this.isLeftToRight()?_897.length-1:0].domNode;return _899.offsetLeft+dojo.style(_899,"width")-_898.offsetLeft;}else{return 0;}},_enableBtn:function $DJe_(_89a){var _89b=this._getTabsWidth();_89a=_89a||dojo.style(this.scrollNode,"width");return _89b>0&&_89a<_89b;},resize:function $DJf_(dim){if(this.domNode.offsetWidth==0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _89c=this._enableBtn(this._contentBox.w);this._buttons.style("display",_89c?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function $DJg_(){var sl=(this.isLeftToRight()||dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)||dojo.isWebKit)?this.scrollNode.scrollLeft:dojo.style(this.containerNode,"width")-dojo.style(this.scrollNode,"width")+(dojo.isIE==8?-1:1)*this.scrollNode.scrollLeft;return sl;},_convertToScrollLeft:function $DJh_(val){if(this.isLeftToRight()||dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)||dojo.isWebKit){return val;}else{var _89d=dojo.style(this.containerNode,"width")-dojo.style(this.scrollNode,"width");return (dojo.isIE==8?-1:1)*(val-_89d);}},onSelectChild:function $DJi_(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(this._postResize&&node!=this._selectedTab){this._selectedTab=node;var sl=this._getScroll();if(sl>node.offsetLeft||sl+dojo.style(this.scrollNode,"width")<node.offsetLeft+dojo.style(node,"width")){this.createSmoothScroll().play();}}this.inherited(arguments);},_getScrollBounds:function $DJj_(){var _89e=this.getChildren(),_89f=dojo.style(this.scrollNode,"width"),_8a0=dojo.style(this.containerNode,"width"),_8a1=_8a0-_89f,_8a2=this._getTabsWidth();if(_89e.length&&_8a2>_89f){return {min:this.isLeftToRight()?0:_89e[_89e.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_89e[_89e.length-1].domNode.offsetLeft+dojo.style(_89e[_89e.length-1].domNode,"width"))-_89f:_8a1};}else{var _8a3=this.isLeftToRight()?0:_8a1;return {min:_8a3,max:_8a3};}},_getScrollForSelectedTab:function $DJk_(){var w=this.scrollNode,n=this._selectedTab,_8a4=dojo.style(this.scrollNode,"width"),_8a5=this._getScrollBounds();var pos=(n.offsetLeft+dojo.style(n,"width")/2)-_8a4/2;pos=Math.min(Math.max(pos,_8a5.min),_8a5.max);return pos;},createSmoothScroll:function $DJl_(x){if(arguments.length>0){var _8a6=this._getScrollBounds();x=Math.min(Math.max(x,_8a6.min),_8a6.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new dojo._Animation({beforeBegin:function $DJm_(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new dojo._Line(oldS,newS);},onAnimate:function $DJn_(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function $DJo_(e){var n=e.target;while(n&&!dojo.hasClass(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function $DJp_(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function $DJq_(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function $DJr_(_8a7,node){if(node&&dojo.hasClass(node,"dijitTabDisabled")){return;}var _8a8=dojo.style(this.scrollNode,"width");var d=(_8a8*0.75)*_8a7;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function $DJs_(_8a9){var _8aa=this._getScrollBounds();this._leftBtn.set("disabled",_8a9<=_8aa.min);this._rightBtn.set("disabled",_8a9>=_8aa.max);}});dojo.declare("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:dojo.cache("dijit.layout","templates/_ScrollingTabControllerButton.html","<div dojoAttachEvent=\"onclick:_onButtonClick\">\n\t<div role=\"presentation\" class=\"dijitTabInnerDiv\" dojoattachpoint=\"innerDiv,focusNode\">\n\t\t<div role=\"presentation\" class=\"dijitTabContent dijitButtonContents\" dojoattachpoint=\"tabContent\">\n\t\t\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" dojoAttachPoint=\"iconNode\"/>\n\t\t\t<span dojoAttachPoint=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n\t\t</div>\n\t</div>\n</div>\n"),tabIndex:"",isFocusable:function $DJt_(){return false;}});dojo.declare("dijit.layout._ScrollingTabControllerButton",[dijit.form.Button,dijit.layout._ScrollingTabControllerButtonMixin]);dojo.declare("dijit.layout._ScrollingTabControllerMenuButton",[dijit.form.Button,dijit._HasDropDown,dijit.layout._ScrollingTabControllerButtonMixin],{containerId:"",tabIndex:"-1",isLoaded:function $DJu_(){return false;},loadDropDown:function $DJv_(_8ab){this.dropDown=new dijit.Menu({id:this.containerId+"_menu",dir:this.dir,lang:this.lang});var _8ac=dijit.byId(this.containerId);dojo.forEach(_8ac.getChildren(),function(page){var _8ad=new dijit.MenuItem({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,dir:page.dir,lang:page.lang,onClick:function $DJw_(){_8ac.selectChild(page);}});this.dropDown.addChild(_8ad);},this);_8ab();},closeDropDown:function $DJx_(_8ae){this.inherited(arguments);if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}}});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",dijit.layout._TabContainerBase,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function $DHO_(_8af){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_8b0=dojo.getObject(this.controllerWidget);return new _8b0({id:this.id+"_tablist",dir:this.dir,lang:this.lang,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_8af);},postMixInProperties:function $DHP_(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?"dijit.layout.ScrollingTabController":"dijit.layout.TabController";}}});}if(!dojo._hasResource["betterform.ui.container.TabSwitch"]){dojo._hasResource["betterform.ui.container.TabSwitch"]=true;dojo.provide("betterform.ui.container.TabSwitch");dojo.declare("betterform.ui.container.TabSwitch",[betterform.ui.container.Container,dijit.layout.TabContainer],{serverUpdate:false,postCreate:function $DBoH_(evt){this.inherited(arguments);dojo.connect(this.tablist,"onSelectChild",this,"onTabClicked");},startup:function $DBoI_(){this.inherited(arguments);},onTabClicked:function $DBoJ_(evt){if(!this.serverUpdate){var _8b1="t-"+dojo.attr(dojo.byId(evt.id),"caseid");fluxProcessor.dispatchEvent(_8b1);}},handleStateChanged:function $DBoK_(_8b2){this.inherited(arguments);},_handleInvalid:function $DBoL_(_8b3){var _8b4=betterform.ui.util.getContainerByClass(_8b3.domNode,"xfCase");if(_8b4==undefined){return;}var _8b5=dijit.byId(dojo.attr(_8b4,"id"));if(_8b5!=undefined){var _8b6=dijit.byId(_8b5.controlButton.id);if(dojo.byId(_8b6.id+"-image")==undefined){var _8b7=document.createElement("img");dojo.addClass(_8b7,"xfInvalidIcon");dojo.attr(_8b7,"id",_8b6.id+"-image");dojo.attr(_8b7,"src",dojo.moduleUrl("dijit","themes/tundra/images/warning.png"));dojo.place(_8b7,_8b6.tabContent,3);}}},_handleValid:function $DBoM_(_8b8){var _8b9=betterform.ui.util.getContainerByClass(_8b8.domNode,"xfCase");if(_8b9==undefined){return;}var _8ba=dijit.byId(dojo.attr(_8b9,"id"));},toggleCase:function $DBoN_(_8bb){var _8bc=dojo.query("div[caseid='"+_8bb.selected+"']",this.domNode)[0];var _8bd=dijit.byId(dojo.attr(_8bc,"id"));this.serverUpdate=true;this.selectChild(_8bd);this.serverUpdate=false;}});}if(!dojo._hasResource["dijit.TitlePane"]){dojo._hasResource["dijit.TitlePane"]=true;dojo.provide("dijit.TitlePane");dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated,dijit._CssStateMixin],{title:"",open:true,toggleable:true,tabIndex:"0",duration:dijit.defaultDuration,baseClass:"dijitTitlePane",templateString:dojo.cache("dijit","templates/TitlePane.html","<div>\n\t<div dojoAttachEvent=\"onclick:_onTitleClick, onkeypress:_onTitleKey\"\n\t\t\tclass=\"dijitTitlePaneTitle\" dojoAttachPoint=\"titleBarNode\">\n\t\t<div class=\"dijitTitlePaneTitleFocus\" dojoAttachPoint=\"focusNode\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"arrowNode\" class=\"dijitArrowNode\" role=\"presentation\"\n\t\t\t/><span dojoAttachPoint=\"arrowNodeInner\" class=\"dijitArrowNodeInner\"></span\n\t\t\t><span dojoAttachPoint=\"titleNode\" class=\"dijitTitlePaneTextNode\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\" role=\"presentation\">\n\t\t<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\" role=\"presentation\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" dojoAttachPoint=\"containerNode\" role=\"region\" id=\"${id}_pane\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"),attributeMap:dojo.delegate(dijit.layout.ContentPane.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"},tooltip:{node:"focusNode",type:"attribute",attribute:"title"},id:""}),buildRendering:function $DQM_(){this.inherited(arguments);dojo.setSelectable(this.titleNode,false);},postCreate:function $DQN_(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");}var _8be=this.hideNode,_8bf=this.wipeNode;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function $DQO_(){_8be.style.display="";}});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function $DQP_(){_8be.style.display="none";}});},_setOpenAttr:function $DQQ_(open,_8c0){dojo.forEach([this._wipeIn,this._wipeOut],function(_8c1){if(_8c1&&_8c1.status()=="playing"){_8c1.stop();}});if(_8c0){var anim=this[open?"_wipeIn":"_wipeOut"];anim.play();}else{this.hideNode.style.display=this.wipeNode.style.display=open?"":"none";}if(this._started){if(open){this._onShow();}else{this.onHide();}}this.arrowNodeInner.innerHTML=open?"-":"+";dijit.setWaiState(this.containerNode,"hidden",open?"false":"true");dijit.setWaiState(this.focusNode,"pressed",open?"true":"false");this._set("open",open);this._setCss();},_setToggleableAttr:function $DQR_(_8c2){dijit.setWaiRole(this.focusNode,_8c2?"button":"heading");if(_8c2){dijit.setWaiState(this.focusNode,"controls",this.id+"_pane");dojo.attr(this.focusNode,"tabIndex",this.tabIndex);}else{dojo.removeAttr(this.focusNode,"tabIndex");}this._set("toggleable",_8c2);this._setCss();},_setContentAttr:function $DQS_(_8c3){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments);}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop();}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play();}else{this.hideNode.style.display="";}}},toggle:function $DQT_(){this._setOpenAttr(!this.open,true);},_setCss:function $DQU_(){var node=this.titleBarNode||this.focusNode;var _8c4=this._titleBarClass;this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");dojo.replaceClass(node,this._titleBarClass,_8c4||"");this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function $DQV_(e){if(e.charOrCode==dojo.keys.ENTER||e.charOrCode==" "){if(this.toggleable){this.toggle();}dojo.stopEvent(e);}else{if(e.charOrCode==dojo.keys.DOWN_ARROW&&this.open){this.containerNode.focus();e.preventDefault();}}},_onTitleClick:function $DQW_(){if(this.toggleable){this.toggle();}},setTitle:function $DQX_(_8c5){dojo.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",_8c5);}});}if(!dojo._hasResource["betterform.ui.container.TitlePaneGroup"]){dojo._hasResource["betterform.ui.container.TitlePaneGroup"]=true;dojo.provide("betterform.ui.container.TitlePaneGroup");dojo.declare("betterform.ui.container.TitlePaneGroup",[betterform.ui.container.Container,dijit.TitlePane],{handleStateChange:function $DBo9_(){this.inherited(arguments);}});}if(!dojo._hasResource["betterform.BfRequiredCompact"]){dojo._hasResource["betterform.BfRequiredCompact"]=true;dojo.provide("betterform.BfRequiredCompact");}if(!dojo._hasResource["betterform.ui.timeline.TimeLine"]){dojo._hasResource["betterform.ui.timeline.TimeLine"]=true;dojo.provide("betterform.ui.timeline.TimeLine");dojo.declare("betterform.ui.timeline.TimeLine",betterform.ui.ControlValue,{timeLine:null,t1:null,resizeTimerID:null,templateString:dojo.cache("betterform","ui/templates/TimeLine.html","<div dojoAttachEvent=\"onresize:_onResize\" dojoAttachPoint=\"timelineNode\" style=\"height: 150px;\" class=\"xfTimeLine\"></div>\n\n"),instanceId:null,modelId:null,adjustTimestamp:false,buildRendering:function $DBlx_(){this.inherited(arguments);this.instanceId=dojo.attr(this.srcNodeRef,"instanceId");this.modelId=dojo.attr(this.srcNodeRef,"modelId");},postMixInProperties:function $DBly_(){this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBlz_(){this.inherited(arguments);this._createInitialTimeline();},_createInitialTimeline:function $DBl0_(){dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._updateTimeLine));},adjustTimelineToDate:function $DBl1_(_8c6){var _8c7=null;if(_8c6!=undefined){_8c7=Timeline.DateTime.parseIso8601DateTime(_8c6);}this._adjustAndCreateTimeline(_8c7);},_updateTimeLine:function $DBl2_(data){this.eventSource=new Timeline.DefaultEventSource();var _8c8=dojo.query("data event",data);event=_8c8[_8c8.length-1];var _8c9;if(event==undefined){var _8ca=dojo.query("*[value]",data)[0];_8c9=dojo.attr(_8ca,"value");}else{_8c9=dojo.attr(event,"start");}this.date=_8c9;this._adjustAndCreateTimeline(this.date);this.eventSource.loadXML(data,"");},_adjustAndCreateTimeline:function $DBl3_(_8cb){this.timeZone=0;var _8cc={overview:false,intervalUnit:Timeline.DateTime.DAY,eventSource:this.eventSource,date:_8cb,width:"50%",showEventText:true,intervalPixels:200,timeZone:this.timeZone};var _8cd={overview:true,intervalUnit:Timeline.DateTime.MONTH,eventSource:this.eventSource,date:_8cb,width:"25%",showEventText:true,intervalPixels:100,timeZone:this.timeZone};var _8ce={overview:true,intervalUnit:Timeline.DateTime.YEAR,eventSource:this.eventSource,date:_8cb,width:"25%",showEventText:true,intervalPixels:50,timeZone:this.timeZone};var _8cf=[Timeline.createBandInfo(_8cc),Timeline.createBandInfo(_8cd),Timeline.createBandInfo(_8ce)];_8cf[1].syncWith=0;_8cf[1].highlight=true;_8cf[2].syncWith=1;_8cf[2].highlight=true;var _8d0;if(dijit.byId("timestampDijit-value")!=undefined){_8d0=Timeline.DateTime.parseIso8601DateTime(dijit.byId("timestampDijit-value").getControlValue());}else{_8d0=_8cb;}if(_8d0==undefined){_8d0=this.date;}for(var i=0;i<_8cf.length;i++){_8cf[i].decorators=[new Timeline.PointHighlightDecorator({date:_8d0,color:"#FFC080",opacity:50,cssClass:"p-highlight1"})];}this.timeLine=Timeline.create(this.timelineNode,_8cf);},getControlValue:function $DBl4_(){return this.date;},_handleSetControlValue:function $DBl5_(_8d1){dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._updateTimeLine));},_onResize:function $DBl6_(){if(this.resizeTimerID==null){this.resizeTimerID=window.setTimeout(function(){this.resizeTimerID=null;this.timeLine.layout();},500);}}});}if(!dojo._hasResource["dojo.DeferredList"]){dojo._hasResource["dojo.DeferredList"]=true;dojo.provide("dojo.DeferredList");dojo.DeferredList=function $DCH9_(list,_8d2,_8d3,_8d4,_8d5){var _8d6=[];dojo.Deferred.call(this);var self=this;if(list.length===0&&!_8d2){this.resolve([0,[]]);}var _8d7=0;dojo.forEach(list,function(item,i){item.then(function(_8d8){if(_8d2){self.resolve([i,_8d8]);}else{_8d9(true,_8d8);}},function(_8da){if(_8d3){self.reject(_8da);}else{_8d9(false,_8da);}if(_8d4){return null;}throw _8da;});function _8d9(_8db,_8dc){_8d6[i]=[_8db,_8dc];_8d7++;if(_8d7===list.length){self.resolve(_8d6);}};});};dojo.DeferredList.prototype=new dojo.Deferred();dojo.DeferredList.prototype.gatherResults=function $DCIA_(_8dd){var d=new dojo.DeferredList(_8dd,false,true,false);d.addCallback(function(_8de){var ret=[];dojo.forEach(_8de,function(_8df){ret.push(_8df[1]);});return ret;});return d;};}if(!dojo._hasResource["dijit.tree.TreeStoreModel"]){dojo._hasResource["dijit.tree.TreeStoreModel"]=true;dojo.provide("dijit.tree.TreeStoreModel");dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function $DWL_(args){dojo.mixin(this,args);this.connects=[];var _8e0=this.store;if(!_8e0.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_8e0.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_8e0,"onNew",this,"onNewItem"),dojo.connect(_8e0,"onDelete",this,"onDeleteItem"),dojo.connect(_8e0,"onSet",this,"onSetItem")]);}},destroy:function $DWM_(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function $DWN_(_8e1,_8e2){if(this.root){_8e1(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_8e3){if(_8e3.length!=1){throw new Error(this.declaredClass+": query "+dojo.toJson(this.query)+" returned "+_8e3.length+" items, but must return exactly one item");}this.root=_8e3[0];_8e1(this.root);}),onError:_8e2});}},mayHaveChildren:function $DWO_(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function $DWP_(_8e4,_8e5,_8e6){var _8e7=this.store;if(!_8e7.isItemLoaded(_8e4)){var _8e8=dojo.hitch(this,arguments.callee);_8e7.loadItem({item:_8e4,onItem:function $DWQ_(_8e9){_8e8(_8e9,_8e5,_8e6);},onError:_8e6});return;}var _8ea=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_8e7.getValues(_8e4,this.childrenAttrs[i]);_8ea=_8ea.concat(vals);}var _8eb=0;if(!this.deferItemLoadingUntilExpand){dojo.forEach(_8ea,function(item){if(!_8e7.isItemLoaded(item)){_8eb++;}});}if(_8eb==0){_8e5(_8ea);}else{dojo.forEach(_8ea,function(item,idx){if(!_8e7.isItemLoaded(item)){_8e7.loadItem({item:item,onItem:function $DWR_(item){_8ea[idx]=item;if(--_8eb==0){_8e5(_8ea);}},onError:_8e6});}});}},isItem:function $DWS_(_8ec){return this.store.isItem(_8ec);},fetchItemByIdentity:function $DWT_(_8ed){this.store.fetchItemByIdentity(_8ed);},getIdentity:function $DWU_(item){return this.store.getIdentity(item);},getLabel:function $DWV_(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function $DWW_(args,_8ee,_8ef){var _8f0={parent:_8ee,attribute:this.childrenAttrs[0]},_8f1;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_8ee,true,_8ef);}else{_8f1=this.store.newItem(args,_8f0);if(_8f1&&(_8ef!=undefined)){this.pasteItem(_8f1,_8ee,_8ee,false,_8ef);}}}});}else{_8f1=this.store.newItem(args,_8f0);if(_8f1&&(_8ef!=undefined)){this.pasteItem(_8f1,_8ee,_8ee,false,_8ef);}}},pasteItem:function $DWX_(_8f2,_8f3,_8f4,_8f5,_8f6){var _8f7=this.store,_8f8=this.childrenAttrs[0];if(_8f3){dojo.forEach(this.childrenAttrs,function(attr){if(_8f7.containsValue(_8f3,attr,_8f2)){if(!_8f5){var _8f9=dojo.filter(_8f7.getValues(_8f3,attr),function(x){return x!=_8f2;});_8f7.setValues(_8f3,attr,_8f9);}_8f8=attr;}});}if(_8f4){if(typeof _8f6=="number"){var _8fa=_8f7.getValues(_8f4,_8f8).slice();_8fa.splice(_8f6,0,_8f2);_8f7.setValues(_8f4,_8f8,_8fa);}else{_8f7.setValues(_8f4,_8f8,_8f7.getValues(_8f4,_8f8).concat(_8f2));}}},onChange:function $DWY_(item){},onChildrenChange:function $DWZ_(_8fb,_8fc){},onDelete:function $DWa_(_8fd,_8fe){},onNewItem:function $DWb_(item,_8ff){if(!_8ff){return;}this.getChildren(_8ff.item,dojo.hitch(this,function(_900){this.onChildrenChange(_8ff.item,_900);}));},onDeleteItem:function $DWc_(item){this.onDelete(item);},onSetItem:function $DWd_(item,_901,_902,_903){if(dojo.indexOf(this.childrenAttrs,_901)!=-1){this.getChildren(item,dojo.hitch(this,function(_904){this.onChildrenChange(item,_904);}));}else{this.onChange(item);}}});}if(!dojo._hasResource["dijit.tree.ForestStoreModel"]){dojo._hasResource["dijit.tree.ForestStoreModel"]=true;dojo.provide("dijit.tree.ForestStoreModel");dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function $DV5_(_905){this.root={store:this,root:true,id:_905.rootId,label:_905.rootLabel,children:_905.rootChildren};},mayHaveChildren:function $DV6_(item){return item===this.root||this.inherited(arguments);},getChildren:function $DV7_(_906,_907,_908){if(_906===this.root){if(this.root.children){_907(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_909){this.root.children=_909;_907(_909);}),onError:_908});}}else{this.inherited(arguments);}},isItem:function $DV8_(_90a){return (_90a===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function $DV9_(_90b){if(_90b.identity==this.root.id){var _90c=_90b.scope?_90b.scope:dojo.global;if(_90b.onItem){_90b.onItem.call(_90c,this.root);}}else{this.inherited(arguments);}},getIdentity:function $DWA_(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function $DWB_(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function $DWC_(args,_90d,_90e){if(_90d===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function $DWD_(args){},pasteItem:function $DWE_(_90f,_910,_911,_912,_913){if(_910===this.root){if(!_912){this.onLeaveRoot(_90f);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_90f,_910===this.root?null:_910,_911===this.root?null:_911,_912,_913);if(_911===this.root){this.onAddToRoot(_90f);}},onAddToRoot:function $DWF_(item){},onLeaveRoot:function $DWG_(item){},_requeryTop:function $DWH_(){var _914=this.root.children||[];this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_915){this.root.children=_915;if(_914.length!=_915.length||dojo.some(_914,function(item,idx){return _915[idx]!=item;})){this.onChildrenChange(this.root,_915);}})});},onNewItem:function $DWI_(item,_916){this._requeryTop();this.inherited(arguments);},onDeleteItem:function $DWJ_(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function $DWK_(item,_917,_918,_919){this._requeryTop();this.inherited(arguments);}});}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function $DB2o_(node,_91a){this.node=dojo.byId(node);if(!_91a){_91a={};}this.creator=_91a.creator||null;this.skipForm=_91a.skipForm;this.parent=_91a.dropParent&&dojo.byId(_91a.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_91a&&_91a._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function $DB2p_(){},getItem:function $DB2q_(key){return this.map[key];},setItem:function $DB2r_(key,data){this.map[key]=data;},delItem:function $DB2s_(key){delete this.map[key];},forInItems:function $DB2t_(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function $DB2u_(){this.map={};},getAllNodes:function $DB2v_(){return dojo.query("> .dojoDndItem",this.parent);},sync:function $DB2w_(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function $DB2x_(data,_91b,_91c){if(!this.parent.firstChild){_91c=null;}else{if(_91b){if(!_91c){_91c=this.parent.firstChild;}}else{if(_91c){_91c=_91c.nextSibling;}}}if(_91c){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_91c);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function $DB2y_(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function $DB2z_(_91d,node){_91d._skipStartup=true;return new dojo.dnd.Container(node,_91d);},startup:function $DB20_(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function $DB21_(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function $DB22_(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function $DB23_(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function $DB24_(){},onOutEvent:function $DB25_(){},_changeState:function $DB26_(type,_91e){var _91f="dojoDnd"+type;var _920=type.toLowerCase()+"State";dojo.replaceClass(this.node,_91f+_91e,_91f+this[_920]);this[_920]=_91e;},_addItemClass:function $DB27_(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function $DB28_(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function $DB29_(e){var node=e.target;if(node){for(var _921=node.parentNode;_921;node=_921,_921=node.parentNode){if(_921==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function $DB3A_(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function $DB3C_(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function $DB3D_(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function $DB3E_(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function $DB3F_(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _922=item&&dojo.isObject(item),data,type,n;if(_922&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_922&&item.data)?item.data:item;type=(_922&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}if(!n.id){n.id=dojo.dnd.getUniqueId();}return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dijit.tree._dndContainer"]){dojo._hasResource["dijit.tree._dndContainer"]=true;dojo.provide("dijit.tree._dndContainer");dojo.getObject("tree",true,dojo);dijit.tree._compareNodes=function $DV4_(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}};dojo.declare("dijit.tree._dndContainer",null,{constructor:function $DVu_(tree,_923){this.tree=tree;this.node=tree.domNode;dojo.mixin(this,_923);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");this.events=[dojo.connect(this.node,"onmouseenter",this,"onOverEvent"),dojo.connect(this.node,"onmouseleave",this,"onOutEvent"),dojo.connect(this.tree,"_onNodeMouseEnter",this,"onMouseOver"),dojo.connect(this.tree,"_onNodeMouseLeave",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",dojo,"stopEvent"),dojo.connect(this.node,"onselectstart",dojo,"stopEvent")];},getItem:function $DVv_(key){var _924=this.selection[key],ret={data:_924,type:["treeNode"]};return ret;},destroy:function $DVw_(){dojo.forEach(this.events,dojo.disconnect);this.node=this.parent=null;},onMouseOver:function $DVx_(_925,evt){this.current=_925;},onMouseOut:function $DVy_(_926,evt){this.current=null;},_changeState:function $DVz_(type,_927){var _928="dojoDnd"+type;var _929=type.toLowerCase()+"State";dojo.replaceClass(this.node,_928+_927,_928+this[_929]);this[_929]=_927;},_addItemClass:function $DV0_(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function $DV1_(node,type){dojo.removeClass(node,"dojoDndItem"+type);},onOverEvent:function $DV2_(){this._changeState("Container","Over");},onOutEvent:function $DV3_(){this._changeState("Container","");}});}if(!dojo._hasResource["dijit.tree._dndSelector"]){dojo._hasResource["dijit.tree._dndSelector"]=true;dojo.provide("dijit.tree._dndSelector");dojo.declare("dijit.tree._dndSelector",dijit.tree._dndContainer,{constructor:function $DU8_(tree,_92a){this.selection={};this.anchor=null;dijit.setWaiState(this.tree.domNode,"multiselect",!this.singular);this.events.push(dojo.connect(this.tree.domNode,"onmousedown",this,"onMouseDown"),dojo.connect(this.tree.domNode,"onmouseup",this,"onMouseUp"),dojo.connect(this.tree.domNode,"onmousemove",this,"onMouseMove"));},singular:false,getSelectedTreeNodes:function $DU9_(){var _92b=[],sel=this.selection;for(var i in sel){_92b.push(sel[i]);}return _92b;},selectNone:function $DVA_(){this.setSelection([]);return this;},destroy:function $DVB_(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function $DVC_(node,_92c){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_92c){this.anchor=node;}return node;},removeTreeNode:function $DVD_(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function $DVE_(node){return node.id&&!!this.selection[node.id];},setSelection:function $DVF_(_92d){var _92e=this.getSelectedTreeNodes();dojo.forEach(this._setDifference(_92e,_92d),dojo.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));dojo.forEach(this._setDifference(_92d,_92e),dojo.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function $DVG_(xs,ys){dojo.forEach(ys,function(y){y.__exclude__=true;});var ret=dojo.filter(xs,function(x){return !x.__exclude__;});dojo.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function $DVH_(){var _92f=this.getSelectedTreeNodes();var _930=[],_931=[];dojo.forEach(_92f,function(node){_931.push(node);_930.push(node.getTreePath());});var _932=dojo.map(_931,function(node){return node.item;});this.tree._set("paths",_930);this.tree._set("path",_930[0]||[]);this.tree._set("selectedNodes",_931);this.tree._set("selectedNode",_931[0]||null);this.tree._set("selectedItems",_932);this.tree._set("selectedItem",_932[0]||null);},onMouseDown:function $DVI_(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.button==dojo.mouseButtons.RIGHT){return;}dojo.stopEvent(e);var _933=this.current,copy=dojo.isCopyKey(e),id=_933.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_933,copy,e.shiftKey);},onMouseUp:function $DVJ_(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,dojo.isCopyKey(e),e.shiftKey);},onMouseMove:function $DVK_(e){this._doDeselect=false;},userSelect:function $DVL_(node,_934,_935){if(this.singular){if(this.anchor==node&&_934){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_935&&this.anchor){var cr=dijit.tree._compareNodes(this.anchor.rowNode,node.rowNode),_936,end,_937=this.anchor;if(cr<0){_936=_937;end=node;}else{_936=node;end=_937;}nodes=[];while(_936!=end){nodes.push(_936);_936=this.tree._getNextNode(_936);}nodes.push(end);this.setSelection(nodes);}else{if(this.selection[node.id]&&_934){this.removeTreeNode(node);}else{if(_934){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},forInSelectedItems:function $DVM_(f,o){o=o||dojo.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained,dijit._CssStateMixin],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:dojo.cache("dijit","templates/TreeNode.html","<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span dojoAttachPoint=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" dojoAttachEvent=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n"),baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"labelNode",type:"innerText"},tooltip:{node:"rowNode",type:"attribute",attribute:"title"}}),buildRendering:function $DSo_(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function $DSp_(_938){var _939=(Math.max(_938,0)*this.tree._nodePixelIndent)+"px";dojo.style(this.domNode,"backgroundPosition",_939+" 0px");dojo.style(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_939);dojo.forEach(this.getChildren(),function(_93a){_93a.set("indent",_938+1);});this._set("indent",_938);},markProcessing:function $DSq_(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function $DSr_(){this._setExpando(false);},_updateItemClasses:function $DSs_(item){var tree=this.tree,_93b=tree.model;if(tree._v10Compat&&item===_93b.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");},_applyClassAndStyle:function $DSt_(item,_93c,_93d){var _93e="_"+_93c+"Class";var _93f=_93c+"Node";var _940=this[_93e];this[_93e]=this.tree["get"+_93d+"Class"](item,this.isExpanded);dojo.replaceClass(this[_93f],this[_93e]||"",_940||"");dojo.style(this[_93f],this.tree["get"+_93d+"Style"](item,this.isExpanded)||{});},_updateLayout:function $DSu_(){var _941=this.getParent();if(!_941||_941.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function $DSv_(_942){var _943=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_944=["*","-","+","*"],idx=_942?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.replaceClass(this.expandoNode,_943[idx],_943);this.expandoNodeText.innerHTML=_944[idx];},expand:function $DSw_(){if(this._expandDeferred){return this._expandDeferred;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){dijit.setWaiRole(this.containerNode,"group");}dojo.addClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","true");}var def,_945=dojo.fx.wipeIn({node:this.containerNode,duration:dijit.defaultDuration,onEnd:function $DSx_(){def.callback(true);}});def=(this._expandDeferred=new dojo.Deferred(function(){_945.stop();}));_945.play();return def;},collapse:function $DSy_(){if(!this.isExpanded){return;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","false");}dojo.removeClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeOut.play();},indent:0,setChildItems:function $DSz_(_946){var tree=this.tree,_947=tree.model,defs=[];dojo.forEach(this.getChildren(),function(_948){dijit._Container.prototype.removeChild.call(this,_948);},this);this.state="LOADED";if(_946&&_946.length>0){this.isExpandable=true;dojo.forEach(_946,function(item){var id=_947.getIdentity(item),_949=tree._itemNodesMap[id],node;if(_949){for(var i=0;i<_949.length;i++){if(_949[i]&&!_949[i].getParent()){node=_949[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_947.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),dir:tree.dir,lang:tree.lang,indent:this.indent+1});if(_949){_949.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(item)){defs.push(tree._expandNode(node));}},this);dojo.forEach(this.getChildren(),function(_94a,idx){_94a._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}return new dojo.DeferredList(defs);},getTreePath:function $DS0_(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function $DS1_(){return this.tree.model.getIdentity(this.item);},removeChild:function $DS2_(node){this.inherited(arguments);var _94b=this.getChildren();if(_94b.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_94b,function(_94c){_94c._updateLayout();});},makeExpandable:function $DS3_(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function $DS4_(evt){this.tree._onNodeFocus(this);},setSelected:function $DS5_(_94d){dijit.setWaiState(this.labelNode,"selected",_94d);dojo.toggleClass(this.rowNode,"dijitTreeRowSelected",_94d);},setFocusable:function $DS6_(_94e){this.labelNode.setAttribute("tabIndex",_94e?"0":"-1");},_onClick:function $DS7_(evt){this.tree._onClick(this,evt);},_onDblClick:function $DS8_(evt){this.tree._onDblClick(this,evt);},_onMouseEnter:function $DS9_(evt){this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function $DTA_(evt){this.tree._onNodeMouseLeave(this,evt);}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:dojo.cache("dijit","templates/Tree.html","<div class=\"dijitTree dijitTreeContainer\" role=\"tree\"\n\tdojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" dojoAttachPoint=\"indentDetector\"></div>\n</div>\n"),persist:true,autoExpand:false,dndController:"dijit.tree._dndSelector",dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function $DTE_(_94f,_950){dojo.publish(this.id,[dojo.mixin({tree:this,event:_94f},_950||{})]);},postMixInProperties:function $DTF_(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}this._loadDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function $DTG_(){this._initState();if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _951={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_951[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_951);}},_store2model:function $DTH_(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _952={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_952.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_952.getChildren=dojo.hitch(this,function(item,_953,_954){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_953,_954);});}this.model=new dijit.tree.ForestStoreModel(_952);this.showRoot=Boolean(this.label);},onLoad:function $DTI_(){},_load:function $DTJ_(){this.model.getRoot(dojo.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";dijit.setWaiRole(this.domNode,"presentation");dijit.setWaiRole(rn.labelNode,"presentation");dijit.setWaiRole(rn.containerNode,"tree");}this.domNode.appendChild(rn.domNode);var _955=this.model.getIdentity(item);if(this._itemNodesMap[_955]){this._itemNodesMap[_955].push(rn);}else{this._itemNodesMap[_955]=[rn];}rn._updateLayout();this._expandNode(rn).addCallback(dojo.hitch(this,function(){this._loadDeferred.callback(true);this.onLoad();}));}),function(err){console.error(this,": error loading root: ",err);});},getNodesByItem:function $DTK_(item){if(!item){return [];}var _956=dojo.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_956]);},_setSelectedItemAttr:function $DTL_(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function $DTM_(_957){var tree=this;this._loadDeferred.addCallback(dojo.hitch(this,function(){var _958=dojo.map(_957,function(item){return (!item||dojo.isString(item))?item:tree.model.getIdentity(item);});var _959=[];dojo.forEach(_958,function(id){_959=_959.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_959);}));},_setPathAttr:function $DTN_(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function $DTO_(_95a){var tree=this;return new dojo.DeferredList(dojo.map(_95a,function(path){var d=new dojo.Deferred();path=dojo.map(path,function(item){return dojo.isString(item)?item:tree.model.getIdentity(item);});if(path.length){tree._loadDeferred.addCallback(function(){_95b(path,[tree.rootNode],d);});}else{d.errback("Empty path");}return d;})).addCallback(_95c);function _95b(path,_95d,def){var _95e=path.shift();var _95f=dojo.filter(_95d,function(node){return node.getIdentity()==_95e;})[0];if(!!_95f){if(path.length){tree._expandNode(_95f).addCallback(function(){_95b(path,_95f.getChildren(),def);});}else{def.callback(_95f);}}else{def.errback("Could not expand path at "+_95e);}};function _95c(_960){tree.set("selectedNodes",dojo.map(dojo.filter(_960,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function $DTP_(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function $DTQ_(_961){this._loadDeferred.addCallback(dojo.hitch(this,function(){this.dndController.setSelection(_961);}));},mayHaveChildren:function $DTR_(item){},getItemChildren:function $DTS_(_962,_963){},getLabel:function $DTT_(item){return this.model.getLabel(item);},getIconClass:function $DTU_(item,_964){return (!item||this.model.mayHaveChildren(item))?(_964?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function $DTV_(item,_965){},getRowClass:function $DTW_(item,_966){},getIconStyle:function $DTX_(item,_967){},getLabelStyle:function $DTY_(item,_968){},getRowStyle:function $DTZ_(item,_969){},getTooltip:function $DTa_(item){return "";},_onKeyPress:function $DTb_(e){if(e.altKey){return;}var dk=dojo.keys;var _96a=dijit.getEnclosingWidget(e.target);if(!_96a){return;}var key=e.charOrCode;if(typeof key=="string"&&key!=" "){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_96a,key:key.toLowerCase()});dojo.stopEvent(e);}}else{if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}var map=this._keyHandlerMap;if(!map){map={};map[dk.ENTER]="_onEnterKey";map[dk.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?dk.LEFT_ARROW:dk.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?dk.RIGHT_ARROW:dk.LEFT_ARROW]="_onRightArrow";map[dk.UP_ARROW]="_onUpArrow";map[dk.DOWN_ARROW]="_onDownArrow";map[dk.HOME]="_onHomeKey";map[dk.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_96a,item:_96a.item,evt:e});dojo.stopEvent(e);}}},_onEnterKey:function $DTc_(_96b){this._publish("execute",{item:_96b.item,node:_96b.node});this.dndController.userSelect(_96b.node,dojo.isCopyKey(_96b.evt),_96b.evt.shiftKey);this.onClick(_96b.item,_96b.node,_96b.evt);},_onDownArrow:function $DTd_(_96c){var node=this._getNextNode(_96c.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function $DTe_(_96d){var node=_96d.node;var _96e=node.getPreviousSibling();if(_96e){node=_96e;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _96f=node.getChildren();node=_96f[_96f.length-1];}}else{var _970=node.getParent();if(!(!this.showRoot&&_970===this.rootNode)){node=_970;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function $DTf_(_971){var node=_971.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function $DTg_(_972){var node=_972.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _973=node.getParent();if(_973&&_973.isTreeNode&&!(!this.showRoot&&_973===this.rootNode)){this.focusNode(_973);}}},_onHomeKey:function $DTh_(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function $DTi_(_974){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function $DTj_(_975){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_975.key;clearTimeout(cs.timer);}else{cs=this._curSearch={pattern:_975.key,startNode:_975.node};}var self=this;cs.timer=setTimeout(function(){delete self._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function $DTk_(node,_976){return dojo.isDescendant(node,_976.expandoNode);},_onClick:function $DTl_(_977,e){var _978=e.target,_979=this.isExpandoNode(_978,_977);if((this.openOnClick&&_977.isExpandable)||_979){if(_977.isExpandable){this._onExpandoClick({node:_977});}}else{this._publish("execute",{item:_977.item,node:_977,evt:e});this.onClick(_977.item,_977,e);this.focusNode(_977);}dojo.stopEvent(e);},_onDblClick:function $DTm_(_97a,e){var _97b=e.target,_97c=(_97b==_97a.expandoNode||_97b==_97a.expandoNodeText);if((this.openOnDblClick&&_97a.isExpandable)||_97c){if(_97a.isExpandable){this._onExpandoClick({node:_97a});}}else{this._publish("execute",{item:_97a.item,node:_97a,evt:e});this.onDblClick(_97a.item,_97a,e);this.focusNode(_97a);}dojo.stopEvent(e);},_onExpandoClick:function $DTn_(_97d){var node=_97d.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function $DTo_(item,node,evt){},onDblClick:function $DTp_(item,node,evt){},onOpen:function $DTq_(item,node){},onClose:function $DTr_(item,node){},_getNextNode:function $DTs_(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _97e=node.getNextSibling();if(_97e){return _97e;}node=node.getParent();}return null;}},_getRootOrFirstNode:function $DTt_(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function $DTu_(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);if(node.item){this._state(node.item,false);this._saveState();}}},_expandNode:function $DTv_(node,_97f){if(node._expandNodeDeferred&&!_97f){return node._expandNodeDeferred;}var _980=this.model,item=node.item,_981=this;switch(node.state){case "UNCHECKED":node.markProcessing();var def=(node._expandNodeDeferred=new dojo.Deferred());_980.getChildren(item,function(_982){node.unmarkProcessing();var scid=node.setChildItems(_982);var ed=_981._expandNode(node,true);scid.addCallback(function(){ed.addCallback(function(){def.callback();});});},function(err){console.error(_981,": error loading root children: ",err);});break;default:def=(node._expandNodeDeferred=node.expand());this.onOpen(node.item,node);if(item){this._state(item,true);this._saveState();}}return def;},focusNode:function $DTw_(node){dijit.focus(node.labelNode);},_onNodeFocus:function $DTx_(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function $DTy_(node){},_onNodeMouseLeave:function $DTz_(node){},_onItemChange:function $DT0_(item){var _983=this.model,_984=_983.getIdentity(item),_985=this._itemNodesMap[_984];if(_985){var _986=this.getLabel(item),_987=this.getTooltip(item);dojo.forEach(_985,function(node){node.set({item:item,label:_986,tooltip:_987});node._updateItemClasses(item);});}},_onItemChildrenChange:function $DT1_(_988,_989){var _98a=this.model,_98b=_98a.getIdentity(_988),_98c=this._itemNodesMap[_98b];if(_98c){dojo.forEach(_98c,function(_98d){_98d.setChildItems(_989);});}},_onItemDelete:function $DT2_(item){var _98e=this.model,_98f=_98e.getIdentity(item),_990=this._itemNodesMap[_98f];if(_990){dojo.forEach(_990,function(node){this.dndController.removeTreeNode(node);var _991=node.getParent();if(_991){_991.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_98f];}},_initState:function $DT3_(){if(this.persist){var _992=dojo.cookie(this.cookieName);this._openedItemIds={};if(_992){dojo.forEach(_992.split(","),function(item){this._openedItemIds[item]=true;},this);}}},_state:function $DT4_(item,_993){if(!this.persist){return false;}var id=this.model.getIdentity(item);if(arguments.length===1){return this._openedItemIds[id];}if(_993){this._openedItemIds[id]=true;}else{delete this._openedItemIds[id];}},_saveState:function $DT5_(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","),{expires:365});},destroy:function $DT6_(){if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!dojo.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function $DT7_(){this.destroy();},resize:function $DT8_(_994){if(_994){dojo.marginBox(this.domNode,_994);}this._nodePixelIndent=dojo._getMarginSize(this.tree.indentDetector).w;if(this.tree.rootNode){this.tree.rootNode.set("indent",this.showRoot?0:-1);}},_createTreeNode:function $DT9_(args){return new dijit._TreeNode(args);}});}if(!dojo._hasResource["dojox.data.OpmlStore"]){dojo._hasResource["dojox.data.OpmlStore"]=true;dojo.provide("dojox.data.OpmlStore");dojo.declare("dojox.data.OpmlStore",null,{constructor:function $DpW_(_995){this._xmlData=null;this._arrayOfTopLevelItems=[];this._arrayOfAllItems=[];this._metadataNodes=null;this._loadFinished=false;this.url=_995.url;this._opmlData=_995.data;if(_995.label){this.label=_995.label;}this._loadInProgress=false;this._queuedFetches=[];this._identityMap={};this._identCount=0;this._idProp="_I";if(_995&&"urlPreventCache" in _995){this.urlPreventCache=_995.urlPreventCache?true:false;}},label:"text",url:"",urlPreventCache:false,_assertIsItem:function $DpX_(item){if(!this.isItem(item)){throw new Error("dojo.data.OpmlStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function $DpY_(_996){if(!dojo.isString(_996)){throw new Error("dojox.data.OpmlStore: a function was passed an attribute argument that was not an attribute object nor an attribute name string");}},_removeChildNodesThatAreNotElementNodes:function $DpZ_(node,_997){var _998=node.childNodes;if(_998.length===0){return;}var _999=[];var i,_99a;for(i=0;i<_998.length;++i){_99a=_998[i];if(_99a.nodeType!=1){_999.push(_99a);}}for(i=0;i<_999.length;++i){_99a=_999[i];node.removeChild(_99a);}if(_997){for(i=0;i<_998.length;++i){_99a=_998[i];this._removeChildNodesThatAreNotElementNodes(_99a,_997);}}},_processRawXmlTree:function $Dpa_(_99b){this._loadFinished=true;this._xmlData=_99b;var _99c=_99b.getElementsByTagName("head");var _99d=_99c[0];if(_99d){this._removeChildNodesThatAreNotElementNodes(_99d);this._metadataNodes=_99d.childNodes;}var _99e=_99b.getElementsByTagName("body");var _99f=_99e[0];if(_99f){this._removeChildNodesThatAreNotElementNodes(_99f,true);var _9a0=_99e[0].childNodes;for(var i=0;i<_9a0.length;++i){var node=_9a0[i];if(node.tagName=="outline"){this._identityMap[this._identCount]=node;this._identCount++;this._arrayOfTopLevelItems.push(node);this._arrayOfAllItems.push(node);this._checkChildNodes(node);}}}},_checkChildNodes:function $Dpb_(node){if(node.firstChild){for(var i=0;i<node.childNodes.length;i++){var _9a1=node.childNodes[i];if(_9a1.tagName=="outline"){this._identityMap[this._identCount]=_9a1;this._identCount++;this._arrayOfAllItems.push(_9a1);this._checkChildNodes(_9a1);}}}},_getItemsArray:function $Dpc_(_9a2){if(_9a2&&_9a2.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},getValue:function $Dpd_(item,_9a3,_9a4){this._assertIsItem(item);this._assertIsAttribute(_9a3);if(_9a3=="children"){return (item.firstChild||_9a4);}else{var _9a5=item.getAttribute(_9a3);return (_9a5!==undefined)?_9a5:_9a4;}},getValues:function $Dpe_(item,_9a6){this._assertIsItem(item);this._assertIsAttribute(_9a6);var _9a7=[];if(_9a6=="children"){for(var i=0;i<item.childNodes.length;++i){_9a7.push(item.childNodes[i]);}}else{if(item.getAttribute(_9a6)!==null){_9a7.push(item.getAttribute(_9a6));}}return _9a7;},getAttributes:function $Dpf_(item){this._assertIsItem(item);var _9a8=[];var _9a9=item;var _9aa=_9a9.attributes;for(var i=0;i<_9aa.length;++i){var _9ab=_9aa.item(i);_9a8.push(_9ab.nodeName);}if(_9a9.childNodes.length>0){_9a8.push("children");}return _9a8;},hasAttribute:function $Dpg_(item,_9ac){return (this.getValues(item,_9ac).length>0);},containsValue:function $Dph_(item,_9ad,_9ae){var _9af=undefined;if(typeof _9ae==="string"){_9af=dojo.data.util.filter.patternToRegExp(_9ae,false);}return this._containsValue(item,_9ad,_9ae,_9af);},_containsValue:function $Dpi_(item,_9b0,_9b1,_9b2){var _9b3=this.getValues(item,_9b0);for(var i=0;i<_9b3.length;++i){var _9b4=_9b3[i];if(typeof _9b4==="string"&&_9b2){return (_9b4.match(_9b2)!==null);}else{if(_9b1===_9b4){return true;}}}return false;},isItem:function $Dpj_(_9b5){return (_9b5&&_9b5.nodeType==1&&_9b5.tagName=="outline"&&_9b5.ownerDocument===this._xmlData);},isItemLoaded:function $Dpk_(_9b6){return this.isItem(_9b6);},loadItem:function $Dpl_(item){},getLabel:function $Dpm_(item){if(this.isItem(item)){return this.getValue(item,this.label);}return undefined;},getLabelAttributes:function $Dpn_(item){return [this.label];},_fetchItems:function $Dpo_(_9b7,_9b8,_9b9){var self=this;var _9ba=function(_9bb,_9bc){var _9bd=null;if(_9bb.query){_9bd=[];var _9be=_9bb.queryOptions?_9bb.queryOptions.ignoreCase:false;var _9bf={};for(var key in _9bb.query){var _9c0=_9bb.query[key];if(typeof _9c0==="string"){_9bf[key]=dojo.data.util.filter.patternToRegExp(_9c0,_9be);}}for(var i=0;i<_9bc.length;++i){var _9c1=true;var _9c2=_9bc[i];for(var key in _9bb.query){var _9c0=_9bb.query[key];if(!self._containsValue(_9c2,key,_9c0,_9bf[key])){_9c1=false;}}if(_9c1){_9bd.push(_9c2);}}}else{if(_9bc.length>0){_9bd=_9bc.slice(0,_9bc.length);}}_9b8(_9bd,_9bb);};if(this._loadFinished){_9ba(_9b7,this._getItemsArray(_9b7.queryOptions));}else{if(this._loadInProgress){this._queuedFetches.push({args:_9b7,filter:_9ba});}else{if(this.url!==""){this._loadInProgress=true;var _9c3={url:self.url,handleAs:"xml",preventCache:self.urlPreventCache};var _9c4=dojo.xhrGet(_9c3);_9c4.addCallback(function(data){self._processRawXmlTree(data);_9ba(_9b7,self._getItemsArray(_9b7.queryOptions));self._handleQueuedFetches();});_9c4.addErrback(function(_9c5){throw _9c5;});}else{if(this._opmlData){this._processRawXmlTree(this._opmlData);this._opmlData=null;_9ba(_9b7,this._getItemsArray(_9b7.queryOptions));}else{throw new Error("dojox.data.OpmlStore: No OPML source data was provided as either URL or XML data input.");}}}}},getFeatures:function $Dpp_(){var _9c6={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};return _9c6;},getIdentity:function $Dpq_(item){if(this.isItem(item)){for(var i in this._identityMap){if(this._identityMap[i]===item){return i;}}}return null;},fetchItemByIdentity:function $Dpr_(_9c7){if(!this._loadFinished){var self=this;if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_9c7});}else{this._loadInProgress=true;var _9c8={url:self.url,handleAs:"xml"};var _9c9=dojo.xhrGet(_9c8);_9c9.addCallback(function(data){var _9ca=_9c7.scope?_9c7.scope:dojo.global;try{self._processRawXmlTree(data);var item=self._identityMap[_9c7.identity];if(!self.isItem(item)){item=null;}if(_9c7.onItem){_9c7.onItem.call(_9ca,item);}self._handleQueuedFetches();}catch(error){if(_9c7.onError){_9c7.onError.call(_9ca,error);}}});_9c9.addErrback(function(_9cb){this._loadInProgress=false;if(_9c7.onError){var _9cc=_9c7.scope?_9c7.scope:dojo.global;_9c7.onError.call(_9cc,_9cb);}});}}else{if(this._opmlData){this._processRawXmlTree(this._opmlData);this._opmlData=null;var item=this._identityMap[_9c7.identity];if(!self.isItem(item)){item=null;}if(_9c7.onItem){var _9cd=_9c7.scope?_9c7.scope:dojo.global;_9c7.onItem.call(_9cd,item);}}}}else{var item=this._identityMap[_9c7.identity];if(!this.isItem(item)){item=null;}if(_9c7.onItem){var _9cd=_9c7.scope?_9c7.scope:dojo.global;_9c7.onItem.call(_9cd,item);}}},getIdentityAttributes:function $Dps_(item){return null;},_handleQueuedFetches:function $Dpt_(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _9ce=this._queuedFetches[i];var _9cf=_9ce.args;var _9d0=_9ce.filter;if(_9d0){_9d0(_9cf,this._getItemsArray(_9cf.queryOptions));}else{this.fetchItemByIdentity(_9cf);}}this._queuedFetches=[];}},close:function $Dpu_(_9d1){}});dojo.extend(dojox.data.OpmlStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["betterform.ui.tree.OPMLTree"]){dojo._hasResource["betterform.ui.tree.OPMLTree"]=true;dojo.provide("betterform.ui.tree.OPMLTree");dojo.declare("betterform.ui.tree.OPMLTree",betterform.ui.ControlValue,{rootLabel:"Root Node",templateString:dojo.cache("betterform","ui/templates/Tree.html","<div class=\"xfTree\"/>\n"),instanceId:null,modelId:null,store:null,model:null,tree:null,id:null,controlValue:null,templateString:null,buildRendering:function $DBnx_(){this.inherited(arguments);this.instanceId=dojo.attr(this.srcNodeRef,"instanceId");this.modelId=dojo.attr(this.srcNodeRef,"modelId");this.id=dojo.attr(this.srcNodeRef,"id");},postMixInProperties:function $DBny_(){this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBnz_(){this.inherited(arguments);dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._initialTreeCreation));},_initialTreeCreation:function $DBn0_(data){this._createTree(data);},_createTree:function $DBn1_(data){this.store=this._createStore(data);this.model=this._createModel();dojox.xml.parser.removeChildren(this.domNode);var _9d2=dojo.doc.createElement("div");dojo.place(_9d2,this.domNode);this.tree=this._createTreeImpl(_9d2);this.tree.startup();dojo.connect(this.tree,"onClick",this,"_treeClicked");this.treeCreated();},_createStore:function $DBn2_(data){return new dojox.data.OpmlStore({jsid:this.id+"-store",url:"",data:data});},_createModel:function $DBn3_(){return new dijit.tree.ForestStoreModel({jsid:this.id+"-model",store:this.store,query:{},rootId:this.rootLabel,rootLabel:this.rootLabel});},_createTreeImpl:function $DBn4_(_9d3){return new dijit.Tree({model:this.model,jsid:this.id+"-tree"},_9d3);},_treeClicked:function $DBn5_(item,_9d4){if(!(this.store.isItem(item))){return;}this.controlValue=this.store.getValue(item,"text");this.valueChanged(item,_9d4);},_handleSetControlValue:function $DBn6_(_9d5){this.tree.destroy();this.model.destroy();this.store=undefined;dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._createTree));},valueChanged:function $DBn7_(item,_9d6){},getControlValue:function $DBn8_(){return this.controlValue;},getStoreValue:function $DBn9_(item,key){return this.store.getValue(item,key);},treeCreated:function $DBoA_(){}});}if(!dojo._hasResource["dojox.form.Rating"]){dojo._hasResource["dojox.form.Rating"]=true;dojo.provide("dojox.form.Rating");dojo.declare("dojox.form.Rating",dijit.form._FormWidget,{templateString:null,numStars:3,value:0,constructor:function $Del_(_9d7){dojo.mixin(this,_9d7);var tpl="<div dojoAttachPoint=\"domNode\" class=\"dojoxRating dijitInline\">"+"<input type=\"hidden\" value=\"0\" dojoAttachPoint=\"focusNode\" /><ul>${stars}</ul>"+"</div>";var _9d8="<li class=\"dojoxRatingStar dijitInline\" dojoAttachEvent=\"onclick:onStarClick,onmouseover:_onMouse,onmouseout:_onMouse\" value=\"${value}\"></li>";var _9d9="";for(var i=0;i<this.numStars;i++){_9d9+=dojo.string.substitute(_9d8,{value:i+1});}this.templateString=dojo.string.substitute(tpl,{stars:_9d9});},postCreate:function $Dem_(){this.inherited(arguments);this._renderStars(this.value);},_onMouse:function $Den_(evt){if(this.hovering){var _9da=+dojo.attr(evt.target,"value");this.onMouseOver(evt,_9da);this._renderStars(_9da,true);}else{this._renderStars(this.value);}},_renderStars:function $Deo_(_9db,_9dc){dojo.query(".dojoxRatingStar",this.domNode).forEach(function(star,i){if(i+1>_9db){dojo.removeClass(star,"dojoxRatingStarHover");dojo.removeClass(star,"dojoxRatingStarChecked");}else{dojo.removeClass(star,"dojoxRatingStar"+(_9dc?"Checked":"Hover"));dojo.addClass(star,"dojoxRatingStar"+(_9dc?"Hover":"Checked"));}});},onStarClick:function $Dep_(evt){var _9dd=+dojo.attr(evt.target,"value");this.setAttribute("value",_9dd==this.value?0:_9dd);this._renderStars(this.value);this.onChange(this.value);},onMouseOver:function $Deq_(){},setAttribute:function $Der_(key,_9de){this.inherited("setAttribute",arguments);if(key=="value"){this._renderStars(this.value);this.onChange(this.value);}}});}if(!dojo._hasResource["betterform.ui.range.Rating"]){dojo._hasResource["betterform.ui.range.Rating"]=true;dojo.provide("betterform.ui.range.Rating");dojo.declare("betterform.ui.range.Rating",[betterform.ui.ControlValue,dojox.form.Rating],{maximum:null,minimum:null,buildRendering:function $DBlA_(){this.inherited(arguments);this.minimum=Number(dojo.attr(this.srcNodeRef,"start"));this.maximum=Number(dojo.attr(this.srcNodeRef,"end"));var _9df=dojo.attr(this.srcNodeRef,"value");if(_9df==""||_9df==undefined||isNaN(_9df)){this.value=0;}var _9e0=dojo.query("label[id=\""+this.id+"_label\"]");if(_9e0.length){_9e0[0].id=(this.xfControlId+"-label");dijit.setWaiState(this.focusNode,"labelledby",_9e0[0].id);}dijit.setWaiState(this.focusNode,"valuemin",this.minimum);dijit.setWaiState(this.focusNode,"valuemax",this.maximum);},postMixInProperties:function $DBlB_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBlC_(){this.inherited(arguments);this.setCurrentValue();if(this.tabIndex!=undefined){dojo.attr(this.domNode,"tabindex",this.tabIndex);}dojo.connect(this.domNode,"onkeypress",this,"_onKeyPress");},_onMouse:function $DBlD_(evt){},_onFocus:function $DBlE_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBlF_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBlG_(){return this.get("value");},onStarClick:function $DBlH_(evt){if(!this.xfControl.isReadonly()){this.inherited(arguments);if(this.incremental){this.setControlValue();}}},_handleSetControlValue:function $DBlI_(_9e1){this.setAttribute("value",_9e1);},_onKeyPress:function $DBlJ_(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.charOrCode){case dojo.keys.HOME:this._handleSetControlValue(this.minimum);if(this.incremental){this.setControlValue();}break;case dojo.keys.END:this._handleSetControlValue(this.maximum);if(this.incremental){this.setControlValue();}break;case (dojo.keys.RIGHT_ARROW):case (dojo.keys.UP_ARROW):case (dojo.keys.PAGE_UP):var _9e2=Number(this.get("value"));if(_9e2<this.maximum){this._handleSetControlValue((_9e2+1));if(this.incremental){this.setControlValue();}}break;case (dojo.keys.LEFT_ARROW):case (dojo.keys.DOWN_ARROW):case (dojo.keys.PAGE_DOWN):var _9e3=Number(this.get("value"));if(_9e3>this.minimum){this._handleSetControlValue((_9e3-1));if(this.incremental){this.setControlValue();}}break;default:return;}dojo.stopEvent(e);}});}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.getObject("number",true,dojo);dojo.number.format=function $DCDa_(_9e4,_9e5){_9e5=dojo.mixin({},_9e5||{});var _9e6=dojo.i18n.normalizeLocale(_9e5.locale),_9e7=dojo.i18n.getLocalization("dojo.cldr","number",_9e6);_9e5.customs=_9e7;var _9e8=_9e5.pattern||_9e7[(_9e5.type||"decimal")+"Format"];if(isNaN(_9e4)||Math.abs(_9e4)==Infinity){return null;}return dojo.number._applyPattern(_9e4,_9e8,_9e5);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function $DCDb_(_9e9,_9ea,_9eb){_9eb=_9eb||{};var _9ec=_9eb.customs.group,_9ed=_9eb.customs.decimal,_9ee=_9ea.split(";"),_9ef=_9ee[0];_9ea=_9ee[(_9e9<0)?1:0]||("-"+_9ef);if(_9ea.indexOf("%")!=-1){_9e9*=100;}else{if(_9ea.indexOf("")!=-1){_9e9*=1000;}else{if(_9ea.indexOf("")!=-1){_9ec=_9eb.customs.currencyGroup||_9ec;_9ed=_9eb.customs.currencyDecimal||_9ed;_9ea=_9ea.replace(/\u00a4{1,3}/,function(_9f0){var prop=["symbol","currency","displayName"][_9f0.length-1];return _9eb[prop]||_9eb.currency||"";});}else{if(_9ea.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _9f1=dojo.number._numberPatternRE;var _9f2=_9ef.match(_9f1);if(!_9f2){throw new Error("unable to find a number expression in pattern: "+_9ea);}if(_9eb.fractional===false){_9eb.places=0;}return _9ea.replace(_9f1,dojo.number._formatAbsolute(_9e9,_9f2[0],{decimal:_9ed,group:_9ec,places:_9eb.places,round:_9eb.round}));};dojo.number.round=function $DCDc_(_9f3,_9f4,_9f5){var _9f6=10/(_9f5||10);return (_9f6*+_9f3).toFixed(_9f4)/_9f6;};if((0.9).toFixed()==0){(function(){var _9f7=dojo.number.round;dojo.number.round=function $DCDd_(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _9f7(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function $DCDf_(_9f8,_9f9,_9fa){_9fa=_9fa||{};if(_9fa.places===true){_9fa.places=0;}if(_9fa.places===Infinity){_9fa.places=6;}var _9fb=_9f9.split("."),_9fc=typeof _9fa.places=="string"&&_9fa.places.indexOf(","),_9fd=_9fa.places;if(_9fc){_9fd=_9fa.places.substring(_9fc+1);}else{if(!(_9fd>=0)){_9fd=(_9fb[1]||[]).length;}}if(!(_9fa.round<0)){_9f8=dojo.number.round(_9f8,_9fd,_9fa.round);}var _9fe=String(Math.abs(_9f8)).split("."),_9ff=_9fe[1]||"";if(_9fb[1]||_9fa.places){if(_9fc){_9fa.places=_9fa.places.substring(0,_9fc);}var pad=_9fa.places!==undefined?_9fa.places:(_9fb[1]&&_9fb[1].lastIndexOf("0")+1);if(pad>_9ff.length){_9fe[1]=dojo.string.pad(_9ff,pad,"0",true);}if(_9fd<_9ff.length){_9fe[1]=_9ff.substr(0,_9fd);}}else{if(_9fe[1]){_9fe.pop();}}var _a00=_9fb[0].replace(",","");pad=_a00.indexOf("0");if(pad!=-1){pad=_a00.length-pad;if(pad>_9fe[0].length){_9fe[0]=dojo.string.pad(_9fe[0],pad);}if(_a00.indexOf("#")==-1){_9fe[0]=_9fe[0].substr(_9fe[0].length-pad);}}var _a01=_9fb[0].lastIndexOf(","),_a02,_a03;if(_a01!=-1){_a02=_9fb[0].length-_a01-1;var _a04=_9fb[0].substr(0,_a01);_a01=_a04.lastIndexOf(",");if(_a01!=-1){_a03=_a04.length-_a01-1;}}var _a05=[];for(var _a06=_9fe[0];_a06;){var off=_a06.length-_a02;_a05.push((off>0)?_a06.substr(off):_a06);_a06=(off>0)?_a06.slice(0,off):"";if(_a03){_a02=_a03;delete _a03;}}_9fe[0]=_a05.reverse().join(_9fa.group||",");return _9fe.join(_9fa.decimal||".");};dojo.number.regexp=function $DCDh_(_a07){return dojo.number._parseInfo(_a07).regexp;};dojo.number._parseInfo=function $DCDi_(_a08){_a08=_a08||{};var _a09=dojo.i18n.normalizeLocale(_a08.locale),_a0a=dojo.i18n.getLocalization("dojo.cldr","number",_a09),_a0b=_a08.pattern||_a0a[(_a08.type||"decimal")+"Format"],_a0c=_a0a.group,_a0d=_a0a.decimal,_a0e=1;if(_a0b.indexOf("%")!=-1){_a0e/=100;}else{if(_a0b.indexOf("")!=-1){_a0e/=1000;}else{var _a0f=_a0b.indexOf("")!=-1;if(_a0f){_a0c=_a0a.currencyGroup||_a0c;_a0d=_a0a.currencyDecimal||_a0d;}}}var _a10=_a0b.split(";");if(_a10.length==1){_a10.push("-"+_a10[0]);}var re=dojo.regexp.buildGroupRE(_a10,function(_a11){_a11="(?:"+dojo.regexp.escapeString(_a11,".")+")";return _a11.replace(dojo.number._numberPatternRE,function(_a12){var _a13={signed:false,separator:_a08.strict?_a0c:[_a0c,""],fractional:_a08.fractional,decimal:_a0d,exponent:false},_a14=_a12.split("."),_a15=_a08.places;if(_a14.length==1&&_a0e!=1){_a14[1]="###";}if(_a14.length==1||_a15===0){_a13.fractional=false;}else{if(_a15===undefined){_a15=_a08.pattern?_a14[1].lastIndexOf("0")+1:Infinity;}if(_a15&&_a08.fractional==undefined){_a13.fractional=true;}if(!_a08.places&&(_a15<_a14[1].length)){_a15+=","+_a14[1].length;}_a13.places=_a15;}var _a16=_a14[0].split(",");if(_a16.length>1){_a13.groupSize=_a16.pop().length;if(_a16.length>1){_a13.groupSize2=_a16.pop().length;}}return "("+dojo.number._realNumberRegexp(_a13)+")";});},true);if(_a0f){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_a17,_a18,_a19,_a1a){var prop=["symbol","currency","displayName"][_a19.length-1],_a1b=dojo.regexp.escapeString(_a08[prop]||_a08.currency||"");_a18=_a18?"[\\s\\xa0]":"";_a1a=_a1a?"[\\s\\xa0]":"";if(!_a08.strict){if(_a18){_a18+="*";}if(_a1a){_a1a+="*";}return "(?:"+_a18+_a1b+_a1a+")?";}return _a18+_a1b+_a1a;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_a0c,decimal:_a0d,factor:_a0e};};dojo.number.parse=function $DCDk_(_a1c,_a1d){var info=dojo.number._parseInfo(_a1d),_a1e=(new RegExp("^"+info.regexp+"$")).exec(_a1c);if(!_a1e){return NaN;}var _a1f=_a1e[1];if(!_a1e[1]){if(!_a1e[2]){return NaN;}_a1f=_a1e[2];info.factor*=-1;}_a1f=_a1f.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _a1f*info.factor;};dojo.number._realNumberRegexp=function $DCDm_(_a20){_a20=_a20||{};if(!("places" in _a20)){_a20.places=Infinity;}if(typeof _a20.decimal!="string"){_a20.decimal=".";}if(!("fractional" in _a20)||/^0/.test(_a20.places)){_a20.fractional=[true,false];}if(!("exponent" in _a20)){_a20.exponent=[true,false];}if(!("eSigned" in _a20)){_a20.eSigned=[true,false];}var _a21=dojo.number._integerRegexp(_a20),_a22=dojo.regexp.buildGroupRE(_a20.fractional,function(q){var re="";if(q&&(_a20.places!==0)){re="\\"+_a20.decimal;if(_a20.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_a20.places+"}";}}return re;},true);var _a23=dojo.regexp.buildGroupRE(_a20.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_a20.eSigned})+")";}return "";});var _a24=_a21+_a22;if(_a22){_a24="(?:(?:"+_a24+")|(?:"+_a22+"))";}return _a24+_a23;};dojo.number._integerRegexp=function $DCDo_(_a25){_a25=_a25||{};if(!("signed" in _a25)){_a25.signed=[true,false];}if(!("separator" in _a25)){_a25.separator="";}else{if(!("groupSize" in _a25)){_a25.groupSize=3;}}var _a26=dojo.regexp.buildGroupRE(_a25.signed,function(q){return q?"[-+]":"";},true);var _a27=dojo.regexp.buildGroupRE(_a25.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_a25.groupSize,grp2=_a25.groupSize2;if(grp2){var _a28="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_a28+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_a28;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _a26+_a27;};}if(!dojo._hasResource["dijit.form.HorizontalSlider"]){dojo._hasResource["dijit.form.HorizontalSlider"]=true;dojo.provide("dijit.form.HorizontalSlider");dojo.declare("dijit.form.HorizontalSlider",[dijit.form._FormValueWidget,dijit._Container],{templateString:dojo.cache("dijit.form","templates/HorizontalSlider.html","<table class=\"dijit dijitReset dijitSlider dijitSliderH\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress,onkeyup:_onKeyUp\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"topDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" ${!nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" role=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\n\t\t\t\t><div role=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\"\n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" dojoAttachEvent=\"onmousedown:_onHandleClick\" role=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"containerNode,bottomDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n"),value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:dijit.defaultDuration,widgetsInTemplate:true,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{id:""}),baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function $DE7_(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyPress:function $DE8_(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.charOrCode){case dojo.keys.HOME:this._setValueAttr(this.minimum,false);break;case dojo.keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?dojo.keys.RIGHT_ARROW:dojo.keys.LEFT_ARROW):case (this._descending===false?dojo.keys.DOWN_ARROW:dojo.keys.UP_ARROW):case (this._descending===false?dojo.keys.PAGE_DOWN:dojo.keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?dojo.keys.LEFT_ARROW:dojo.keys.RIGHT_ARROW):case (this._descending===false?dojo.keys.UP_ARROW:dojo.keys.DOWN_ARROW):case (this._descending===false?dojo.keys.PAGE_UP:dojo.keys.PAGE_DOWN):this.decrement(e);break;default:return;}dojo.stopEvent(e);},_onHandleClick:function $DE9_(e){if(this.disabled||this.readOnly){return;}if(!dojo.isIE){dijit.focus(this.sliderHandle);}dojo.stopEvent(e);},_isReversed:function $DFA_(){return !this.isLeftToRight();},_onBarClick:function $DFB_(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}dijit.focus(this.sliderHandle);dojo.stopEvent(e);var _a29=dojo.position(this.sliderBarContainer,true);var _a2a=e[this._mousePixelCoord]-_a29[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_a29[this._pixelCount]-_a2a):_a2a,_a29[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function $DFC_(_a2b,_a2c,_a2d){if(this.disabled||this.readOnly){return;}_a2b=_a2b<0?0:_a2c<_a2b?_a2c:_a2b;var _a2e=this.discreteValues;if(_a2e<=1||_a2e==Infinity){_a2e=_a2c;}_a2e--;var _a2f=_a2c/_a2e;var _a30=Math.round(_a2b/_a2f);this._setValueAttr((this.maximum-this.minimum)*_a30/_a2e+this.minimum,_a2d);},_setValueAttr:function $DFD_(_a31,_a32){this._set("value",_a31);this.valueNode.value=_a31;dijit.setWaiState(this.focusNode,"valuenow",_a31);this.inherited(arguments);var _a33=(_a31-this.minimum)/(this.maximum-this.minimum);var _a34=(this._descending===false)?this.remainingBar:this.progressBar;var _a35=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_a32&&this.slideDuration>0&&_a34.style[this._progressPixelSize]){var _a36=this;var _a37={};var _a38=parseFloat(_a34.style[this._progressPixelSize]);var _a39=this.slideDuration*(_a33-_a38/100);if(_a39==0){return;}if(_a39<0){_a39=0-_a39;}_a37[this._progressPixelSize]={start:_a38,end:_a33*100,units:"%"};this._inProgressAnim=dojo.animateProperty({node:_a34,duration:_a39,onAnimate:function $DFE_(v){_a35.style[_a36._progressPixelSize]=(100-parseFloat(v[_a36._progressPixelSize]))+"%";},onEnd:function $DFF_(){delete _a36._inProgressAnim;},properties:_a37});this._inProgressAnim.play();}else{_a34.style[this._progressPixelSize]=(_a33*100)+"%";_a35.style[this._progressPixelSize]=((1-_a33)*100)+"%";}},_bumpValue:function $DFG_(_a3a,_a3b){if(this.disabled||this.readOnly){return;}var s=dojo.getComputedStyle(this.sliderBarContainer);var c=dojo._getContentBox(this.sliderBarContainer,s);var _a3c=this.discreteValues;if(_a3c<=1||_a3c==Infinity){_a3c=c[this._pixelCount];}_a3c--;var _a3d=(this.value-this.minimum)*_a3c/(this.maximum-this.minimum)+_a3a;if(_a3d<0){_a3d=0;}if(_a3d>_a3c){_a3d=_a3c;}_a3d=_a3d*(this.maximum-this.minimum)/_a3c+this.minimum;this._setValueAttr(_a3d,_a3b);},_onClkBumper:function $DFH_(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function $DFI_(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function $DFJ_(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function $DFK_(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function $DFL_(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function $DFM_(evt){dojo.stopEvent(evt);var _a3e=!dojo.isMozilla;var _a3f=evt[(_a3e?"wheelDelta":"detail")]*(_a3e?1:-1);this._bumpValue(_a3f<0?-1:1,true);},startup:function $DFN_(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_a40){if(this[_a40.container]!=this.containerNode){this[_a40.container].appendChild(_a40.domNode);}},this);this.inherited(arguments);},_typematicCallback:function $DFO_(_a41,_a42,e){if(_a41==-1){this._setValueAttr(this.value,true);}else{this[(_a42==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);}},buildRendering:function $DFP_(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";}var _a43=dojo.query("label[for=\""+this.id+"\"]");if(_a43.length){_a43[0].id=(this.id+"_label");dijit.setWaiState(this.focusNode,"labelledby",_a43[0].id);}dijit.setWaiState(this.focusNode,"valuemin",this.minimum);dijit.setWaiState(this.focusNode,"valuemax",this.maximum);},postCreate:function $DFQ_(){this.inherited(arguments);if(this.showButtons){this._connects.push(dijit.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(dijit.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _a44=dojo.declare(dijit.form._SliderMover,{widget:this});this._movable=new dojo.dnd.Moveable(this.sliderHandle,{mover:_a44});this._layoutHackIE7();},destroy:function $DFR_(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this._supportingWidgets=dijit.findWidgets(this.domNode);this.inherited(arguments);}});dojo.declare("dijit.form._SliderMover",dojo.dnd.Mover,{onMouseMove:function $DFS_(e){var _a45=this.widget;var _a46=_a45._abspos;if(!_a46){_a46=_a45._abspos=dojo.position(_a45.sliderBarContainer,true);_a45._setPixelValue_=dojo.hitch(_a45,"_setPixelValue");_a45._isReversed_=_a45._isReversed();}var _a47=e.touches?e.touches[0]:e,_a48=_a47[_a45._mousePixelCoord]-_a46[_a45._startingPixelCoord];_a45._setPixelValue_(_a45._isReversed_?(_a46[_a45._pixelCount]-_a48):_a48,_a46[_a45._pixelCount],false);},destroy:function $DFT_(e){dojo.dnd.Mover.prototype.destroy.apply(this,arguments);var _a49=this.widget;_a49._abspos=null;_a49._setValueAttr(_a49.value,true);}});}if(!dojo._hasResource["betterform.ui.range.Slider"]){dojo._hasResource["betterform.ui.range.Slider"]=true;dojo.provide("betterform.ui.range.Slider");dojo.declare("betterform.ui.range.Slider",[betterform.ui.ControlValue,dijit.form.HorizontalSlider],{buildRendering:function $DBk2_(){this.inherited(arguments);var _a4a=dojo.query("label[id=\""+this.id+"_label\"]");if(_a4a.length){_a4a[0].id=(this.xfControlId+"-label");dijit.setWaiState(this.focusNode,"labelledby",_a4a[0].id);}dijit.setWaiState(this.focusNode,"valuemin",this.minimum);dijit.setWaiState(this.focusNode,"valuemax",this.maximum);},postMixInProperties:function $DBk3_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBk4_(){this.inherited(arguments);this.setCurrentValue();if(this.tabIndex!=undefined){dojo.attr(this.domNode,"tabindex",this.tabIndex);}},_onFocus:function $DBk5_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBk6_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBk7_(){return dojo.attr(this.valueNode,"value");},_setValueAttr:function $DBk8_(_a4b,_a4c,_a4d){if(!_a4d){var _a4e=dojo.attr(this.valueNode,"value");if(this.incremental&&_a4e!=_a4b&&_a4e!=""&&_a4e!="NaN"){this.setControlValue(_a4b);}}this.inherited(arguments);},_handleSetControlValue:function $DBk9_(_a4f,_a50){var _a51=parseInt(_a4f,"10");if(_a51==undefined||_a51==""||_a51=="NaN"||_a51<this.minimum){_a51=this.minimum;}else{if(_a4f>this.maximum){_a51=this.maximum;}}this._setValueAttr(_a51,null,_a50);}});}if(!dojo._hasResource["dijit.form.HorizontalRule"]){dojo._hasResource["dijit.form.HorizontalRule"]=true;dojo.provide("dijit.form.HorizontalRule");dojo.declare("dijit.form.HorizontalRule",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH\"></div>",count:3,container:"containerNode",ruleStyle:"",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkH\" style=\"left:",_positionSuffix:"%;",_suffix:"\"></div>",_genHTML:function $DEc_(pos,ndx){return this._positionPrefix+pos+this._positionSuffix+this.ruleStyle+this._suffix;},_isHorizontal:true,buildRendering:function $DEd_(){this.inherited(arguments);var _a52;if(this.count==1){_a52=this._genHTML(50,0);}else{var i;var _a53=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){_a52=this._genHTML(0,0);for(i=1;i<this.count-1;i++){_a52+=this._genHTML(_a53*i,i);}_a52+=this._genHTML(100,this.count-1);}else{_a52=this._genHTML(100,0);for(i=1;i<this.count-1;i++){_a52+=this._genHTML(100-_a53*i,i);}_a52+=this._genHTML(0,this.count-1);}}this.domNode.innerHTML=_a52;}});}if(!dojo._hasResource["dijit.form.HorizontalRuleLabels"]){dojo._hasResource["dijit.form.HorizontalRuleLabels"]=true;dojo.provide("dijit.form.HorizontalRuleLabels");dojo.declare("dijit.form.HorizontalRuleLabels",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH\"></div>",labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerH\" style=\"left:",_labelPrefix:"\"><div class=\"dijitRuleLabel dijitRuleLabelH\">",_suffix:"</div></div>",_calcPosition:function $DCm_(pos){return pos;},_genHTML:function $DCn_(pos,ndx){return this._positionPrefix+this._calcPosition(pos)+this._positionSuffix+this.labelStyle+this._labelPrefix+this.labels[ndx]+this._suffix;},getLabels:function $DCo_(){var _a54=this.labels;if(!_a54.length){_a54=dojo.query("> li",this.srcNodeRef).map(function(node){return String(node.innerHTML);});}this.srcNodeRef.innerHTML="";if(!_a54.length&&this.count>1){var _a55=this.minimum;var inc=(this.maximum-_a55)/(this.count-1);for(var i=0;i<this.count;i++){_a54.push((i<this.numericMargin||i>=(this.count-this.numericMargin))?"":dojo.number.format(_a55,this.constraints));_a55+=inc;}}return _a54;},postMixInProperties:function $DCp_(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length;}});}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.getObject("_editor.selection",true,dijit);dojo.mixin(dijit._editor.selection,{getType:function $DNv_(){if(dojo.isIE<9){return dojo.doc.selection.type.toLowerCase();}else{var _a56="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _a57=oSel.getRangeAt(0);if((_a57.startContainer==_a57.endContainer)&&((_a57.endOffset-_a57.startOffset)==1)&&(_a57.startContainer.nodeType!=3)){_a56="control";}}return _a56;}},getSelectedText:function $DNw_(){if(dojo.isIE<9){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _a58=dojo.global.getSelection();if(_a58){return _a58.toString();}}return "";},getSelectedHtml:function $DNx_(){if(dojo.isIE<9){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _a59=dojo.global.getSelection();if(_a59&&_a59.rangeCount){var i;var html="";for(i=0;i<_a59.rangeCount;i++){var frag=_a59.getRangeAt(i).cloneContents();var div=dojo.doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}},getSelectedElement:function $DNy_(){if(dijit._editor.selection.getType()=="control"){if(dojo.isIE<9){var _a5a=dojo.doc.selection.createRange();if(_a5a&&_a5a.item){return dojo.doc.selection.createRange().item(0);}}else{var _a5b=dojo.global.getSelection();return _a5b.anchorNode.childNodes[_a5b.anchorOffset];}}return null;},getParentElement:function $DNz_(){if(dijit._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.isIE<9){var r=dojo.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _a5c=dojo.global.getSelection();if(_a5c){var node=_a5c.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function $DN0_(_a5d){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function $DN1_(_a5e){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function $DN2_(node,tags){if(node&&node.tagName){var _a5f=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _a60=String(tags[i]).toLowerCase();if(_a5f==_a60){return _a60;}}}return "";},getParentOfType:function $DN3_(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function $DN4_(_a61){if(window.getSelection){var _a62=dojo.global.getSelection();if(_a62.removeAllRanges){if(_a61){_a62.collapseToStart();}else{_a62.collapseToEnd();}}else{_a62.collapse(_a61);}}else{if(dojo.isIE){var _a63=dojo.doc.selection.createRange();_a63.collapse(_a61);_a63.select();}}},remove:function $DN5_(){var sel=dojo.doc.selection;if(dojo.isIE<9){if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}else{sel=dojo.global.getSelection();sel.deleteFromDocument();return sel;}},selectElementChildren:function $DN6_(_a64,_a65){var win=dojo.global;var doc=dojo.doc;var _a66;_a64=dojo.byId(_a64);if(doc.selection&&dojo.isIE<9&&dojo.body().createTextRange){_a66=_a64.ownerDocument.body.createTextRange();_a66.moveToElementText(_a64);if(!_a65){try{_a66.select();}catch(e){}}}else{if(win.getSelection){var _a67=dojo.global.getSelection();if(dojo.isOpera){if(_a67.rangeCount){_a66=_a67.getRangeAt(0);}else{_a66=doc.createRange();}_a66.setStart(_a64,0);_a66.setEnd(_a64,(_a64.nodeType==3)?_a64.length:_a64.childNodes.length);_a67.addRange(_a66);}else{_a67.selectAllChildren(_a64);}}}},selectElement:function $DN7_(_a68,_a69){var _a6a;var doc=dojo.doc;var win=dojo.global;_a68=dojo.byId(_a68);if(dojo.isIE<9&&dojo.body().createTextRange){try{var tg=_a68.tagName?_a68.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_a6a=dojo.body().createControlRange();}else{_a6a=dojo.body().createRange();}_a6a.addElement(_a68);if(!_a69){_a6a.select();}}catch(e){this.selectElementChildren(_a68,_a69);}}else{if(dojo.global.getSelection){var _a6b=win.getSelection();_a6a=doc.createRange();if(_a6b.removeAllRanges){if(dojo.isOpera){if(_a6b.getRangeAt(0)){_a6a=_a6b.getRangeAt(0);}}_a6a.selectNode(_a68);_a6b.removeAllRanges();_a6b.addRange(_a6a);}}}},inSelection:function $DN8_(node){if(node){var _a6c;var doc=dojo.doc;var _a6d;if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.rangeCount>0){_a6d=sel.getRangeAt(0);}if(_a6d&&_a6d.compareBoundaryPoints&&doc.createRange){try{_a6c=doc.createRange();_a6c.setStart(node,0);if(_a6d.compareBoundaryPoints(_a6d.START_TO_END,_a6c)===1){return true;}}catch(e){}}}else{if(doc.selection){_a6d=doc.selection.createRange();try{_a6c=node.ownerDocument.body.createControlRange();if(_a6c){_a6c.addElement(node);}}catch(e1){try{_a6c=node.ownerDocument.body.createTextRange();_a6c.moveToElementText(node);}catch(e2){}}if(_a6d&&_a6c){if(_a6d.compareEndPoints("EndToStart",_a6c)===1){return true;}}}}}return false;}});}if(!dojo._hasResource["dijit._editor.range"]){dojo._hasResource["dijit._editor.range"]=true;dojo.provide("dijit._editor.range");dijit.range={};dijit.range.getIndex=function $DPo_(node,_a6e){var ret=[],retR=[];var stop=_a6e;var _a6f=node;var _a70,n;while(node!=stop){var i=0;_a70=node.parentNode;while((n=_a70.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_a70.childNodes.length);node=_a70;}if(ret.length>0&&_a6f.nodeType==3){n=_a6f.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_a6f.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};};dijit.range.getNode=function $DPp_(_a71,_a72){if(!dojo.isArray(_a71)||_a71.length==0){return _a72;}var node=_a72;dojo.every(_a71,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;};dijit.range.getCommonAncestor=function $DPq_(n1,n2,root){root=root||n1.ownerDocument.body;var _a73=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_a73(n1);var n2as=_a73(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};dijit.range.getAncestor=function $DPr_(node,_a74,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_a74.test(name)){return node;}node=node.parentNode;}return null;};dijit.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;dijit.range.getBlockAncestor=function $DPs_(node,_a75,root){root=root||node.ownerDocument.body;_a75=_a75||dijit.range.BlockTagNames;var _a76=null,_a77;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_a76&&_a75.test(name)){_a76=node;}if(!_a77&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_a77=node;}node=node.parentNode;}return {blockNode:_a76,blockContainer:_a77||node.ownerDocument.body};};dijit.range.atBeginningOfContainer=function $DPt_(_a78,node,_a79){var _a7a=false;var _a7b=(_a79==0);if(!_a7b&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_a79))){_a7b=true;}}if(_a7b){var _a7c=node;_a7a=true;while(_a7c&&_a7c!==_a78){if(_a7c.previousSibling){_a7a=false;break;}_a7c=_a7c.parentNode;}}return _a7a;};dijit.range.atEndOfContainer=function $DPu_(_a7d,node,_a7e){var _a7f=false;var _a80=(_a7e==(node.length||node.childNodes.length));if(!_a80&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_a7e))){_a80=true;}}if(_a80){var _a81=node;_a7f=true;while(_a81&&_a81!==_a7d){if(_a81.nextSibling){_a7f=false;break;}_a81=_a81.parentNode;}}return _a7f;};dijit.range.adjacentNoneTextNode=function $DPv_(_a82,next){var node=_a82;var len=(0-_a82.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];};dijit.range._w3c=Boolean(window["getSelection"]);dijit.range.create=function $DPw_(win){if(dijit.range._w3c){return (win||dojo.global).document.createRange();}else{return new dijit.range.W3CRange;}};dijit.range.getSelection=function $DPx_(win,_a83){if(dijit.range._w3c){return win.getSelection();}else{var s=new dijit.range.ie.selection(win);if(!_a83){s._getCurrentSelection();}return s;}};if(!dijit.range._w3c){dijit.range.ie={cachedSelection:{},selection:function $DPP_(win){this._ranges=[];this.addRange=function $DPk_(r,_a84){this._ranges.push(r);if(!_a84){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function $DPl_(){this._ranges=[];this.rangeCount=0;};var _a85=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new dijit.range.W3CRange(dijit.range.ie.decomposeControlRange(r));}else{return new dijit.range.W3CRange(dijit.range.ie.decomposeTextRange(r));}};this.getRangeAt=function $DPm_(i){return this._ranges[i];};this._getCurrentSelection=function $DPn_(){this.removeAllRanges();var r=_a85();if(r){this.addRange(r,true);}};},decomposeControlRange:function $DPQ_(_a86){var _a87=_a86.item(0),_a88=_a86.item(_a86.length-1);var _a89=_a87.parentNode,_a8a=_a88.parentNode;var _a8b=dijit.range.getIndex(_a87,_a89).o;var _a8c=dijit.range.getIndex(_a88,_a8a).o+1;return [_a89,_a8b,_a8a,_a8c];},getEndPoint:function $DPR_(_a8d,end){var _a8e=_a8d.duplicate();_a8e.collapse(!end);var _a8f="EndTo"+(end?"End":"Start");var _a90=_a8e.parentElement();var _a91,_a92,_a93;if(_a90.childNodes.length>0){dojo.every(_a90.childNodes,function(node,i){var _a94;if(node.nodeType!=3){_a8e.moveToElementText(node);if(_a8e.compareEndPoints(_a8f,_a8d)>0){if(_a93&&_a93.nodeType==3){_a91=_a93;_a94=true;}else{_a91=_a90;_a92=i;return false;}}else{if(i==_a90.childNodes.length-1){_a91=_a90;_a92=_a90.childNodes.length;return false;}}}else{if(i==_a90.childNodes.length-1){_a91=node;_a94=true;}}if(_a94&&_a91){var _a95=dijit.range.adjacentNoneTextNode(_a91)[0];if(_a95){_a91=_a95.nextSibling;}else{_a91=_a90.firstChild;}var _a96=dijit.range.adjacentNoneTextNode(_a91);_a95=_a96[0];var _a97=_a96[1];if(_a95){_a8e.moveToElementText(_a95);_a8e.collapse(false);}else{_a8e.moveToElementText(_a90);}_a8e.setEndPoint(_a8f,_a8d);_a92=_a8e.text.length-_a97;return false;}_a93=node;return true;});}else{_a91=_a90;_a92=0;}if(!end&&_a91.nodeType==1&&_a92==_a91.childNodes.length){var _a98=_a91.nextSibling;if(_a98&&_a98.nodeType==3){_a91=_a98;_a92=0;}}return [_a91,_a92];},setEndPoint:function $DPS_(_a99,_a9a,_a9b){var _a9c=_a99.duplicate(),node,len;if(_a9a.nodeType!=3){if(_a9b>0){node=_a9a.childNodes[_a9b-1];if(node){if(node.nodeType==3){_a9a=node;_a9b=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_a9a=node.nextSibling;_a9b=0;}else{_a9c.moveToElementText(node.nextSibling?node:_a9a);var _a9d=node.parentNode;var _a9e=_a9d.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_a9c.collapse(false);_a9d.removeChild(_a9e);}}}}else{_a9c.moveToElementText(_a9a);_a9c.collapse(true);}}if(_a9a.nodeType==3){var _a9f=dijit.range.adjacentNoneTextNode(_a9a);var _aa0=_a9f[0];len=_a9f[1];if(_aa0){_a9c.moveToElementText(_aa0);_a9c.collapse(false);if(_aa0.contentEditable!="inherit"){len++;}}else{_a9c.moveToElementText(_a9a.parentNode);_a9c.collapse(true);}_a9b+=len;if(_a9b>0){if(_a9c.move("character",_a9b)!=_a9b){console.error("Error when moving!");}}}return _a9c;},decomposeTextRange:function $DPT_(_aa1){var _aa2=dijit.range.ie.getEndPoint(_aa1);var _aa3=_aa2[0],_aa4=_aa2[1];var _aa5=_aa2[0],_aa6=_aa2[1];if(_aa1.htmlText.length){if(_aa1.htmlText==_aa1.text){_aa6=_aa4+_aa1.text.length;}else{_aa2=dijit.range.ie.getEndPoint(_aa1,true);_aa5=_aa2[0],_aa6=_aa2[1];}}return [_aa3,_aa4,_aa5,_aa6];},setRange:function $DPU_(_aa7,_aa8,_aa9,_aaa,_aab,_aac){var _aad=dijit.range.ie.setEndPoint(_aa7,_aa8,_aa9);_aa7.setEndPoint("StartToStart",_aad);if(!_aac){var end=dijit.range.ie.setEndPoint(_aa7,_aaa,_aab);}_aa7.setEndPoint("EndToEnd",end||_aad);return _aa7;}};dojo.declare("dijit.range.W3CRange",null,{constructor:function $DPV_(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function $DPW_(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=dijit.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function $DPX_(node,_aae){_aae=parseInt(_aae);if(this.startContainer===node&&this.startOffset==_aae){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_aae;if(!this.endContainer){this.setEnd(node,_aae);}else{this._updateInternal();}},setEnd:function $DPY_(node,_aaf){_aaf=parseInt(_aaf);if(this.endContainer===node&&this.endOffset==_aaf){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_aaf;if(!this.startContainer){this.setStart(node,_aaf);}else{this._updateInternal();}},setStartAfter:function $DPZ_(node,_ab0){this._setPoint("setStart",node,_ab0,1);},setStartBefore:function $DPa_(node,_ab1){this._setPoint("setStart",node,_ab1,0);},setEndAfter:function $DPb_(node,_ab2){this._setPoint("setEnd",node,_ab2,1);},setEndBefore:function $DPc_(node,_ab3){this._setPoint("setEnd",node,_ab3,0);},_setPoint:function $DPd_(what,node,_ab4,ext){var _ab5=dijit.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_ab5.pop()+ext);},_getIERange:function $DPe_(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();dijit.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function $DPf_(body){this._getIERange();return this._cachedBookmark;},_select:function $DPg_(){var r=this._getIERange();r.select();},deleteContents:function $DPh_(){var r=this._getIERange();r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function $DPi_(){var r=new dijit.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function $DPj_(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}}if(!dojo._hasResource["dijit._editor.html"]){dojo._hasResource["dijit._editor.html"]=true;dojo.provide("dijit._editor.html");dojo.getObject("_editor",true,dijit);dijit._editor.escapeXml=function $DPM_(str,_ab6){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_ab6){str=str.replace(/'/gm,"&#39;");}return str;};dijit._editor.getNodeHtml=function $DPN_(node){var _ab7;switch(node.nodeType){case 1:var _ab8=node.nodeName.toLowerCase();if(!_ab8||_ab8.charAt(0)=="/"){return "";}_ab7="<"+_ab8;var _ab9=[];var attr;if(dojo.isIE&&node.outerHTML){var s=node.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/(\b\w+)\s?=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_ab9.push([key,node.getAttribute("_djrealurl")]);continue;}}var val,_aba;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(_ab8==="img"){_aba=/width=(\S+)/i.exec(s);if(_aba){val=_aba[1];}break;}case "height":if(_ab8==="img"){_aba=/height=(\S+)/i.exec(s);if(_aba){val=_aba[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_ab9.push([key,val.toString()]);}}}}else{var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!="_dj"){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_ab9.push([n,v]);}}}_ab9.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_ab9[j++])){_ab7+=" "+attr[0]+"=\""+(dojo.isString(attr[1])?dijit._editor.escapeXml(attr[1],true):attr[1])+"\"";}if(_ab8==="script"){_ab7+=">"+node.innerHTML+"</"+_ab8+">";}else{if(node.childNodes.length){_ab7+=">"+dijit._editor.getChildrenHtml(node)+"</"+_ab8+">";}else{switch(_ab8){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_ab7+=" />";break;default:_ab7+="></"+_ab8+">";}}}break;case 4:case 3:_ab7=dijit._editor.escapeXml(node.nodeValue,true);break;case 8:_ab7="<!--"+dijit._editor.escapeXml(node.nodeValue,true)+"-->";break;default:_ab7="<!-- Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName+"-->";}return _ab7;};dijit._editor.getChildrenHtml=function $DPO_(dom){var out="";if(!dom){return out;}var _abb=dom["childNodes"]||dom;var _abc=!dojo.isIE||_abb!==dom;var node,i=0;while((node=_abb[i++])){if(!_abc||node.parentNode==dom){out+=dijit._editor.getNodeHtml(node);}}return out;};}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"]){if(dojo._postLoad){(function(){var _abd=dojo.doc.createElement("textarea");_abd.id=dijit._scopeName+"._editor.RichText.value";dojo.style(_abd,{display:"none",position:"absolute",top:"-100px",height:"3px",width:"3px"});dojo.body().appendChild(_abd);})();}else{try{dojo.doc.write("<textarea id=\""+dijit._scopeName+"._editor.RichText.value\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",[dijit._Widget,dijit._CssStateMixin],{constructor:function $DN9_(_abe){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_abe&&dojo.isString(_abe.value)){this.value=_abe.value;}this.onLoadDeferred=new dojo.Deferred();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function $DOA_(){if("textarea"==this.domNode.tagName.toLowerCase()){}this.contentPreFilters=[dojo.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(dojo.isMoz){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(dojo.isWebKit){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(dojo.isIE){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);}this.inherited(arguments);dojo.publish(dijit._scopeName+"._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function $DOB_(){var exec=dojo.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _abf={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function $DOC_(){this.save(true);},m:function $DOD_(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!dojo.isIE){_abf.Z=exec("redo");}for(var key in _abf){this.addKeyHandler(key,true,false,_abf[key]);}},events:["onKeyPress","onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function $DOE_(){if(dijit._editor._editorCommandsLocalized){this._local2NativeFormatNames=dijit._editor._local2NativeFormatNames;this._native2LocalFormatNames=dijit._editor._native2LocalFormatNames;return;}dijit._editor._editorCommandsLocalized=true;dijit._editor._local2NativeFormatNames={};dijit._editor._native2LocalFormatNames={};this._local2NativeFormatNames=dijit._editor._local2NativeFormatNames;this._native2LocalFormatNames=dijit._editor._native2LocalFormatNames;var _ac0=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _ac1="",_ac2,i=0;while((_ac2=_ac0[i++])){if(_ac2.charAt(1)!=="l"){_ac1+="<"+_ac2+"><span>content</span></"+_ac2+"><br/>";}else{_ac1+="<"+_ac2+"><li>content</li></"+_ac2+"><br/>";}}var _ac3={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=dojo.create("div",{style:_ac3,innerHTML:_ac1});dojo.body().appendChild(div);var _ac4=dojo.hitch(this,function(){var node=div.firstChild;while(node){try{dijit._editor.selection.selectElement(node.firstChild);var _ac5=node.tagName.toLowerCase();this._local2NativeFormatNames[_ac5]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_ac5]]=_ac5;node=node.nextSibling.nextSibling;}catch(e){}}div.parentNode.removeChild(div);div.innerHTML="";});setTimeout(_ac4,0);},open:function $DOF_(_ac6){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish(dijit._scopeName+"._editor.RichText::open",[this]);if(arguments.length==1&&_ac6.nodeName){this.domNode=_ac6;}var dn=this.domNode;var html;if(dojo.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=dojo.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;dojo.place(dn,ta,"before");var _ac7=dojo.hitch(this,function(){dojo.style(ta,{display:"block",position:"absolute",top:"-1000px"});if(dojo.isIE){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(dojo.isIE){setTimeout(_ac7,10);}else{_ac7();}if(ta.form){var _ac8=ta.value;this.reset=function $DPK_(){var _ac9=this.getValue();if(_ac9!=_ac8){this.replaceValue(_ac8);}};dojo.connect(ta.form,"onsubmit",this,function(){dojo.attr(ta,"disabled",this.disabled);ta.value=this.getValue();});}}else{html=dijit._editor.getChildrenHtml(dn);dn.innerHTML="";}}var _aca=dojo.contentBox(dn);this._oldHeight=_aca.h;this._oldWidth=_aca.w;this.value=html;if(dn.nodeName&&dn.nodeName=="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"])){var _acb=dojo.byId(dijit._scopeName+"._editor.RichText.value");if(_acb&&_acb.value!==""){var _acc=_acb.value.split(this._SEPARATOR),i=0,dat;while((dat=_acc[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]==this.name){html=data[1];_acc=_acc.splice(i,1);_acb.value=_acc.join(this._SEPARATOR);break;}}}if(!dijit._editor._globalSaveHandler){dijit._editor._globalSaveHandler={};dojo.addOnUnload(function(){var id;for(id in dijit._editor._globalSaveHandler){var f=dijit._editor._globalSaveHandler[id];if(dojo.isFunction(f)){f();}}});}dijit._editor._globalSaveHandler[this.id]=dojo.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=dojo.doc.createElement("iframe"));ifr.id=this.id+"_iframe";this._iframeSrc=this._getIframeDocTxt();ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=dojo.hitch(this,function(win){this.window=win;this.document=this.window.document;if(dojo.isIE){this._localizeEditorCommands();}this.onLoad(html);});var s="javascript:parent."+dijit._scopeName+".byId(\""+this.id+"\")._iframeSrc";ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);if(dojo.isSafari<=4){var src=ifr.getAttribute("src");if(!src||src.indexOf("javascript")==-1){setTimeout(function(){ifr.setAttribute("src",s);},0);}}if(dn.nodeName=="LI"){dn.lastChild.style.marginTop="-1.2em";}dojo.addClass(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function $DOG_(){var _acd=dojo.getComputedStyle(this.domNode);var html="";var _ace=true;if(dojo.isIE||dojo.isWebKit||(!this.height&&!dojo.isMoz)){html="<div id='dijitEditorBody'></div>";_ace=false;}else{if(dojo.isMoz){this._cursorToStart=true;html="&nbsp;";}}var font=[_acd.fontWeight,_acd.fontSize,_acd.fontFamily].join(" ");var _acf=_acd.lineHeight;if(_acf.indexOf("px")>=0){_acf=parseFloat(_acf)/parseFloat(_acd.fontSize);}else{if(_acf.indexOf("em")>=0){_acf=parseFloat(_acf);}else{_acf="normal";}}var _ad0="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_ad1){_ad1=_ad1.replace(/^;/ig,"")+";";var s=_ad1.split(":")[0];if(s){s=dojo.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}dojo.style(self.domNode,sC,"");}_ad0+=_ad1+";";});var _ad2=dojo.query("label[for=\""+this.id+"\"]");return [this.isLeftToRight()?"<html>\n<head>\n":"<html dir='rtl'>\n<head>\n",(dojo.isMoz&&_ad2.length?"<title>"+_ad2[0].innerHTML+"</title>\n":""),"<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n",((dojo.isWebKit)?"\t\twidth: 100%;\n":""),((dojo.isWebKit)?"\t\theight: 100%;\n":""),"\t}\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||dojo.isOpera)?"":"\t\tposition: fixed;\n"),"\t\tmin-height:",this.minHeight,";\n","\t\tline-height:",_acf,";\n","\t}\n","\tp{ margin: 1em 0; }\n",(!_ace&&!this.height?"\tbody,html {overflow-y: hidden;}\n":""),"\t#dijitEditorBody{overflow-x: auto; overflow-y:"+(this.height?"auto;":"hidden;")+" outline: 0px;}\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!dojo.isIE?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body ",(_ace?"id='dijitEditorBody' ":""),"onload='frameElement._loadFunc(window,document)' style='"+_ad0+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function $DOH_(){var _ad3=[];if(this.styleSheets){_ad3=this.styleSheets.split(";");this.styleSheets="";}_ad3=_ad3.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_ad3[i++])){var _ad4=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_ad4);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_ad4+"\"/>";}return text;},addStyleSheet:function $DOI_(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.addCallback(dojo.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _ad5=this.document.createElement("link");_ad5.rel="stylesheet";_ad5.type="text/css";_ad5.href=url;head.appendChild(_ad5);}}));},removeStyleSheet:function $DOJ_(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _ad6=dojo.indexOf(this.editingAreaStyleSheets,url);if(_ad6==-1){return;}delete this.editingAreaStyleSheets[_ad6];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function $DOK_(_ad7){_ad7=!!_ad7;this._set("disabled",_ad7);if(!this.isLoaded){return;}if(dojo.isIE||dojo.isWebKit||dojo.isOpera){var _ad8=dojo.isIE&&(this.isLoaded||!this.focusOnLoad);if(_ad8){this.editNode.unselectable="on";}this.editNode.contentEditable=!_ad7;if(_ad8){var _ad9=this;setTimeout(function(){_ad9.editNode.unselectable="off";},0);}}else{try{this.document.designMode=(_ad7?"off":"on");}catch(e){return;}if(!_ad7&&this._mozSettingProps){var ps=this._mozSettingProps;for(var n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function $DOL_(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=dijit.registerIframe(this.iframe);}if(!dojo.isIE&&!dojo.isWebKit&&(this.height||dojo.isMoz)){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _ada=this;if(dojo.isIE){this.tabStop=dojo.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function $DPL_(){_ada.editNode.setActive();};}}this.focusNode=this.editNode;var _adb=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;dojo.forEach(_adb,function(item){this.connect(ap,item.toLowerCase(),item);},this);this.connect(ap,"onmouseup","onClick");if(dojo.isIE){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}else{this.connect(this.document,"onmousedown",function(){delete this._cursorToStart;});}if(dojo.isWebKit){this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged");this.connect(this.document,"onmousedown",function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}});}if(dojo.isIE){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _adc=dojo.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}this.onDisplayChanged();if(this.focusOnLoad){dojo.addOnLoad(dojo.hitch(this,function(){setTimeout(dojo.hitch(this,"focus"),this.updateInterval);}));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.addCallback(_adc);}else{_adc();}},onKeyDown:function $DOM_(e){if(e.keyCode===dojo.keys.TAB&&this.isTabIndent){dojo.stopEvent(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(dojo.isIE){if(e.keyCode==dojo.keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}return true;},onKeyUp:function $DON_(e){return;},setDisabled:function $DOO_(_add){dojo.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_add);},_setValueAttr:function $DOP_(_ade){this.setValue(_ade);},_setDisableSpellCheckAttr:function $DOQ_(_adf){if(this.document){dojo.attr(this.document.body,"spellcheck",!_adf);}else{this.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.attr(this.document.body,"spellcheck",!_adf);}));}this._set("disableSpellCheck",_adf);},onKeyPress:function $DOR_(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode,_ae0=this._keyHandlers[c],args=arguments;if(_ae0&&!e.altKey){dojo.some(_ae0,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}if(!this._onKeyHitch){this._onKeyHitch=dojo.hitch(this,"onKeyPressed");}setTimeout(this._onKeyHitch,1);return true;},addKeyHandler:function $DOS_(key,ctrl,_ae1,_ae2){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_ae1||false,ctrl:ctrl||false,handler:_ae2});},onKeyPressed:function $DOT_(){this.onDisplayChanged();},onClick:function $DOU_(e){this.onDisplayChanged(e);},_onIEMouseDown:function $DOV_(e){if(!this._focused&&!this.disabled){this.focus();}},_onBlur:function $DOW_(e){this.inherited(arguments);var _ae3=this.getValue(true);if(_ae3!=this.value){this.onChange(_ae3);}this._set("value",_ae3);},_onFocus:function $DOX_(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function $DOY_(){if(!dojo.isIE&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(dojo.doc.body.focus){dojo.doc.body.focus();}}},focus:function $DOZ_(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function $DOa_(e){if(this._updateTimer){clearTimeout(this._updateTimer);}if(!this._updateHandler){this._updateHandler=dojo.hitch(this,"onNormalizedDisplayChanged");}this._updateTimer=setTimeout(this._updateHandler,this.updateInterval);},onNormalizedDisplayChanged:function $DOb_(){delete this._updateTimer;},onChange:function $DOc_(_ae4){},_normalizeCommand:function $DOd_(cmd,_ae5){var _ae6=cmd.toLowerCase();if(_ae6=="formatblock"){if(dojo.isSafari&&_ae5===undefined){_ae6="heading";}}else{if(_ae6=="hilitecolor"&&!dojo.isMoz){_ae6="backcolor";}}return _ae6;},_qcaCache:{},queryCommandAvailable:function $DOe_(_ae7){var ca=this._qcaCache[_ae7];if(ca!==undefined){return ca;}return (this._qcaCache[_ae7]=this._queryCommandAvailable(_ae7));},_queryCommandAvailable:function $DOf_(_ae8){var ie=1;var _ae9=1<<1;var _aea=1<<2;var _aeb=1<<3;function _aec(_aed){return {ie:Boolean(_aed&ie),mozilla:Boolean(_aed&_ae9),webkit:Boolean(_aed&_aea),opera:Boolean(_aed&_aeb)};};var _aee=null;switch(_ae8.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_aee=_aec(_ae9|ie|_aea|_aeb);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_aee=_aec(_ae9|ie|_aeb|_aea);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_aee=_aec(ie);break;case "cut":case "copy":case "paste":_aee=_aec(ie|_ae9|_aea);break;case "inserttable":_aee=_aec(_ae9|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_aee=_aec(ie|_ae9);break;default:return false;}return (dojo.isIE&&_aee.ie)||(dojo.isMoz&&_aee.mozilla)||(dojo.isWebKit&&_aee.webkit)||(dojo.isOpera&&_aee.opera);},execCommand:function $DOg_(_aef,_af0){var _af1;this.focus();_aef=this._normalizeCommand(_aef,_af0);if(_af0!==undefined){if(_aef=="heading"){throw new Error("unimplemented");}else{if((_aef=="formatblock")&&dojo.isIE){_af0="<"+_af0+">";}}}var _af2="_"+_aef+"Impl";if(this[_af2]){_af1=this[_af2](_af0);}else{_af0=arguments.length>1?_af0:null;if(_af0||_aef!="createlink"){_af1=this.document.execCommand(_aef,false,_af0);}}this.onDisplayChanged();return _af1;},queryCommandEnabled:function $DOh_(_af3){if(this.disabled||!this._disabledOK){return false;}_af3=this._normalizeCommand(_af3);if(dojo.isMoz||dojo.isWebKit){if(_af3=="unlink"){return this._sCall("hasAncestorElement",["a"]);}else{if(_af3=="inserttable"){return true;}}}if(dojo.isWebKit){if(_af3=="cut"||_af3=="copy"){var sel=this.window.getSelection();if(sel){sel=sel.toString();}return !!sel;}else{if(_af3=="paste"){return true;}}}var elem=dojo.isIE?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_af3);}catch(e){return false;}},queryCommandState:function $DOi_(_af4){if(this.disabled||!this._disabledOK){return false;}_af4=this._normalizeCommand(_af4);try{return this.document.queryCommandState(_af4);}catch(e){return false;}},queryCommandValue:function $DOj_(_af5){if(this.disabled||!this._disabledOK){return false;}var r;_af5=this._normalizeCommand(_af5);if(dojo.isIE&&_af5=="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_af5)];}else{if(dojo.isMoz&&_af5==="hilitecolor"){var _af6;try{_af6=this.document.queryCommandValue("styleWithCSS");}catch(e){_af6=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_af5);this.document.execCommand("styleWithCSS",false,_af6);}else{r=this.document.queryCommandValue(_af5);}}return r;},_sCall:function $DOk_(name,args){return dojo.withGlobal(this.window,name,dijit._editor.selection,args);},placeCursorAtStart:function $DOl_(){this.focus();var _af7=false;if(dojo.isMoz){var _af8=this.editNode.firstChild;while(_af8){if(_af8.nodeType==3){if(_af8.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_af7=true;this._sCall("selectElement",[_af8]);break;}}else{if(_af8.nodeType==1){_af7=true;var tg=_af8.tagName?_af8.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this._sCall("selectElement",[_af8]);}else{this._sCall("selectElementChildren",[_af8]);}break;}}_af8=_af8.nextSibling;}}else{_af7=true;this._sCall("selectElementChildren",[this.editNode]);}if(_af7){this._sCall("collapse",[true]);}},placeCursorAtEnd:function $DOm_(){this.focus();var _af9=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_af9=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType==1){_af9=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_af9=true;this._sCall("selectElementChildren",[this.editNode]);}if(_af9){this._sCall("collapse",[false]);}},getValue:function $DOn_(_afa){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_afa);},_getValueAttr:function $DOo_(){return this.getValue(true);},setValue:function $DOp_(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&dojo.isMoz&&html.toLowerCase()=="<p></p>"){html="<p>&nbsp;</p>";}if(!html&&dojo.isWebKit){html="&nbsp;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function $DOq_(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function $DOr_(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function $DOs_(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function $DOt_(dom,_afb){var ec;if(!dojo.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_afb){dom=dojo.clone(dom);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=dijit._editor.getChildrenHtml(dom);}else{ec=dom;}if(!dojo.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function $DOu_(e){var _afc=dojo.byId(dijit._scopeName+"._editor.RichText.value");if(_afc.value){_afc.value+=this._SEPARATOR;}_afc.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);},escapeXml:function $DOv_(str,_afd){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_afd){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function $DOw_(node){dojo.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit._editor.getNodeHtml instead",2);return dijit._editor.getNodeHtml(node);},getNodeChildrenHtml:function $DOx_(dom){dojo.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit._editor.getChildrenHtml instead",2);return dijit._editor.getChildrenHtml(dom);},close:function $DOy_(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this.disconnect(this._webkitListener);delete this._webkitListener;}if(dojo.isIE){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){dijit.unregisterIframe(this._iframeRegHandle);delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(dojo.isIE){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;dojo.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;dojo.removeClass(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function $DOz_(){if(!this.isClosed){this.close(false);}this.inherited(arguments);if(dijit._editor._globalSaveHandler){delete dijit._editor._globalSaveHandler[this.id];}},_removeMozBogus:function $DO0_(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function $DO1_(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function $DO2_(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function $DO3_(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_inserthorizontalruleImpl:function $DO4_(_afe){if(dojo.isIE){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_afe);},_unlinkImpl:function $DO5_(_aff){if((this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isWebKit)){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_aff);},_hilitecolorImpl:function $DO6_(_b00){var _b01;if(dojo.isMoz){this.document.execCommand("styleWithCSS",false,true);_b01=this.document.execCommand("hilitecolor",false,_b00);this.document.execCommand("styleWithCSS",false,false);}else{_b01=this.document.execCommand("hilitecolor",false,_b00);}return _b01;},_backcolorImpl:function $DO7_(_b02){if(dojo.isIE){_b02=_b02?_b02:null;}return this.document.execCommand("backcolor",false,_b02);},_forecolorImpl:function $DO8_(_b03){if(dojo.isIE){_b03=_b03?_b03:null;}return this.document.execCommand("forecolor",false,_b03);},_inserthtmlImpl:function $DO9_(_b04){_b04=this._preFilterContent(_b04);var rv=true;if(dojo.isIE){var _b05=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()=="CONTROL"){var n=_b05.item(0);while(_b05.length){_b05.remove(_b05.item(0));}n.outerHTML=_b04;}else{_b05.pasteHTML(_b04);}_b05.select();}else{if(dojo.isMoz&&!_b04.length){this._sCall("remove");}else{rv=this.document.execCommand("inserthtml",false,_b04);}}return rv;},_boldImpl:function $DPA_(_b06){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("bold",false,_b06);},_italicImpl:function $DPB_(_b07){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("italic",false,_b07);},_underlineImpl:function $DPC_(_b08){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("underline",false,_b08);},_strikethroughImpl:function $DPD_(_b09){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("strikethrough",false,_b09);},getHeaderHeight:function $DPE_(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function $DPF_(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function $DPG_(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=dojo.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function $DPH_(node,_b0a){if(node.nodeType==1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_b0a);}return true;}else{if(node.nodeType==3){return (node.nodeValue.substring(_b0a)=="");}}return false;},_removeStartingRangeFromRange:function $DPI_(node,_b0b){if(node.nextSibling){_b0b.setStart(node.nextSibling,0);}else{var _b0c=node.parentNode;while(_b0c&&_b0c.nextSibling==null){_b0c=_b0c.parentNode;}if(_b0c){_b0b.setStart(_b0c.nextSibling,0);}}return _b0b;},_adaptIESelection:function $DPJ_(){var _b0d=dijit.range.getSelection(this.window);if(_b0d&&_b0d.rangeCount&&!_b0d.isCollapsed){var _b0e=_b0d.getRangeAt(0);var _b0f=_b0e.startContainer;var _b10=_b0e.startOffset;while(_b0f.nodeType==3&&_b10>=_b0f.length&&_b0f.nextSibling){_b10=_b10-_b0f.length;_b0f=_b0f.nextSibling;}var _b11=null;while(this._isNodeEmpty(_b0f,_b10)&&_b0f!=_b11){_b11=_b0f;_b0e=this._removeStartingRangeFromRange(_b0f,_b0e);_b0f=_b0e.startContainer;_b10=0;}_b0d.removeAllRanges();_b0d.addRange(_b0e);}}});}if(!dojo._hasResource["dijit.ToolbarSeparator"]){dojo._hasResource["dijit.ToolbarSeparator"]=true;dojo.provide("dijit.ToolbarSeparator");dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function $DQK_(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function $DQL_(){return false;}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function $DWh_(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function $DWi_(){if(this._started){return;}this.startupKeyNavChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function $DNi_(args,node){this.params=args||{};dojo.mixin(this,this.params);this._connects=[];this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:dijit.form.Button,disabled:false,getLabel:function $DNj_(key){return this.editor.commands[key];},_initButton:function $DNk_(){if(this.command.length){var _b12=this.getLabel(this.command),_b13=this.editor,_b14=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _b15=dojo.mixin({label:_b12,dir:_b13.dir,lang:_b13.lang,showLabel:false,iconClass:_b14,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(_b15);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function $DNl_(){dojo.forEach(this._connects,dojo.disconnect);if(this.dropDown){this.dropDown.destroyRecursive();}},connect:function $DNm_(o,f,tf){this._connects.push(dojo.connect(o,f,this,tf));},updateState:function $DNn_(){var e=this.editor,c=this.command,_b16,_b17;if(!e||!e.isLoaded||!c.length){return;}var _b18=this.get("disabled");if(this.button){try{_b17=!_b18&&e.queryCommandEnabled(c);if(this.enabled!==_b17){this.enabled=_b17;this.button.set("disabled",!_b17);}if(typeof this.button.checked=="boolean"){_b16=e.queryCommandState(c);if(this.checked!==_b16){this.checked=_b16;this.button.set("checked",e.queryCommandState(c));}}}catch(e){}}},setEditor:function $DNo_(_b19){this.editor=_b19;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}else{this.button.domNode.style.display="none";}}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function $DNp_(_b1a){if(this.button){_b1a.addChild(this.button);}},set:function $DNq_(name,_b1b){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _b1c=this._getAttrNames(name);if(this[_b1c.s]){var _b1d=this[_b1c.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_b1b);}return _b1d||this;},get:function $DNr_(name){var _b1e=this._getAttrNames(name);return this[_b1e.g]?this[_b1e.g]():this[name];},_setDisabledAttr:function $DNs_(_b1f){this.disabled=_b1f;this.updateState();},_getAttrNames:function $DNt_(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function $DNu_(name,_b20){var _b21=this[name];this[name]=_b20;}});}if(!dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]){dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]=true;dojo.provide("dijit._editor.plugins.EnterKeyHandling");dojo.declare("dijit._editor.plugins.EnterKeyHandling",dijit._editor._Plugin,{blockNodeForEnter:"BR",constructor:function $DNC_(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}dojo.mixin(this,args);}},setEditor:function $DND_(_b22){if(this.editor===_b22){return;}this.editor=_b22;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_b22.onLoadDeferred.addCallback(dojo.hitch(this,function(d){this.connect(_b22.document,"onkeypress",function(e){if(e.charOrCode==dojo.keys.ENTER){var ne=dojo.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){dojo.stopEvent(e);}}});return d;}));}else{if(this.blockNodeForEnter){var h=dojo.hitch(this,this.handleEnterKey);_b22.addKeyHandler(13,0,0,h);_b22.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},onKeyPressed:function $DNE_(e){if(this._checkListLater){if(dojo.withGlobal(this.editor.window,"isCollapsed",dijit)){var _b23=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,["LI"]);if(!_b23){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _b24=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]);if(_b24){_b24.innerHTML=this.bogusHtmlContent;if(dojo.isIE){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(dojo.isMoz){if(_b23.parentNode.parentNode.nodeName=="LI"){_b23=_b23.parentNode.parentNode;}}var fc=_b23.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_b23.insertBefore(fc.ownerDocument.createTextNode(""),fc);var _b25=dijit.range.create(this.editor.window);_b25.setStart(_b23.firstChild,0);var _b26=dijit.range.getSelection(this.editor.window,true);_b26.removeAllRanges();_b26.addRange(_b25);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&nbsp;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function $DNF_(e){var _b27,_b28,_b29,_b2a,_b2b,_b2c,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _b2d=dojo.withGlobal(this.editor.window,"getParentElement",dijit._editor.selection);var _b2e=dijit.range.getAncestor(_b2d,this.blockNodes);if(_b2e){if(_b2e.tagName=="LI"){return true;}_b27=dijit.range.getSelection(this.editor.window);_b28=_b27.getRangeAt(0);if(!_b28.collapsed){_b28.deleteContents();_b27=dijit.range.getSelection(this.editor.window);_b28=_b27.getRangeAt(0);}if(dijit.range.atBeginningOfContainer(_b2e,_b28.startContainer,_b28.startOffset)){br=doc.createElement("br");_b29=dijit.range.create(this.editor.window);_b2e.insertBefore(br,_b2e.firstChild);_b29.setStartBefore(br.nextSibling);_b27.removeAllRanges();_b27.addRange(_b29);}else{if(dijit.range.atEndOfContainer(_b2e,_b28.startContainer,_b28.startOffset)){_b29=dijit.range.create(this.editor.window);br=doc.createElement("br");_b2e.appendChild(br);_b2e.appendChild(doc.createTextNode(""));_b29.setStart(_b2e.lastChild,0);_b27.removeAllRanges();_b27.addRange(_b29);}else{rs=_b28.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;dojo.withGlobal(this.editor.window,function(){_b2a=doc.createTextNode(txt.substring(0,_b28.startOffset));_b2b=doc.createTextNode(txt.substring(_b28.startOffset));_b2c=doc.createElement("br");if(_b2b.nodeValue==""&&dojo.isWebKit){_b2b=doc.createTextNode("");}dojo.place(_b2a,rs,"after");dojo.place(_b2c,_b2a,"after");dojo.place(_b2b,_b2c,"after");dojo.destroy(rs);_b29=dijit.range.create(dojo.gobal);_b29.setStart(_b2b,0);_b27.removeAllRanges();_b27.addRange(_b29);});return false;}return true;}}}else{_b27=dijit.range.getSelection(this.editor.window);if(_b27.rangeCount){_b28=_b27.getRangeAt(0);if(_b28&&_b28.startContainer){if(!_b28.collapsed){_b28.deleteContents();_b27=dijit.range.getSelection(this.editor.window);_b28=_b27.getRangeAt(0);}rs=_b28.startContainer;if(rs&&rs.nodeType==3){dojo.withGlobal(this.editor.window,dojo.hitch(this,function(){var _b2f=false;var _b30=_b28.startOffset;if(rs.length<_b30){ret=this._adjustNodeAndOffset(rs,_b30);rs=ret.node;_b30=ret.offset;}txt=rs.nodeValue;_b2a=doc.createTextNode(txt.substring(0,_b30));_b2b=doc.createTextNode(txt.substring(_b30));_b2c=doc.createElement("br");if(!_b2b.length){_b2b=doc.createTextNode("");_b2f=true;}if(_b2a.length){dojo.place(_b2a,rs,"after");}else{_b2a=rs;}dojo.place(_b2c,_b2a,"after");dojo.place(_b2b,_b2c,"after");dojo.destroy(rs);_b29=dijit.range.create(dojo.gobal);_b29.setStart(_b2b,0);_b29.setEnd(_b2b,_b2b.length);_b27.removeAllRanges();_b27.addRange(_b29);if(_b2f&&!dojo.isWebKit){dijit._editor.selection.remove();}else{dijit._editor.selection.collapse(true);}}));}else{dojo.withGlobal(this.editor.window,dojo.hitch(this,function(){var _b31=doc.createElement("br");rs.appendChild(_b31);var _b32=doc.createTextNode("");rs.appendChild(_b32);_b29=dijit.range.create(dojo.global);_b29.setStart(_b32,0);_b29.setEnd(_b32,_b32.length);_b27.removeAllRanges();_b27.addRange(_b29);dijit._editor.selection.collapse(true);}));}}}else{dijit._editor.RichText.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _b33=true;_b27=dijit.range.getSelection(this.editor.window);_b28=_b27.getRangeAt(0);if(!_b28.collapsed){_b28.deleteContents();_b27=dijit.range.getSelection(this.editor.window);_b28=_b27.getRangeAt(0);}var _b34=dijit.range.getBlockAncestor(_b28.endContainer,null,this.editor.editNode);var _b35=_b34.blockNode;if((this._checkListLater=(_b35&&(_b35.nodeName=="LI"||_b35.parentNode.nodeName=="LI")))){if(dojo.isMoz){this._pressedEnterInBlock=_b35;}if(/^(\s|&nbsp;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|\xA0)<\/span>)?(<br>)?$/.test(_b35.innerHTML)){_b35.innerHTML="";if(dojo.isWebKit){_b29=dijit.range.create(this.editor.window);_b29.setStart(_b35,0);_b27.removeAllRanges();_b27.addRange(_b29);}this._checkListLater=false;}return true;}if(!_b34.blockNode||_b34.blockNode===this.editor.editNode){try{dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_b34={blockNode:dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_b34.blockNode){if(_b34.blockNode!=this.editor.editNode&&(!(_b34.blockNode.textContent||_b34.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_b34.blockNode);return false;}}else{_b34.blockNode=this.editor.editNode;}_b27=dijit.range.getSelection(this.editor.window);_b28=_b27.getRangeAt(0);}var _b36=doc.createElement(this.blockNodeForEnter);_b36.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_b34.blockNode);var _b37=_b28.endOffset;var node=_b28.endContainer;if(node.length<_b37){var ret=this._adjustNodeAndOffset(node,_b37);node=ret.node;_b37=ret.offset;}if(dijit.range.atEndOfContainer(_b34.blockNode,node,_b37)){if(_b34.blockNode===_b34.blockContainer){_b34.blockNode.appendChild(_b36);}else{dojo.place(_b36,_b34.blockNode,"after");}_b33=false;_b29=dijit.range.create(this.editor.window);_b29.setStart(_b36,0);_b27.removeAllRanges();_b27.addRange(_b29);if(this.editor.height){dojo.window.scrollIntoView(_b36);}}else{if(dijit.range.atBeginningOfContainer(_b34.blockNode,_b28.startContainer,_b28.startOffset)){dojo.place(_b36,_b34.blockNode,_b34.blockNode===_b34.blockContainer?"first":"before");if(_b36.nextSibling&&this.editor.height){_b29=dijit.range.create(this.editor.window);_b29.setStart(_b36.nextSibling,0);_b27.removeAllRanges();_b27.addRange(_b29);dojo.window.scrollIntoView(_b36.nextSibling);}_b33=false;}else{if(_b34.blockNode===_b34.blockContainer){_b34.blockNode.appendChild(_b36);}else{dojo.place(_b36,_b34.blockNode,"after");}_b33=false;if(_b34.blockNode.style){if(_b36.style){if(_b34.blockNode.style.cssText){_b36.style.cssText=_b34.blockNode.style.cssText;}}}rs=_b28.startContainer;var _b38;if(rs&&rs.nodeType==3){var _b39,_b3a;_b37=_b28.endOffset;if(rs.length<_b37){ret=this._adjustNodeAndOffset(rs,_b37);rs=ret.node;_b37=ret.offset;}txt=rs.nodeValue;_b2a=doc.createTextNode(txt.substring(0,_b37));_b2b=doc.createTextNode(txt.substring(_b37,txt.length));dojo.place(_b2a,rs,"before");dojo.place(_b2b,rs,"after");dojo.destroy(rs);var _b3b=_b2a.parentNode;while(_b3b!==_b34.blockNode){var tg=_b3b.tagName;var _b3c=doc.createElement(tg);if(_b3b.style){if(_b3c.style){if(_b3b.style.cssText){_b3c.style.cssText=_b3b.style.cssText;}}}if(_b3b.tagName==="FONT"){if(_b3b.color){_b3c.color=_b3b.color;}if(_b3b.face){_b3c.face=_b3b.face;}if(_b3b.size){_b3c.size=_b3b.size;}}_b39=_b2b;while(_b39){_b3a=_b39.nextSibling;_b3c.appendChild(_b39);_b39=_b3a;}dojo.place(_b3c,_b3b,"after");_b2a=_b3b;_b2b=_b3c;_b3b=_b3b.parentNode;}_b39=_b2b;if(_b39.nodeType==1||(_b39.nodeType==3&&_b39.nodeValue)){_b36.innerHTML="";}_b38=_b39;while(_b39){_b3a=_b39.nextSibling;_b36.appendChild(_b39);_b39=_b3a;}}_b29=dijit.range.create(this.editor.window);var _b3d;var _b3e=_b38;if(this.blockNodeForEnter!=="BR"){while(_b3e){_b3d=_b3e;_b3a=_b3e.firstChild;_b3e=_b3a;}if(_b3d&&_b3d.parentNode){_b36=_b3d.parentNode;_b29.setStart(_b36,0);_b27.removeAllRanges();_b27.addRange(_b29);if(this.editor.height){dijit.scrollIntoView(_b36);}if(dojo.isMoz){this._pressedEnterInBlock=_b34.blockNode;}}else{_b33=true;}}else{_b29.setStart(_b36,0);_b27.removeAllRanges();_b27.addRange(_b29);if(this.editor.height){dijit.scrollIntoView(_b36);}if(dojo.isMoz){this._pressedEnterInBlock=_b34.blockNode;}}}}return _b33;},_adjustNodeAndOffset:function $DNG_(node,_b3f){while(node.length<_b3f&&node.nextSibling&&node.nextSibling.nodeType==3){_b3f=_b3f-node.length;node=node.nextSibling;}var ret={"node":node,"offset":_b3f};return ret;},removeTrailingBr:function $DNH_(_b40){var para=/P|DIV|LI/i.test(_b40.tagName)?_b40:dijit._editor.selection.getParentOfType(_b40,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){dojo.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",dijit._editor.RichText,{plugins:null,extraPlugins:null,constructor:function $DUe_(){if(!dojo.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","dijit._editor.plugins.EnterKeyHandling"];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(dojo.isIE){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function $DUf_(){this.setValueDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function $DUg_(){this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(dojo.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar({dir:this.dir,lang:this.lang});this.header.appendChild(this.toolbar.domNode);}dojo.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.callback(true);dojo.addClass(this.iframe.parentNode,"dijitEditorIFrameContainer");dojo.addClass(this.iframe,"dijitEditorIFrame");dojo.attr(this.iframe,"allowTransparency",true);if(dojo.isWebKit){dojo.style(this.domNode,"KhtmlUserSelect","none");}this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function $DUh_(){dojo.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function $DUi_(_b41,_b42){var args=dojo.isString(_b41)?{name:_b41}:_b41;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};dojo.publish(dijit._scopeName+".Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){return;}_b41=o.plugin;}if(arguments.length>1){this._plugins[_b42]=_b41;}else{this._plugins.push(_b41);}_b41.setEditor(this);if(dojo.isFunction(_b41.setToolbar)){_b41.setToolbar(this.toolbar);}},startup:function $DUj_(){},resize:function $DUk_(size){if(size){dijit.layout._LayoutWidget.prototype.resize.apply(this,arguments);}},layout:function $DUl_(){var _b43=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+dojo._getPadBorderExtents(this.iframe.parentNode).h+dojo._getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_b43+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function $DUm_(e){var _b44;var b=this.document.body;var _b45=b.clientWidth;var _b46=b.clientHeight;var _b47=b.clientLeft;var _b48=b.offsetWidth;var _b49=b.offsetHeight;var _b4a=b.offsetLeft;bodyDir=b.dir?b.dir.toLowerCase():"";if(bodyDir!="rtl"){if(_b45<_b48&&e.x>_b45&&e.x<_b48){_b44=true;}}else{if(e.x<_b47&&e.x>_b4a){_b44=true;}}if(!_b44){if(_b46<_b49&&e.y>_b46&&e.y<_b49){_b44=true;}}if(!_b44){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}this.inherited(arguments);}},onBeforeActivate:function $DUn_(e){this._restoreSelection();},onBeforeDeactivate:function $DUo_(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function $DUp_(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function $DUq_(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r;var _b4b=/copy|cut|paste/.test(cmd);try{r=this.inherited(arguments);if(dojo.isWebKit&&_b4b&&!r){throw {code:1011};}}catch(e){if(e.code==1011&&_b4b){var sub=dojo.string.substitute,_b4c={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[dojo.isMac?"appleKey":"ctrlKey"],[_b4c[cmd]])]));}r=false;}if(this.customUndo){this._endEditing();}return r;}},queryCommandEnabled:function $DUr_(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function $DUs_(b){var _b4d=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_b4e,_b4f,sel;if(mark){if(dojo.isIE<9){if(dojo.isArray(mark)){_b4d=[];dojo.forEach(mark,function(n){_b4d.push(dijit.range.getNode(n,this.editNode));},this);dojo.withGlobal(this.window,"moveToBookmark",dijit,[{mark:_b4d,isCollapsed:col}]);}else{if(mark.startContainer&&mark.endContainer){sel=dijit.range.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=dijit.range.create(this.window);_b4e=dijit.range.getNode(mark.startContainer,this.editNode);_b4f=dijit.range.getNode(mark.endContainer,this.editNode);if(_b4e&&_b4f){r.setStart(_b4e,mark.startOffset);r.setEnd(_b4f,mark.endOffset);sel.addRange(r);}}}}}else{sel=dijit.range.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=dijit.range.create(this.window);_b4e=dijit.range.getNode(mark.startContainer,this.editNode);_b4f=dijit.range.getNode(mark.endContainer,this.editNode);if(_b4e&&_b4f){r.setStart(_b4e,mark.startOffset);r.setEnd(_b4f,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function $DUt_(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function $DUu_(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function $DUv_(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function $DUw_(_b50){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_b50);this._inEditing=false;}},_getBookmark:function $DUx_(){var b=dojo.withGlobal(this.window,dijit.getBookmark);var tmp=[];if(b&&b.mark){var mark=b.mark;if(dojo.isIE<9){var sel=dijit.range.getSelection(this.window);if(!dojo.isArray(mark)){if(sel){var _b51;if(sel.rangeCount){_b51=sel.getRangeAt(0);}if(_b51){b.mark=_b51.cloneRange();}else{b.mark=dojo.withGlobal(this.window,dijit.getBookmark);}}}else{dojo.forEach(b.mark,function(n){tmp.push(dijit.range.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=dijit.range.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:dijit.range.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function $DUy_(cmd){if(this._steps.length===0){this._steps.push({"text":dijit._editor.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function $DUz_(_b52){var v=dijit._editor.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function $DU0_(e){if(!dojo.isIE&&!this.iframe&&e.keyCode==dojo.keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode,ks=dojo.keys;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){dojo.stopEvent(e);this.undo();return;}else{if(k==89||k==121){dojo.stopEvent(e);this.redo();return;}}}this.inherited(arguments);switch(k){case ks.ENTER:case ks.BACKSPACE:case ks.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(dojo.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(dojo.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break;}case ks.ALT:this.endEditing();break;case ks.UP_ARROW:case ks.DOWN_ARROW:case ks.LEFT_ARROW:case ks.RIGHT_ARROW:case ks.HOME:case ks.END:case ks.PAGE_UP:case ks.PAGE_DOWN:this.endEditing(true);break;case ks.CTRL:case ks.SHIFT:case ks.TAB:break;}},_onBlur:function $DU1_(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function $DU2_(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function $DU3_(){if(this._savedSelection){delete this._cursorToStart;if(dojo.withGlobal(this.window,"isCollapsed",dijit)){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function $DU4_(){this.endEditing(true);this.inherited(arguments);},replaceValue:function $DU5_(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&nbsp;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function $DU6_(_b53){var _b54=dojo.hitch(this,function(){if((!this.disabled&&_b53)||(!this._buttonEnabledPlugins&&_b53)){dojo.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_b53){dojo.forEach(this._plugins,function(p){p.set("disabled",false);});}}});this.setValueDeferred.addCallback(_b54);this.inherited(arguments);},_setStateClass:function $DU7_(){try{this.inherited(arguments);if(this.document&&this.document.body){dojo.style(this.document.body,"color",dojo.style(this.iframe,"color"));}}catch(e){}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _b55=dijit._editor._Plugin;var name=args.name;switch(name){case "undo":case "redo":case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":case "justifyCenter":case "justifyFull":case "justifyLeft":case "justifyRight":case "delete":case "selectAll":case "removeFormat":case "unlink":case "insertHorizontalRule":p=new _b55({command:name});break;case "bold":case "italic":case "underline":case "strikethrough":case "subscript":case "superscript":p=new _b55({buttonClass:dijit.form.ToggleButton,command:name});break;case "|":p=new _b55({button:new dijit.ToolbarSeparator(),setEditor:function(_b56){this.editor=_b56;}});}o.plugin=p;});}if(!dojo._hasResource["betterform.ui.textarea.HtmlEditor"]){dojo._hasResource["betterform.ui.textarea.HtmlEditor"]=true;dojo.provide("betterform.ui.textarea.HtmlEditor");dojo.declare("betterform.ui.textarea.HtmlEditor",[betterform.ui.ControlValue,dijit.Editor],{height:"100%;",buildRendering:function $DBl7_(){this.domNode=this.srcNodeRef;this.setCurrentValue(this.srcNodeRef.innerHTML);this._attachTemplateNodes(this.domNode);},postMixInProperties:function $DBl8_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},_onFocus:function $DBl9_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBmA_(){this.inherited(arguments);this.handleOnBlur();},onDisplayChanged:function $DBmB_(e){this.inherited(arguments);if(this.incremental){this.setControlValue();}},getControlValue:function $DBmC_(){var _b57=this.getValue(true);_b57=dojo.trim(_b57);_b57=_b57.replace("<br _moz_editor_bogus_node=\"TRUE\" />","");return _b57;},_handleSetControlValue:function $DBmD_(_b58){this.setValue(_b58);},applyState:function $DBmE_(){this.set("readOnly",this.xfControl.isReadonly());this.set("disabled",this.xfControl.isReadonly());}});}if(!dojo._hasResource["dijit.form.SimpleTextarea"]){dojo._hasResource["dijit.form.SimpleTextarea"]=true;dojo.provide("dijit.form.SimpleTextarea");dojo.declare("dijit.form.SimpleTextarea",dijit.form.TextBox,{baseClass:"dijitTextBox dijitTextArea",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{rows:"textbox",cols:"textbox"}),rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function $DCi_(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function $DCj_(){this.inherited(arguments);if(dojo.isIE&&this.cols){dojo.addClass(this.textbox,"dijitTextAreaCols");}},filter:function $DCk_(_b59){if(_b59){_b59=_b59.replace(/\r/g,"");}return this.inherited(arguments);},_previousValue:"",_onInput:function $DCl_(e){if(this.maxLength){var _b5a=parseInt(this.maxLength);var _b5b=this.textbox.value.replace(/\r/g,"");var _b5c=_b5b.length-_b5a;if(_b5c>0){if(e){dojo.stopEvent(e);}var _b5d=this.textbox;if(_b5d.selectionStart){var pos=_b5d.selectionStart;var cr=0;if(dojo.isOpera){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_b5b.substring(0,pos-_b5c-cr)+_b5b.substring(pos-cr);_b5d.setSelectionRange(pos-_b5c,pos-_b5c);}else{if(dojo.doc.selection){_b5d.focus();var _b5e=dojo.doc.selection.createRange();_b5e.moveStart("character",-_b5c);_b5e.text="";_b5e.select();}}}this._previousValue=this.textbox.value;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",dijit.form.SimpleTextarea,{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",_previousNewlines:0,_strictMode:(dojo.doc.compatMode!="BackCompat"),_getHeight:function $DCY_(_b5f){var newH=_b5f.scrollHeight;if(dojo.isIE){newH+=_b5f.offsetHeight-_b5f.clientHeight-((dojo.isIE<8&&this._strictMode)?dojo._getPadBorderExtents(_b5f).h:0);}else{if(dojo.isMoz){newH+=_b5f.offsetHeight-_b5f.clientHeight;}else{if(dojo.isWebKit){newH+=dojo._getBorderExtents(_b5f).h;}else{newH+=dojo._getPadBorderExtents(_b5f).h;}}}return newH;},_estimateHeight:function $DCZ_(_b60){_b60.style.maxHeight="";_b60.style.height="auto";_b60.rows=(_b60.value.match(/\n/g)||[]).length+1;},_needsHelpShrinking:dojo.isMoz||dojo.isWebKit,_onInput:function $DCa_(){this.inherited(arguments);if(this._busyResizing){return;}this._busyResizing=true;var _b61=this.textbox;if(_b61.scrollHeight&&_b61.offsetHeight&&_b61.clientHeight){var newH=this._getHeight(_b61)+"px";if(_b61.style.height!=newH){_b61.style.maxHeight=_b61.style.height=newH;}if(this._needsHelpShrinking){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this._setTimeoutHandle=setTimeout(dojo.hitch(this,"_shrink"),0);}}else{this._estimateHeight(_b61);}this._busyResizing=false;},_busyResizing:false,_shrink:function $DCb_(){this._setTimeoutHandle=null;if(this._needsHelpShrinking&&!this._busyResizing){this._busyResizing=true;var _b62=this.textbox;var _b63=false;if(_b62.value==""){_b62.value=" ";_b63=true;}var _b64=_b62.scrollHeight;if(!_b64){this._estimateHeight(_b62);}else{var _b65=_b62.style.paddingBottom;var _b66=dojo._getPadExtents(_b62);_b66=_b66.h-_b66.t;_b62.style.paddingBottom=_b66+1+"px";var newH=this._getHeight(_b62)-1+"px";if(_b62.style.maxHeight!=newH){_b62.style.paddingBottom=_b66+_b64+"px";_b62.scrollTop=0;_b62.style.maxHeight=this._getHeight(_b62)-_b64+"px";}_b62.style.paddingBottom=_b65;}if(_b63){_b62.value="";}this._busyResizing=false;}},resize:function $DCc_(){this._onInput();},_setValueAttr:function $DCd_(){this.inherited(arguments);this.resize();},buildRendering:function $DCe_(){this.inherited(arguments);dojo.style(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});},postCreate:function $DCf_(){this.inherited(arguments);this.connect(this.textbox,"onscroll","_onInput");this.connect(this.textbox,"onresize","_onInput");this.connect(this.textbox,"onfocus","_onInput");this._setTimeoutHandle=setTimeout(dojo.hitch(this,"resize"),0);},uninitialize:function $DCg_(){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.textarea.DojoEditor"]){dojo._hasResource["betterform.ui.textarea.DojoEditor"]=true;dojo.provide("betterform.ui.textarea.DojoEditor");dojo.declare("betterform.ui.textarea.DojoEditor",[betterform.ui.ControlValue,dijit.form.Textarea],{postMixInProperties:function $DBmN_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBmO_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DBmP_(){this.inherited(arguments);},_onBlur:function $DBmQ_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DBmR_(){return this._getValueAttr();},_onInput:function $DBmS_(){this.inherited(arguments);if(this.incremental){this.setControlValue();}},_handleSetControlValue:function $DBmT_(_b67){this._setValueAttr(_b67);}});}if(!dojo._hasResource["betterform.ui.textarea.SimpleTextarea"]){dojo._hasResource["betterform.ui.textarea.SimpleTextarea"]=true;dojo.provide("betterform.ui.textarea.SimpleTextarea");dojo.declare("betterform.ui.textarea.SimpleTextarea",[betterform.ui.ControlValue,dijit.form.SimpleTextarea],{postMixInProperties:function $DBmF_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DBmG_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DBmH_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DBmI_(){this.inherited(arguments);this.handleOnBlur();},_onInput:function $DBmJ_(e){this.inherited(arguments);if(this.incremental){this.setControlValue();}},getControlValue:function $DBmK_(){return this._getValueAttr();},applyState:function $DBmL_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"readonly","readonly");}else{if(dojo.hasAttr(this.domNode,"readonly")){dojo.removeAttr(this.domNode,"readonly");}else{if(dojo.hasAttr(this.domNode,"disabled")){dojo.removeAttr(this.domNode,"disabled");}}}},_handleSetControlValue:function $DBmM_(_b68){this._setValueAttr(_b68);}});}if(!dojo._hasResource["betterform.devtool"]){dojo._hasResource["betterform.devtool"]=true;dojo.provide("betterform.devtool");var inprogress=false;function toggleLog(){var _b69=dojo.byId("evtLogContainer");var _b6a=dojo.attr(_b69,"style");if(_b6a.length!=0){dojo.attr(_b69,"style","");}else{dojo.attr(_b69,"style","width:26px;height:26px;overflow:hidden;");}};function clearLog(){dojo.query("#eventLog li").forEach(function(node){dojo.destroy(node);});};function reveal(node){var id=node.innerHTML;var _b6b=dojo.byId(id);if(_b6b!=undefined&&inprogress==false){var _b6c=dojo.style(_b6b,"padding");dojox.fx.highlight({node:_b6b,color:"#0066FF",duration:1000,onBegin:function $DBtd_(){dojo.style(_b6b,"padding","10px");inprogress=true;},onEnd:function $DBte_(){dojo.style(_b6b,"padding",_b6c);inprogress=false;}}).play();}};function toggleEntry(node){var _b6d=dojo.query(".eventLogTable",node.parentNode)[0];var _b6e=dojo.attr(_b6d,"style");if(_b6e==undefined||_b6e.length==0){dojo.style(_b6d,"display","none");}else{dojo.style(_b6d,"display","");}};}if(!dojo._hasResource["betterform.BfRequiredFull"]){dojo._hasResource["betterform.BfRequiredFull"]=true;dojo.provide("betterform.BfRequiredFull");}dojo.i18n._preloadLocalizations("betterform.nls.betterform-Full",["ROOT","de","de-at","de-be","de-ch","de-de","de-li","de-lu","en","en-au","en-be","en-bw","en-bz","en-ca","en-gb","en-hk","en-ie","en-in","en-jm","en-mt","en-na","en-nz","en-ph","en-pk","en-sg","en-tt","en-us","en-za","en-zw","es","es-ar","es-cl","es-co","es-do","es-ec","es-es","es-gt","es-hn","es-mx","es-ni","es-pa","es-pe","es-pr","es-py","es-sv","es-us","es-uy","es-ve","et","eu","fr","fr-be","fr-ca","fr-ch","fr-lu","xx"]);
